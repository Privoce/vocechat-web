"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[744],{7933:(e,s,t)=>{t.d(s,{A:()=>c});var a,i=t(91118);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(null,arguments)}const r=({title:e,titleId:s,...t},r)=>i.createElement("svg",l({width:20,height:20,viewBox:"0 0 20 20",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":s},t),e?i.createElement("title",{id:s},e):null,a||(a=i.createElement("path",{d:"M6 4C6 2.89543 6.89543 2 8 2H14C15.1046 2 16 2.89543 16 4V14C16 15.1046 15.1046 16 14 16H8C6.89543 16 6 15.1046 6 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z"}))),c=(0,i.forwardRef)(r)},16084:(e,s,t)=>{t.d(s,{A:()=>N});var a=t(75949),i=(t(89027),t(6858)),l=t(28512),r=t(51461),c=t(31210),n=t(45646);const d=({uid:e,popover:s=!0,cid:t,textOnly:a=!1})=>{const d=(0,l.GV)((e=>e.users.byId),c.bN)[e];return d?a?(0,n.jsx)(n.Fragment,{children:`@${d.name}`}):s?(0,n.jsx)(i.Ay,{interactive:!0,placement:"top",trigger:"click",content:(0,n.jsx)(r.A,{uid:e,type:"card",cid:t}),children:(0,n.jsx)("span",{className:"px-0.5 text-primary-400 cursor-pointer",children:`@${d.name}`})}):(0,n.jsx)("span",{className:"px-0.5 text-primary-400",children:`@${d.name}`}):null};var o=t(91118),u=t(81205),x=t(77774);const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA51BMVEUAAABGiMdGiMdGiMdOiMdHicdHh8dGh8dGiMdGiMZGh8dGh8dGh8dHiMdGh8dGiMdGh8dHiMdGh8dGiMdGichHisRHiMZEhsZGh8hHiMZHh8dHiMff8P5HiMdKisnc7v3a7PzU6PpYlM5UkcxNjMqHtN+/2vOaweWpy+qew+aNuOFgmdB/rtx8rdt4qtqmyunP5fjK4vey0u50p9hrodXC3PNlndNblc9QjsuWvuRwpNa82PGCsN3D3fSTvOJon9RhmtFdmNCgxefF3/W21O+v0O2QuuKEst6jx+iJteDV6vuszey31fCy8/ecAAAAHHRSTlMAMP34CD21kdnn5O/t0szAq31nUSAenQ83i4B6ZYuUjgAABgtJREFUWMPVWGlj2jAMHdBjPdaWbm13+JmEhPsqJdxnD2C0+/+/Z7FskaxQepAv0wcIWHmyJFuW36f/XnZ2zy+/HCXgS+Loy+X57s42aN9/nibwTBKnP79/DO1b8jNIXK8Fp993MPZckHxOfns3XOwsDjhpYJK3slIOhWhKmbVqEyDtAPGz2Pvg9gC3POrAyQshepgJX4po+J95B51RWQJ7b4e82o/DzVzngKrtQ9zDfVSAjy6G/pddBXK2byx+efU2vK8HkAtbzICcUDJARpBkMKfvHDAT9kLi4Otb1sk+0MoKMYJ8otdTHdxrwHt0UvSQl+gKMfSAy51Xc3sCWVDvMJ64wUQYmeBBP0wlfqupSpy8ku/YIdJZXzVLbxiPuww4wsA83cEltTYONuZm9wg9lQDrFhlGSbPHvpNI8+McJUtlyMPR7ga8BKoWrRClzoFzxFIc1M2TNcGMvqtIvIgYO8IgJchhmWWM36gEgFUORKCTKuMo9kI+DlBNkc4ERcFSwV0AWAihFzHR2lUcXqxdLyfwtJ813FqC5RbDALCJkmCx2sjrddXDybrVs4/2o1a4RT54DTIVAKYkyBTb1UN2G/tr9gc4bnmlyNJHS4Rkgj4/kmGOZ3xlz1wdoLDUq4WjNggDlsMRrS0DkMPB1YrDnhl8QDvkZIbt8JuZUADavHPE+LnTsbjk2FfQDSH0cBMGvEEj9KuL8jJb8X/Xzh62lr1/J4jtJTzFs2AlNyjsLHXevSxp1EO/7oIILHAW2iNx95oH5mlbBGKnOQmcpGfDc368lvFgvyRREVtLBb+WgJ/xsD3gDT4vz3OkU9sDphxwB/ATCxGBZJA0gKe4iQJwilNTtxLyMQrAR5nY0YUfLVpgei2WAVdFdAaVeg+o6uMJuKb6DU8lFGOhfyFL+aDl2oI+DM4xEKTUU0ptAE1a4GqFF4FbIQgYUxUnMlsAXGMcBX3yV+jnuSk0OUFKjlqfgEKiGQ/JNiw/gy6AGQGreDcB1Mk4IxFuFz90YaCcNLVTefhS9gMCahNs7VQf0A50AFvjP5Fx7cBEOzU1BeILhtRxkPGM6tZKBEHbtAT8VrYx8UOrIEq6qGFGxlvKQEqScdHEFwI8xLVR6ipjPV/pUUWgq/sGZFRA21XgXkVgYHLUUMblQs1iaMJfN3vlGLZRqigXi3PgQQH90WUenvK00gVqgj58eaC0luDlgZHSGVGpwDEBJpAySiU1hZuamtwY0tJW4aopFPrAXFShq5clAVsZr6upFo1xCwkGNErS8sdsUnL5tHN8jALQtKT/zy33JS0fY6rcTaMjemScANllVsqOUVIYjg+64IKLp6pKSAvSlqjyvkVOGac5O2ScXOaksFJBqqCrnpfWBberaRX0hT9smlpKcJmM5+jfjDBJ4WXDSg2gRko9GCu0fijoT/Rv1tRnwOtgQMM9Ns7LZg9TVuoAdVJy0eZeRKp/H2jYVa6TqNiRccv/j4zrhc1bj5UAx+RQn7i8jaVlhr2g4PtS18NknLceFwdWoqCPgaARLAJo8fAsaFEAh4cr3Kecc/liJRP0BYD7oG4CCzMcVOImG5+aYqLLFxdYW0QgNhI7fARMowB8wunykMpEe0h9hxPNMRqL/KBnSaIcSSsSfbMUfTvHEkMEEou+JV7ftJc3Ne1T8pFltL5pNyVnvN214sfqxSdn1EofufgcXm26mrU3XM2ya65mfbqarbk82qxYe+HyaElprU7QTmN//fV2bPEU33O9tTy63q7Kt8PQBXx91Aoor17AG3wBX0cRlEmnKdF/B0VwHHsPiVF/gcQoGRKjgcTuRprFs7X6fDPNMljSLMe7rxFBfeWQi7tNRFABbnMzEcRycQKZo0wjv0JVlUJUVd5QVRevkmk/4kSmdSHzK2SaEybTmmMm016n+5AJ0X3z53Rfl+i+DHDI++MNk5TzMCFp04Zwcc+E5HXRRXz/6h2UqQ9ZUZRpjUpYMaBMa4oyrUjE92IfI3VLtYDUbVq10gdIXc73L0M7y/HY0M5jaWjnXxcfJMaT64jxZGxr6v5YwcYTx5q6/9/lLwwJNCus1PtUAAAAAElFTkSuQmCC";function M({url:e=""}){const s=(0,c.wA)(),[t,a]=(0,o.useState)(""),[i,{isLoading:r}]=(0,u.Q5)(),d=(0,l.GV)((s=>s.footprint.og[e]),c.bN),[M,m]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(d){var s;const e=(null===d||void 0===d?void 0:d.title)||(null===d||void 0===d?void 0:d.site_name)||"",t=(null===d||void 0===d?void 0:d.description)||"",i=(null===d||void 0===d||null===(s=d.images.find((e=>!!e.url)))||void 0===s?void 0:s.url)||"",l=(null===d||void 0===d?void 0:d.favicon_url)||j;a(l),m({title:e,description:t,ogImage:i})}else e&&i(e)}),[e,d]);if(r)return(0,n.jsx)("div",{className:"h-28"});if(!e||!M||!M.title)return null;const{title:g,description:N,ogImage:h}=M,p="flex items-center border border-solid border-gray-300 dark:border-gray-600 box-border rounded-md w-[80%] md:w-[380px]";return h?(0,n.jsxs)("a",{className:`${p} flex-col !items-start p-3`,href:e,target:"_blank",rel:"noreferrer",children:[(0,n.jsx)("h3",{className:"text-primary-500 w-full truncate",children:g}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mb-2 w-full truncate",children:N}),(0,n.jsx)("div",{className:"w-full h-[180px]",children:(0,n.jsx)("img",{className:"w-full h-full object-cover",onError:()=>{s((0,x.M3)({key:e,value:{...d,images:[]}}))},src:h,alt:"og image"})})]}):(0,n.jsxs)("a",{className:`${p} gap-2  px-2 py-3`,href:e,target:"_blank",rel:"noreferrer",children:[t&&(0,n.jsx)("div",{className:"flex rounded",children:(0,n.jsx)("img",{className:"object-contain w-12 h-12",onError:()=>{a(j)},src:t,alt:"favicon"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("h3",{className:"text-sm text-gray-900 dark:text-gray-100",children:g}),(0,n.jsx)("p",{className:"hidden md:block text-xs text-gray-500 w-[288px] truncate",children:N}),(0,n.jsx)("span",{className:"text-[10px] text-gray-500 w-[288px] truncate",children:e})]})]})}var m=t(17159),g=t(32639);const N=({url:e=!0,mention:s=!0,mentionTextOnly:t=!1,mentionPopOver:i=!0,linkPreview:l=!0,text:r,cid:c})=>{const{getExtSetting:o}=(0,m.A)({successTip:!1,key:g.hp}),u=o()&&l;return(0,n.jsx)(a.A,{options:{render:{email:({content:e,attributes:{href:s}})=>t?(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)("a",{className:"text-primary-500",href:s,rel:"noreferrer",children:e}),url:({content:s,attributes:{href:t}})=>e&&s.startsWith("http")?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{className:"text-primary-500",target:"_blank",href:t,rel:"noreferrer",children:s}),u&&(0,n.jsx)(M,{url:t})]}):(0,n.jsx)(n.Fragment,{children:s}),mention:({content:e})=>{if(!s)return(0,n.jsx)(n.Fragment,{children:e});if(/@[0-9]+/.test(e)){const s=e.trim().slice(1);return(0,n.jsx)(d,{uid:+s,cid:c,popover:i,textOnly:t})}return(0,n.jsx)(n.Fragment,{children:e})}}},children:r})}},19926:(e,s,t)=>{t.d(s,{A:()=>x});var a=t(91118),i=t(90184),l=t(23558),r=t(56966),c=t(36421),n=t(68702),d=t(71040),o=t(95351),u=t(45646);const x=({closeModal:e})=>{const{t:s}=(0,l.Bd)("member"),{t:t}=(0,l.Bd)(),{data:x}=(0,r.kU)(),[j,M]=(0,a.useState)({current:"",newPassword:"",confirmPassword:""}),[m,{isLoading:g,isSuccess:N}]=(0,r.zo)(),h=e=>{const{type:s}=e.target.dataset;M((t=>({...t,[s]:e.target.value})))};(0,a.useEffect)((()=>{N&&(i.Ay.success(t("tip.update")),e())}),[N]);const{current:p,newPassword:_,confirmPassword:D}=j,y=(null===x||void 0===x?void 0:x.password)&&!p||!_||!D||_!==D||g,w="my-4 w-full flex flex-col items-start gap-2",f="text-gray-400 font-semibold";return(0,u.jsx)(c.A,{id:"modal-modal",children:(0,u.jsxs)(o.A,{title:s("change_pwd"),description:s("change_pwd_desc"),buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{className:"cancel",onClick:e,children:s("action.cancel",{ns:"common"})}),(0,u.jsx)(n.A,{disabled:y,onClick:()=>{const{current:e,newPassword:s}=j;m({old_password:e,new_password:s})},children:g?"Updating":s("action.update",{ns:"common"})})]}),children:[(null===x||void 0===x?void 0:x.password)&&(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("label",{className:f,htmlFor:"current",children:s("current_pwd")}),(0,u.jsx)(d.A,{type:"password",id:"current",name:"current",value:p,"data-type":"current",onChange:h})]}),(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("label",{className:f,htmlFor:"newPassword",children:s("new_pwd")}),(0,u.jsx)(d.A,{type:"password",name:"newPassword",value:_,"data-type":"newPassword",onChange:h})]}),(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("label",{className:f,htmlFor:"confirmPassword",children:s("confirm_new_pwd")}),(0,u.jsx)(d.A,{onBlur:()=>{const{newPassword:e,confirmPassword:s}=j;e!==s&&i.Ay.error("Not same with new password")},type:"password",name:"confirmPassword",value:D,"data-type":"confirmPassword",onChange:h})]})]})})}},27455:(e,s,t)=>{t.d(s,{A:()=>x});var a=t(91118),i=t(90184),l=t(23558),r=t(56966),c=t(36421),n=t(68702),d=t(95351),o=t(84667),u=t(45646);const x=({closeModal:e})=>{const{t:s}=(0,l.Bd)("member"),[t,{isLoading:x,isSuccess:j}]=(0,r.fe)(),{clearLocalData:M}=(0,o.A)();return(0,a.useEffect)((()=>{j&&M(!0)}),[j]),(0,u.jsx)(c.A,{id:"modal-modal",children:(0,u.jsx)(d.A,{title:s("remove_account"),description:s("remove_account_desc"),buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{onClick:e,children:s("action.cancel",{ns:"common"})}),(0,u.jsx)(n.A,{disabled:x,onClick:async()=>{try{await t()}catch(e){console.error(e),i.Ay.error("Remove Account Failed!")}},className:"danger",children:s("remove")})]})})})}},41694:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(91118),i=t(69259);function l(){const[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)(""),{data:r}=(0,i.LX)(void 0,{refetchOnMountOrArgChange:!0}),[c,{isSuccess:n}]=(0,i.pA)();(0,a.useEffect)((()=>{r&&l(r.client_id)}),[r]),(0,a.useEffect)((()=>{s(!n&&(null===r||void 0===r?void 0:r.client_id)!==t)}),[r,t,n]);return{config:r,changed:e,clientId:t,updateClientId:l,updateClientIdToServer:async()=>{t&&await c({client_id:t})},updateGoogleAuthConfig:c,isSuccess:n}}},42391:(e,s,t)=>{t.d(s,{A:()=>c});var a,i=t(91118);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(null,arguments)}const r=({title:e,titleId:s,...t},r)=>i.createElement("svg",l({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":s},t),e?i.createElement("title",{id:s},e):null,a||(a=i.createElement("path",{d:"M12 3.25C13.4346 3.25 14.6126 4.34848 14.7388 5.75019L19 5.75C19.4142 5.75 19.75 6.08579 19.75 6.5C19.75 6.8797 19.4678 7.19349 19.1018 7.24315L19 7.25H18.417L17.1499 18.2292C17.0335 19.2384 16.179 20 15.1631 20H8.83688C7.821 20 6.9665 19.2384 6.85006 18.2292L5.582 7.25H5C4.6203 7.25 4.30651 6.96785 4.25685 6.60177L4.25 6.5C4.25 6.1203 4.53215 5.80651 4.89823 5.75685L5 5.75L9.26119 5.75019C9.38741 4.34848 10.5654 3.25 12 3.25ZM10.5 9.5C10.2545 9.5 10.0504 9.65477 10.0081 9.85886L10 9.9375V16.0625L10.0081 16.1411C10.0504 16.3452 10.2545 16.5 10.5 16.5C10.7455 16.5 10.9496 16.3452 10.9919 16.1411L11 16.0625V9.9375L10.9919 9.85886C10.9496 9.65477 10.7455 9.5 10.5 9.5ZM13.5 9.5C13.2545 9.5 13.0504 9.65477 13.0081 9.85886L13 9.9375V16.0625L13.0081 16.1411C13.0504 16.3452 13.2545 16.5 13.5 16.5C13.7455 16.5 13.9496 16.3452 13.9919 16.1411L14 16.0625V9.9375L13.9919 9.85886C13.9496 9.65477 13.7455 9.5 13.5 9.5ZM12 4.75C11.3952 4.75 10.8908 5.17947 10.775 5.75005H13.225C13.1092 5.17947 12.6048 4.75 12 4.75Z",fill:"#D92D20"}))),c=(0,i.forwardRef)(r)},49418:(e,s,t)=>{t.d(s,{A:()=>c});var a,i=t(91118);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(null,arguments)}const r=({title:e,titleId:s,...t},r)=>i.createElement("svg",l({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":s},t),e?i.createElement("title",{id:s},e):null,a||(a=i.createElement("path",{d:"M13.7036 5.75927L18.2405 10.2962L9.33146 19.2052C9.08325 19.4534 8.77457 19.6325 8.43593 19.7249L3.84998 20.9756C3.34808 21.1124 2.88755 20.6519 3.02443 20.15L4.27515 15.5641C4.3675 15.2254 4.54664 14.9167 4.79484 14.6685L13.7036 5.75927ZM20.0604 3.93956C21.3132 5.19232 21.3132 7.22343 20.0604 8.47618L19.1907 9.34506L14.6538 4.80903L15.5238 3.93956C16.7766 2.68681 18.8077 2.68681 20.0604 3.93956Z"}))),c=(0,i.forwardRef)(r)},54979:(e,s,t)=>{t.d(s,{A:()=>n,X:()=>c});var a=t(23558),i=t(6527),l=t(64117),r=t(45646);const c={en:"English",zh:"\u4e2d\u6587",tr:"T\xfcrk\xe7e",jp:"\u65e5\u672c\u8a9e",pt:"Portuguese",de:"Deutsch",fr:"Fran\xe7ais",es:"Espa\xf1ol",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},n=({context:e="overview",callback:s})=>{const{t:t,i18n:n}=(0,a.Bd)("setting");return(0,r.jsx)(i.A,{title:"overview"==e?t("overview.lang.title"):"",desc:t("overview.lang.desc"),children:(0,r.jsx)(l.A,{options:Object.values(c),values:Object.keys(c),value:n.language.split("-")[0],onChange:e=>{const t=e;(e=>{n.changeLanguage(e)})(t),null===s||void 0===s||s(c[t])}})})}},68654:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(91118),i=t(69259),l=t(28512),r=t(31210),c=t(86006);const n=(e=!1)=>{var s;const t=(0,r.wA)(),n=(0,l.GV)((e=>e.users.ids.length),r.bN),d=(0,l.GV)((e=>e.server.upgraded),r.bN),o=(0,l.GV)((e=>e.authData.guest),r.bN),{data:u,refetch:x,isLoading:j}=(0,i.xI)(void 0,{refetchOnMountOrArgChange:e,skip:o}),[M,{isLoading:m,isSuccess:g}]=(0,i._8)(),[N,{isSuccess:h,isLoading:p,reset:_}]=(0,i.bb)();(0,a.useEffect)((()=>{h&&(x(),_())}),[h]);const D=null!==(s=null===u||void 0===u?void 0:u.user_limit)&&void 0!==s?s:Number.MAX_SAFE_INTEGER;return(0,a.useEffect)((()=>{D>20&&t((0,c.CI)({upgraded:!0}))}),[D]),{upgraded:d,reachLimit:n>=D,license:u,checked:g,isLoading:j,checking:m,upserting:p,upserted:h,checkLicense:e=>{M(e)},upsertLicense:async e=>{const s=await M(e);return!(!("data"in s)||!s.data.sign)&&await N(e)}}}},75942:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>MyAccount});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91118),react_hot_toast__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90184),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23558),_app_services_user__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(107),_app_store__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28512),_components_AvatarUploader__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(93748),_components_styled_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(68702),_ProfileBasicEditModal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(95327),_RemoveAccountConfirmModal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(27455),_UpdatePasswordModal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(19926),react_redux__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(31210),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(45646);function MyAccount(){const{t:t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.Bd)("member"),{t:ct}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.Bd)(),[passwordModal,setPasswordModal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[editModal,setEditModal]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[removeConfirmVisible,setRemoveConfirmVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[uploadAvatar,{isSuccess:uploadSuccess}]=(0,_app_services_user__WEBPACK_IMPORTED_MODULE_3__.pl)(),EditModalInfo={name:{label:t("username"),title:t("change_name"),intro:t("change_name_desc")},email:{label:t("email"),title:t("change_email"),intro:t("change_email_desc")}},loginUser=(0,_app_store__WEBPACK_IMPORTED_MODULE_4__.GV)((e=>{var s;return e.users.byId[(null===(s=e.authData.user)||void 0===s?void 0:s.uid)||0]}),react_redux__WEBPACK_IMPORTED_MODULE_11__.bN);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{uploadSuccess&&react_hot_toast__WEBPACK_IMPORTED_MODULE_1__.Ay.success(ct("tip.update"))}),[uploadSuccess]);const handleBasicEdit=e=>{const{edit:s}=e.currentTarget.dataset;setEditModal(s)},closeBasicEditModal=()=>{setEditModal("")},togglePasswordModal=()=>{setPasswordModal((e=>!e))},toggleRemoveAccountModalVisible=()=>{setRemoveConfirmVisible((e=>!e))};if(!loginUser)return null;const{uid:uid,avatar:avatar,name:name,email:email}=loginUser;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col items-start gap-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"md:p-6 flex flex-col items-center w-full md:w-[512px] md:bg-gray-100 md:dark:bg-gray-800 md:rounded-2xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_components_AvatarUploader__WEBPACK_IMPORTED_MODULE_5__.A,{url:avatar,name:name,uploadImage:uploadAvatar}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"mt-2 mb-16 font-bold text-lg text-gray-800 dark:text-white",children:[name," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"font-normal text-gray-500",children:["#",uid]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"w-full flex items-start justify-between mb-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("email")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-sm",children:email})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full flex items-start justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("username")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"text-sm ",children:[name," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[" #",uid]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_components_styled_Button__WEBPACK_IMPORTED_MODULE_6__.A,{"data-edit":"name",onClick:handleBasicEdit,className:"",children:ct("action.edit")})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"w-full flex items-start justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex flex-col text-gray-500 dark:text-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-xs uppercase  font-semibold",children:t("password")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"text-sm",children:"*********"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_components_styled_Button__WEBPACK_IMPORTED_MODULE_6__.A,{onClick:togglePasswordModal,children:ct("action.edit")})]})]}),1!=uid&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_components_styled_Button__WEBPACK_IMPORTED_MODULE_6__.A,{className:"danger",onClick:toggleRemoveAccountModalVisible,children:t("delete_account")})]}),editModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ProfileBasicEditModal__WEBPACK_IMPORTED_MODULE_7__.A,{type:"email"==editModal?"email":"text",valueKey:editModal,...EditModalInfo[editModal],value:eval(editModal),closeModal:closeBasicEditModal}),passwordModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_UpdatePasswordModal__WEBPACK_IMPORTED_MODULE_9__.A,{closeModal:togglePasswordModal}),removeConfirmVisible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_RemoveAccountConfirmModal__WEBPACK_IMPORTED_MODULE_8__.A,{closeModal:toggleRemoveAccountModalVisible})]})}},79190:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(91118),i=t(69259);function l(){const[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)(),{data:r}=(0,i.Hx)(void 0,{refetchOnMountOrArgChange:!0}),[c,{isSuccess:n}]=(0,i.Vi)();(0,a.useEffect)((()=>{r&&l(r)}),[r]),(0,a.useEffect)((()=>{s(!n&&JSON.stringify(r)!==JSON.stringify(t))}),[r,t,n]);return{config:t,changed:e,updateGithubAuthConfig:e=>{l((s=>s?{...s,...e}:e))},updateGithubAuthConfigToServer:async()=>{t&&await c(t)},isSuccess:n}}},85652:(e,s,t)=>{t.d(s,{A:()=>c});var a,i=t(91118);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(null,arguments)}const r=({title:e,titleId:s,...t},r)=>i.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"#6C737F",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":s},t),e?i.createElement("title",{id:s},e):null,a||(a=i.createElement("path",{d:"M8.11904 0C3.91105 0 0.5 3.41105 0.5 7.61905C0.5 11.827 3.91105 15.2381 8.11904 15.2381C12.3271 15.2381 15.7381 11.827 15.7381 7.61905C15.7381 3.41105 12.3263 0 8.11904 0ZM11.7053 10.128L10.628 11.2053L8.11904 8.69714L5.61009 11.2053L4.53277 10.128L7.04095 7.61905L4.532 5.1101L5.60934 4.03353L8.11829 6.54248L10.6272 4.03353L11.7045 5.1101L9.19638 7.61905L11.7053 10.128Z"}))),c=(0,i.forwardRef)(r)},89953:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_s});var a=t(91118),i=t(23558),l=t(86938),r=t(27416),c=t(90184),n=t(36421),d=t(68702),o=t(19817),u=t(95351),x=t(84667),j=t(45646);const M=({closeModal:e})=>{const{t:s}=(0,i.Bd)("auth"),{t:t}=(0,i.Bd)(),[l,r]=(0,a.useState)(!1),{logout:M,exited:m,exiting:g,clearLocalData:N}=(0,x.A)();return(0,a.useEffect)((()=>{m&&(l&&N(),c.Ay.success(t("tip.logout")))}),[m,l]),(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:s("logout.title"),description:s("logout.desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:e,children:t("action.cancel")}),(0,j.jsx)(d.A,{onClick:()=>{M()},className:"danger",children:g?"Logging out":t("action.logout")})]}),children:(0,j.jsxs)("div",{className:"text-sm text-gray-400 flex justify-end items-center",children:[(0,j.jsx)("label",{htmlFor:"clear_cb",className:"cursor-pointer text-orange-500 mr-3",children:s("logout.clear_local")}),(0,j.jsx)(o.A,{className:" cursor-pointer",name:"clear_cb",checked:l,onChange:e=>{r(e.target.checked)}})]})})})};var m=t(28512),g=t(24857),N=t(64214),h=t(65209),p=t.n(h),_=t(56025),D=t(31210),y=t(86560);const w=()=>{var e;const s=(0,m.GV)((e=>e.server.version),D.bN),[t,l]=(0,a.useState)(!1),{t:r}=(0,i.Bd)("setting",{keyPrefix:"version"}),c=null!==(e="1754576710")?e:0;return(0,j.jsxs)("ul",{className:"flex flex-col gap-2 dark:text-white",children:[(0,j.jsxs)("li",{children:[r("client_version"),": ","0.9.11"]}),(0,j.jsxs)("li",{children:[r("server_version"),": ",s]}),(0,j.jsxs)("li",{children:[r("build_time"),": ",c," ",(0,j.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:["(",p()(1e3*c).fromNow(),")"]})]}),(0,j.jsx)("li",{children:(0,j.jsxs)(d.A,{disabled:t,onClick:()=>{l(!0),(0,_.h)(),setTimeout((()=>{(0,y.Mm)()}),2e3)},children:[" ",t?(0,j.jsx)(N.A,{size:18,color:"#fff"}):r("sync")]})})]})};var f=t(6858),A=t(20446),v=t(69259),I=t(71040),b=t(53186),T=t(96641);let k;function L(e="smtp"){const{t:s}=(0,i.Bd)(),[t,l]=(0,a.useState)(!1),[r,n]=(0,a.useState)(void 0),[d,{isSuccess:o,isLoading:u}]=(0,v.n6)(),[x,{isSuccess:j,isLoading:M}]=(0,v.q)(),[m,{isSuccess:g,isLoading:N}]=(0,v.u9)(),[h,{isSuccess:p,isLoading:_}]=(0,v.JW)(),{refetch:D,data:y}=(0,v.ud)(void 0,{skip:"agora"!==e}),{refetch:w,data:f}=(0,v.T7)(void 0,{skip:"login"!==e}),{refetch:A,data:I}=(0,v.Mu)(void 0,{skip:"smtp"!==e}),{refetch:b,data:L}=(0,v.rt)(void 0,{skip:"firebase"!==e}),E={login:d,smtp:x,agora:m,firebase:h}[e],O={smtp:A,agora:D,firebase:b,login:w}[e],C={login:o,smtp:j,agora:g,firebase:p}[e],z={login:u,smtp:M,agora:N,firebase:_}[e];return(0,a.useEffect)((()=>{C&&(c.Ay.success(s("tip.update")),O())}),[C]),(0,a.useEffect)((()=>{const e=I||L||f||y;e&&(k=e,n(e))}),[I,L,f,y]),(0,a.useEffect)((()=>{r&&0!=Object.keys(r).length&&((0,T.isEqual)(k,r)?l(!1):l(!0))}),[r]),{originalValues:k,updating:z,updated:C,reset:()=>{n(void 0)},changed:t,updateConfig:E,agoraConfig:y,values:r,setValues:n,toggleEnable:()=>{n((e=>e&&"enabled"in e?{...e,enabled:!e.enabled}:e))}}}function E(){const{t:e}=(0,i.Bd)("setting"),{t:s}=(0,i.Bd)(),{updateConfig:t,values:l}=L("login"),{data:r}=(0,v.B)(),[n,{data:o,isSuccess:u,isLoading:x}]=(0,v.jJ)();(0,a.useEffect)((()=>{u&&((0,A.cJ)(),c.Ay.success(s("tip.update")))}),[u]);const M=null===l||void 0===l?void 0:l.third_party;return(0,j.jsxs)("div",{className:"max-w-[500px] flex flex-col gap-4 items-start",children:[(0,j.jsx)(b.A,{onClick:(e=>{t({...l,...e})}).bind(null,{third_party:!M}),checked:M}),(0,j.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,j.jsxs)("label",{htmlFor:"secret",className:"text-sm text-gray-500 dark:text-gray-100",children:[" ",e("third_app.key"),":"]}),(0,j.jsx)(I.A,{disabled:!M,type:"password",id:"secret",value:o||r})]}),(0,j.jsx)(f.Ay,{interactive:!0,placement:"right-start",trigger:"click",content:(0,j.jsxs)("div",{className:"p-3 rounded-lg border border-orange-400 border-solid flex flex-col gap-3 w-[250px] bg-white",children:[(0,j.jsx)("div",{className:"text-orange-500 text-xs",children:e("third_app.update_tip")}),(0,j.jsxs)("div",{className:"flex justify-end gap-3 w-full",children:[(0,j.jsx)(d.A,{onClick:()=>(0,A.cJ)(),className:"cancel mini",children:s("action.cancel")}),(0,j.jsx)(d.A,{disabled:x,className:"mini danger",onClick:()=>n(),children:s("action.yes")})]})]}),children:(0,j.jsxs)(d.A,{disabled:!M,children:[" ",e("third_app.update")]})}),(0,j.jsxs)("div",{className:"text-xs text-orange-400",children:[e("third_app.key_tip"),(0,j.jsxs)("a",{className:"text-primary-500 font-bold",href:"https://doc.voce.chat/login-with-other-account",target:"_blank",rel:"noopener noreferrer",children:["\ud83d\udd17 ",e("third_app.how_to")]})]})]})}var O=t(7933),C=t(24168);const z=`${location.origin}/api/swagger`,S=()=>{const e=(0,m.GV)((e=>e.authData.token),D.bN),{copy:s}=(0,C.A)(),{t:t}=(0,i.Bd)("setting");return(0,j.jsxs)("section",{className:"flex flex-col justify-start items-start gap-4",children:[(0,j.jsx)("div",{className:"font-semibold dark:text-white",children:t("api_doc.desc")}),(0,j.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,j.jsxs)("h2",{className:"text-gray-700 dark:text-white text-lg font-semibold flex gap-1",children:[t("api_doc.access"),(0,j.jsx)("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"underline text-primary-600",children:z})]})}),(0,j.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,j.jsx)("h2",{className:"text-gray-700 dark:text-white text-lg font-semibold",children:t("api_doc.use_method")}),(0,j.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsx)("h3",{className:"text-gray-700 dark:text-white ",children:t("api_doc.step_1")}),(0,j.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[50%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step1.png",alt:"step 1"})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsxs)("h3",{className:"text-gray-700 dark:text-white flex flex-col items-start gap-2",children:[t("api_doc.step_2")," ",(0,j.jsxs)("span",{className:"text-gray-400 dark:text-white text-xs",children:["(",t("api_doc.step_2_desc"),")"]})]}),(0,j.jsx)("div",{className:"flex flex-col border border-solid border-green-500 bg-green-100 rounded-md p-2 w-fit break-words text-sm relative",children:(0,j.jsxs)("p",{className:"break-all md:max-w-4xl font-bold",children:[e,(0,j.jsx)(O.A,{onClick:()=>{s(e)},className:"absolute right-2 bottom-2 cursor-pointer"})]})}),(0,j.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[85%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step2.jpg",alt:"step 2"})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsx)("h3",{className:"text-gray-700 dark:text-white flex items-center gap-2",children:t("api_doc.last")}),(0,j.jsx)("img",{className:"border border-solid rounded-md border-gray-300 shadow-lg md:w-[85%]",src:"https://s.voce.chat/web_client/assets/img/api.doc.step3.png",alt:"step 3"})]})]})]})]})};var U=t(107),P=t(93748),Y=t(42391),B=t(66514),Q=t(67891);const R=({closeModal:e,uid:s})=>{const{copy:t}=(0,C.A)(),[l,{error:r,isSuccess:o,isLoading:x,data:M=""}]=(0,U.zr)(),m=(0,a.useRef)(null),{t:g}=(0,i.Bd)("setting",{keyPrefix:"bot"}),{t:N}=(0,i.Bd)();(0,a.useEffect)((()=>{if(r)switch(r.status){case 406:c.oR.error("Invalid Webhook URL!");break;case 409:c.oR.error("Name Already Exists!")}}),[r]);return(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:g("create_key_title"),description:g("create_key_desc"),buttons:o?(0,j.jsx)(d.A,{onClick:()=>{t(M),c.oR.success("API Key Copied!"),e()},children:g("key_copy_and_close")}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:e,children:N("action.cancel")}),(0,j.jsx)(d.A,{onClick:()=>{var e;if(!m||!m.current)return;const t=m.current;t.checkValidity()?l({uid:s,name:(null===(e=t.querySelector("input"))||void 0===e?void 0:e.value)||""}):t.reportValidity()},children:x?"...":N("action.done")})]}),children:o?(0,j.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,j.jsx)("div",{className:"border-green-600 bg-green-200/50 rounded border border-solid p-2 max-w-md w-full whitespace-pre-wrap break-all",children:M})," ",(0,j.jsxs)("div",{className:"text-red-400",children:["\u26a0\ufe0f ",g("create_key_warning")]})]}):(0,j.jsx)("form",{ref:m,className:"w-full flex flex-col gap-2 items-center",action:"/",children:(0,j.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,j.jsx)("label",{htmlFor:"name",className:"text-sm text-gray-500",children:"Name"}),(0,j.jsx)(I.A,{name:"name",required:!0,placeholder:"Please input API Key name"})]})})})})},G=({closeModal:e,uid:s,kid:t})=>{const[l,{isSuccess:r,isLoading:o}]=(0,U.fM)(),{t:x}=(0,i.Bd)("setting",{keyPrefix:"bot"}),{t:M}=(0,i.Bd)();return(0,a.useEffect)((()=>{r&&(c.oR.success(M("tip.delete")),e())}),[r]),(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:`${x("delete_key_title")} ${name}`,description:x("delete_key_desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:e,children:M("action.cancel")}),(0,j.jsx)(d.A,{className:"danger",onClick:()=>{l({uid:s,kid:t})},children:o?"Deleting":M("action.done")})]})})})},V="p-1 whitespace-nowrap text-xs text-gray-500 dark:text-gray-200 align-middle px-1",W=({uid:e})=>{const{t:s}=(0,i.Bd)("setting",{keyPrefix:"bot"}),[t,l]=(0,a.useState)(),[r,c]=(0,a.useState)(),{data:n,refetch:d}=(0,U.Xf)(e),o=e=>{e||d(),l(e)},u=e=>{e||d(),c(e)};if(!n)return null;const x=["w-20","w-[166px]","w-36","w-15","w-10"];return(0,j.jsxs)("div",{className:"flex flex-col gap-2 items-start",children:[(0,j.jsxs)("div",{className:"border-t border-solid border-b border-gray-100 dark:border-gray-500 py-2 w-full",children:[(0,j.jsxs)("table",{className:"min-w-full table-fixed font-mono",children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:[s("col_key_name"),s("col_key_value"),s("col_key_create_time"),s("col_key_last_used"),""].map(((e,s)=>(0,j.jsx)("th",{scope:"col",className:(0,B.A)("text-xs text-gray-900 dark:text-gray-50 px-1 text-left pb-2",x[s]),children:e},e)))})}),(0,j.jsx)("tbody",{children:n.length>0?n.map((s=>{const{id:t,name:a,key:i,created_at:l,last_used:r}=s;return(0,j.jsxs)("tr",{className:"group",children:[(0,j.jsx)("td",{className:V,children:a}),(0,j.jsx)("td",{className:`${V} w-40`,children:`${i.slice(0,4)} ... ... ${i.slice(-6)}`}),(0,j.jsx)("td",{className:V,children:p()(l).format("YYYY-MM-DD HH:mm:ss")}),(0,j.jsx)("td",{className:V,children:r?p()(r).format("YYYY-MM-DD HH:mm:ss"):"Unused"}),(0,j.jsx)("td",{className:`${V} invisible group-hover:visible`,children:(0,j.jsx)("button",{onClick:u.bind(null,{kid:t,uid:e}),children:(0,j.jsx)(Y.A,{})})})]},t)})):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:4,className:"text-center text-xs text-gray-400 py-2",children:s("no_api_key")})})})]}),(0,j.jsxs)("button",{onClick:o.bind(null,e),className:"text-green-600 text-xs py-0.5 flex items-center gap-1 m-auto my-2 bg-green-50 rounded-full px-2 ",children:[(0,j.jsx)(Q.A,{className:"!w-4 !h-4 fill-green-600"})," ",s("add_api_key")]})]}),t&&(0,j.jsx)(R,{uid:t,closeModal:o.bind(null,void 0)}),r&&(0,j.jsx)(G,{uid:r.uid,kid:r.kid,closeModal:u.bind(null,void 0)})]})};var F=t(32639);const K=({closeModal:e})=>{const[s,{isSuccess:t,isLoading:l,error:r}]=(0,U.i0)(),{t:o}=(0,i.Bd)("setting",{keyPrefix:"bot"}),[x,M]=(0,a.useState)({name:"",webhook_url:""}),{t:m}=(0,i.Bd)(),g=e=>{const{value:s}=e.target,{name:t=""}=e.target.dataset;M((e=>({...e,[t]:s})))};(0,a.useEffect)((()=>{if(r)switch(r.status){case 406:c.oR.error("Invalid Webhook URL!");break;case 409:c.oR.error("Name conflict with existed username, try the proposed name below."),M((e=>({...e,name:`${e.name}-bot`})))}}),[r]),(0,a.useEffect)((()=>{t&&(c.oR.success("Create Bot Successfully!"),e())}),[t]);const{name:N,webhook_url:h}=x;return(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:o("create_title"),description:o("create_desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:e,children:m("action.cancel")}),(0,j.jsx)(d.A,{disabled:!x.name,onClick:()=>{if(""===x.name.trim())return;const{name:e,webhook_url:t}=x,a=new URL(F.tx).hostname;s({is_bot:!0,is_admin:!1,gender:1,email:`bot_${(new Date).getTime()}@${a}`,password:"",name:e,webhook_url:""===t.trim()?void 0:t})},children:l?"Creating":m("action.done")})]}),children:(0,j.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,j.jsxs)("div",{className:"flex flex-col items-start gap-1 w-full",children:[(0,j.jsx)("label",{htmlFor:"name",className:"text-sm text-gray-500",children:"Name"}),(0,j.jsx)(I.A,{onChange:g,value:N,"data-name":"name",placeholder:"Please input bot name"})]}),(0,j.jsxs)("div",{className:"flex flex-col items-start gap-1 w-full",children:[(0,j.jsx)("label",{htmlFor:"webhook_url",className:"text-sm text-gray-500",children:"Webhook URL (Optional)"}),(0,j.jsx)(I.A,{onChange:g,value:h,"data-name":"webhook_url",type:"url",placeholder:"Please input webhook url"})]})]})})})},Z=({closeModal:e,uid:s,name:t})=>{const[l,{isSuccess:r,isLoading:o}]=(0,U.Gv)(),{t:x}=(0,i.Bd)("setting",{keyPrefix:"bot"}),{t:M}=(0,i.Bd)();return(0,a.useEffect)((()=>{r&&(c.oR.success(M("tip.delete")),e())}),[r]),(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:`${x("delete_title")} ${t}`,description:x("delete_desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:e.bind(null),children:M("action.cancel")}),(0,j.jsx)(d.A,{className:"danger",onClick:()=>{l(s)},children:o?"Deleting":M("action.done")})]})})})};var H,J=t(33574),X=t(85652),q=t(49418);function $(){return $=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},$.apply(null,arguments)}const ee=({title:e,titleId:s,...t},i)=>a.createElement("svg",$({width:24,height:24,viewBox:"0 0 24 24",stroke:"#616161",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,H||(H=a.createElement("path",{d:"M17 21V13H7V21M7 3V8H15M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),se=(0,a.forwardRef)(ee),te=({uid:e})=>{const s=(0,a.useRef)(null),[t,i]=(0,a.useState)(!1),[l,r]=(0,a.useState)(""),{data:n,isSuccess:d,refetch:o}=(0,U.pR)(e),[u,{isSuccess:x,isLoading:M}]=(0,U.H7)();(0,a.useEffect)((()=>{d&&n&&r(n.name||"")}),[n,d]),(0,a.useEffect)((()=>{x&&o()}),[x]);const m=async()=>{if(t&&s){const t=s.current;if(null===t||void 0===t||!t.checkValidity())return void(null===t||void 0===t||t.reportValidity());const a=new FormData(t).get("name"),i=await u({id:e,name:a});if("error"in i){if(409===i.error.status)c.oR.error("Conflict with existed username");return}}i((e=>!e))};return(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("form",{action:"/",ref:s,onSubmit:e=>{e.preventDefault(),m()},children:(0,j.jsx)("input",{readOnly:!t,required:!0,autoFocus:!0,name:"name",defaultValue:l,className:(0,B.A)("text-gray-900 dark:text-gray-100 w-auto",t?"ring-1 ring-gray-500 bg-gray-50 px-2 py-1 dark:bg-slate-900":"bg-transparent")})}),(0,j.jsx)("button",{type:"button",title:"edit name",disabled:M,onClick:m,children:M?(0,j.jsx)(J.A,{size:16}):t?(0,j.jsx)(se,{className:"stroke-gray-500 !w-5 !h-5"}):(0,j.jsx)(q.A,{className:"fill-gray-500 !w-5 !h-5"})}),t&&!M&&(0,j.jsx)("button",{type:"button",disabled:M,onClick:()=>{i(!1);const e=s.current;if(e){e.querySelector("input").value=(null===n||void 0===n?void 0:n.name)||""}},children:(0,j.jsx)(X.A,{className:"!w-5 !h-5 fill-gray-500"})})]})},ae=({uid:e})=>{const s=(0,a.useRef)(null),[t,i]=(0,a.useState)(!1),[l,r]=(0,a.useState)(""),{data:n,isSuccess:d,refetch:o}=(0,U.pR)(e),[u,{isSuccess:x,isLoading:M}]=(0,U.H7)();(0,a.useEffect)((()=>{d&&n&&r(n.webhook_url||"")}),[n,d]),(0,a.useEffect)((()=>{x&&o()}),[x]);const m=async()=>{if(t&&s){const t=s.current;if(null===t||void 0===t||!t.checkValidity())return void(null===t||void 0===t||t.reportValidity());const a=new FormData(t).get("webhook"),i=await u({id:e,webhook_url:a});if("error"in i){if(406===i.error.status)c.oR.error("Not Valid URL!");return}}i((e=>!e))};return(0,j.jsx)("div",{children:l||t||x?(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("form",{action:"/",ref:s,onSubmit:e=>{e.preventDefault(),m()},children:(0,j.jsx)("input",{readOnly:!t,required:!0,autoFocus:!0,type:"url",name:"webhook",defaultValue:l,className:(0,B.A)("text-sm text-gray-400 dark:text-gray-100 dark:bg-slate-900 px-2 py-1",t?"ring-1 ring-gray-500 bg-gray-50":"bg-transparent")})}),(0,j.jsx)("button",{type:"button",disabled:M,onClick:m,children:M?(0,j.jsx)(J.A,{size:16}):t?(0,j.jsx)(se,{className:"stroke-gray-500 !w-5 !h-5"}):(0,j.jsx)(q.A,{className:"fill-gray-500 !w-5 !h-5"})}),t&&!M&&(0,j.jsx)("button",{type:"button",disabled:M,onClick:()=>{i(!1);const e=s.current;if(e){e.querySelector("input").value=(null===n||void 0===n?void 0:n.webhook_url)||""}},children:(0,j.jsx)(X.A,{className:"!w-5 !h-5 fill-gray-500"})})]}):(0,j.jsx)("button",{type:"button",className:"rounded-full bg-primary-50 text-green-600 text-xs py-0.5 px-2",onClick:()=>{i(!0)},children:"Set Webhook"})})},ie=({uid:e,webhook:s,closeModal:t})=>{const[l,r]=(0,a.useState)(s),[o,{isSuccess:x,isLoading:M}]=(0,U.H7)(),m=(0,a.useRef)(null),{t:g}=(0,i.Bd)("setting",{keyPrefix:"bot"}),{t:N}=(0,i.Bd)();return(0,a.useEffect)((()=>{x&&(c.oR.success(N("tip.update")),t())}),[x]),(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:g("webhook_title"),description:g("webhook_desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:t.bind(null,void 0),children:N("action.cancel")}),(0,j.jsx)(d.A,{disabled:!l,onClick:()=>{var s;if(!m||!m.current)return;const t=m.current;if(!t.checkValidity())return void t.reportValidity();const a=(null===(s=new FormData(t).get("webhook"))||void 0===s?void 0:s.toString())||"";o({id:e,webhook_url:a})},children:M?"Updating":N("action.done")})]}),children:(0,j.jsxs)("form",{ref:m,className:"w-full flex flex-col gap-2",action:"/",children:[(0,j.jsx)("label",{htmlFor:"webhook",className:"text-sm text-gray-500",children:"Webhook URL"}),(0,j.jsx)(I.A,{name:"webhook",value:l,onChange:e=>{r(e.target.value)},type:"url"})]})})})},le=({title:e,desc:s})=>(0,j.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,j.jsx)("h2",{className:"font-semibold dark:text-white",children:e}),(0,j.jsx)("p",{className:"text-gray-400 text-xs",children:s})]}),re="p-6 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100 align-top";function ce(){const[e,{isSuccess:s}]=(0,U.tt)(),[t,l]=(0,a.useState)(!1),[r,n]=(0,a.useState)(void 0),[o,u]=(0,a.useState)(void 0),x=(0,m.GV)((e=>Object.values(e.users.byId).filter((e=>!!e.is_bot))),D.bN),{t:M}=(0,i.Bd)("setting",{keyPrefix:"bot"}),{t:g}=(0,i.Bd)(),N=()=>{l((e=>!e))},h=e=>{u(e)};return(0,a.useEffect)((()=>{s&&c.oR.success(g("tip.update"))}),[s]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"flex flex-col justify-start items-start gap-4",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-4 max-w-[634px] mb-4",children:[(0,j.jsx)(le,{title:M("bot_tip_title"),desc:M("bot_tip_desc")}),(0,j.jsx)(le,{title:M("webhook_tip_title"),desc:M("webhook_tip_desc")})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsxs)("h2",{className:"font-semibold flex gap-4 items-center dark:text-white",children:[M("manage"),(0,j.jsxs)("a",{href:"https://doc.voce.chat/bot/bot-and-webhook",target:"_blank",className:"text-sm text-blue-400 underline-offset-1 underline",rel:"noopener noreferrer",children:["\ud83d\udd17 ",M("how_to_use")]})]}),(0,j.jsx)("p",{className:"text-gray-400 text-xs",children:M("manage_desc")})]}),(0,j.jsx)("div",{className:"w-full md:w-fit overflow-auto md:overflow-hidden",children:(0,j.jsxs)("table",{className:"min-w-full table-auto",children:[(0,j.jsx)("thead",{className:"border-b dark:border-b-gray-500 bg-gray-50 dark:bg-gray-600",children:(0,j.jsx)("tr",{children:[M("col_avatar"),M("col_name"),M("col_api_key"),M("col_webhook"),M("col_opt")].map((e=>(0,j.jsx)("th",{scope:"col",className:"text-sm font-bold text-gray-900 dark:text-gray-100 px-6 py-4 text-left",children:e},e)))})}),(0,j.jsx)("tbody",{children:x.map((s=>{const{uid:t,name:a,avatar:i}=s;return(0,j.jsxs)("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-b-gray-500 transition duration-300 ease-in-out md:hover:bg-gray-100 dark:md:hover:bg-transparent",children:[(0,j.jsx)("td",{className:"px-4 py-2",children:(0,j.jsx)(P.A,{size:60,uid:t,url:i,uploadImage:e,name:a})}),(0,j.jsxs)("td",{className:`${re}`,children:[(0,j.jsx)(te,{uid:t}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:["#",t]})]}),(0,j.jsx)("td",{className:`${re} py-2`,children:(0,j.jsx)(W,{uid:t})}),(0,j.jsx)("td",{className:re,children:(0,j.jsx)(ae,{uid:t})}),(0,j.jsx)("td",{className:re,children:(0,j.jsx)("button",{type:"button",onClick:h.bind(null,{uid:t,name:a}),children:(0,j.jsx)(Y.A,{className:"hover:opacity-80"})})})]},t)}))})]})}),(0,j.jsx)("div",{className:"flex gap-4",children:(0,j.jsx)(d.A,{onClick:N,className:"small",children:g("action.add")})})]}),t&&(0,j.jsx)(K,{closeModal:N}),r&&(0,j.jsx)(ie,{closeModal:e=>{n(e)},...r}),o&&(0,j.jsx)(Z,{closeModal:h,...o})]})}var ne=t(25396),de=t(41758),oe=t(78262);const ue=({link:e,text:s})=>(0,j.jsxs)("div",{className:"tip",children:[(0,j.jsx)(oe.A,{className:"dark:fill-gray-300"}),(0,j.jsx)("a",{href:e,target:"_blank",className:"link",rel:"noreferrer",children:s})]});function xe(){const{t:e}=(0,i.Bd)("setting",{keyPrefix:"agora"}),{changed:s,reset:t,values:a,setValues:l,toggleEnable:r,updateConfig:c}=L("agora"),n=e=>{const s=e.target.value,{type:t=""}=e.target.dataset;l((e=>e?{...e,[t]:s}:e))};if(!a)return null;const{url:d,project_id:o,app_id:u,app_certificate:x,customer_id:M,customer_secret:m,enabled:g=!1}=a,N=d||"https://api.agora.io";return(0,j.jsxs)("div",{className:"setting-container",children:[(0,j.jsx)(le,{title:e("desc"),desc:e("sub_desc")}),(0,j.jsxs)("div",{className:"inputs",children:[(0,j.jsxs)("div",{className:"input row",children:[(0,j.jsxs)(de.A,{className:"flex items-center gap-2",children:["Enable",(0,j.jsx)(ue,{link:"https://doc.voce.chat/setting/setting-agora",text:e("how_to")})]}),(0,j.jsx)(b.A,{onClick:r,checked:g})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"url",children:"Agora URL"}),(0,j.jsx)(I.A,{disabled:!g,"data-type":"url",onChange:n,value:N,name:"url",placeholder:"Agora URL"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"project_id",children:"Project ID"}),(0,j.jsx)(I.A,{spellCheck:!1,disabled:!g,"data-type":"project_id",onChange:n,value:o,name:"project_id",placeholder:"Project ID"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"app_id",children:"App ID"}),(0,j.jsx)(I.A,{spellCheck:!1,disabled:!g,"data-type":"app_id",onChange:n,value:u,name:"app_id",placeholder:"APP ID"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"app_certificate",children:"APP Certificate"}),(0,j.jsx)(I.A,{spellCheck:!1,disabled:!g,"data-type":"app_certificate",onChange:n,value:x,name:"app_certificate",placeholder:"APP Certificate"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"customer_id",children:"Customer ID"}),(0,j.jsx)(I.A,{spellCheck:!1,disabled:!g,"data-type":"customer_id",onChange:n,value:M,name:"customer_id",placeholder:"Customer ID for RESTful API"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"customer_secret",children:"Customer Secret"}),(0,j.jsx)(I.A,{spellCheck:!1,disabled:!g,"data-type":"customer_secret",onChange:n,value:m,name:"customer_secret",placeholder:"Customer Secret for RESTful API"})]})]}),s&&(0,j.jsx)(ne.A,{saveHandler:()=>{const e=a;e.url||(e.url="https://api.agora.io"),c(e)},resetHandler:t})]})}var je=t(64117),Me=t(85948);function me(){const{values:e,setValues:s,updateConfig:t,changed:a,reset:l}=L("firebase"),{t:r}=(0,i.Bd)("setting"),c={disable:r("firebase.disable"),official:r("firebase.use_official"),custom:r("firebase.custom")};let n="";if(e){const{use_official:s,enabled:t=!1}=e;n=t?s?"official":"custom":"disable"}const d=e=>{const t=e.target.value,{type:a=""}=e.target.dataset;s((e=>e?{...e,[a]:t}:e))};if(!e)return null;const{token_url:o,project_id:u,private_key:x,client_email:M}=e;return(0,j.jsxs)("div",{className:"setting-container max-md:w-full max-md:h-auto",children:[(0,j.jsx)(le,{title:r("firebase.desc"),desc:r("firebase.sub_desc")}),(0,j.jsx)(je.A,{options:Object.values(c),values:Object.keys(c),value:n,onChange:t=>{let a=null;switch(t){case"custom":a={...e,enabled:!0,use_official:!1};break;case"official":a={...e,enabled:!0,use_official:!0};break;case"disable":a={...e,enabled:!1}}a&&s(a)}}),(0,j.jsxs)("fieldset",{className:"inputs",disabled:"custom"!==n,children:[(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"name",children:r("firebase.token_url")}),(0,j.jsx)(I.A,{"data-type":"token_url",onChange:d,value:o,name:"token_url",placeholder:r("firebase.token_url")})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"project_id",children:r("firebase.project_id")}),(0,j.jsx)(I.A,{"data-type":"project_id",onChange:d,value:u,name:"project_id",placeholder:r("firebase.project_id")})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"private_key",children:r("firebase.private_key")}),(0,j.jsx)(Me.A,{rows:10,spellCheck:!1,"data-type":"private_key",onChange:d,value:x,name:"private_key",placeholder:r("firebase.private_key")})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"client_email",children:r("firebase.client_email")}),(0,j.jsx)(I.A,{"data-type":"client_email",onChange:d,value:M,name:"client_email",placeholder:r("firebase.client_email")})]})]}),a&&(0,j.jsx)(ne.A,{saveHandler:()=>{t(e)},resetHandler:()=>{l()}})]})}var ge,Ne=t(79190),he=t(41694),pe=t(74614);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_e.apply(null,arguments)}const De=({title:e,titleId:s,...t},i)=>a.createElement("svg",_e({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,ge||(ge=a.createElement("path",{d:"M8.00004 1.33301C4.32004 1.33301 1.33337 4.31967 1.33337 7.99967C1.33337 11.6797 4.32004 14.6663 8.00004 14.6663C11.68 14.6663 14.6667 11.6797 14.6667 7.99967C14.6667 4.31967 11.68 1.33301 8.00004 1.33301ZM11.3334 8.66634H4.66671V7.33301H11.3334V8.66634Z",fill:"#D0D5DD"}))),ye=(0,a.forwardRef)(De),we=JSON.parse('[{"title":"Google","value":"accounts.google.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE1OTA1XzI0Njk1KSI+CjxwYXRoIGQ9Ik0yMy43NjYgMTIuMjc2M0MyMy43NjYgMTEuNDYwNSAyMy42OTk5IDEwLjY0MDQgMjMuNTU4OCA5LjgzNzg5SDEyLjI0VjE0LjQ1ODlIMTguNzIxN0MxOC40NTI4IDE1Ljk0OTIgMTcuNTg4NSAxNy4yNjc2IDE2LjMyMyAxOC4xMDU0VjIxLjEwMzdIMjAuMTlDMjIuNDYwOCAxOS4wMTM3IDIzLjc2NiAxNS45MjcyIDIzLjc2NiAxMi4yNzYzWiIgZmlsbD0iIzQyODVGNCIvPgo8cGF0aCBkPSJNMTIuMjQwMSAyNC4wMDEzQzE1LjQ3NjYgMjQuMDAxMyAxOC4yMDU5IDIyLjkzODcgMjAuMTk0NSAyMS4xMDQ0TDE2LjMyNzYgMTguMTA2QzE1LjI1MTcgMTguODM4IDEzLjg2MjcgMTkuMjUyNSAxMi4yNDQ1IDE5LjI1MjVDOS4xMTM4OCAxOS4yNTI1IDYuNDU5NDYgMTcuMTQwNCA1LjUwNzA1IDE0LjMwMDhIMS41MTY2VjE3LjM5MTdDMy41NTM3MSAyMS40NDM5IDcuNzAyOSAyNC4wMDEzIDEyLjI0MDEgMjQuMDAxM1oiIGZpbGw9IiMzNEE4NTMiLz4KPHBhdGggZD0iTTUuNTAyNTMgMTQuMzAwN0M0Ljk5OTg3IDEyLjgxMDMgNC45OTk4NyAxMS4xOTY1IDUuNTAyNTMgOS43MDYxOFY2LjYxNTIzSDEuNTE2NDlDLTAuMTg1NTEgMTAuMDA2IC0wLjE4NTUxIDE0LjAwMDkgMS41MTY0OSAxNy4zOTE2TDUuNTAyNTMgMTQuMzAwN1oiIGZpbGw9IiNGQkJDMDQiLz4KPHBhdGggZD0iTTEyLjI0MDEgNC43NDk2NkMxMy45NTA5IDQuNzIzMiAxNS42MDQ0IDUuMzY2OTcgMTYuODQzNCA2LjU0ODY3TDIwLjI2OTUgMy4xMjI2MkMxOC4xMDAxIDEuMDg1NSAxNS4yMjA4IC0wLjAzNDQ2NiAxMi4yNDAxIDAuMDAwODA4NjY2QzcuNzAyOSAwLjAwMDgwODY2NiAzLjU1MzcxIDIuNTU4MjIgMS41MTY2IDYuNjE0ODFMNS41MDI2NCA5LjcwNTc1QzYuNDUwNjQgNi44NjE3MyA5LjEwOTQ3IDQuNzQ5NjYgMTIuMjQwMSA0Ljc0OTY2WiIgZmlsbD0iI0VBNDMzNSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzE1OTA1XzI0Njk1Ij4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},{"title":"Facebook","value":"www.facebook.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMiAxNkMzMiA3LjE2NDEzIDI0LjgzNTggMCAxNiAwQzcuMTY0MTMgMCAwIDcuMTY0MTMgMCAxNkMwIDIzLjk4NTMgNS44NTAxNiAzMC42MDQ5IDEzLjUwMDIgMzEuODA2N1YyMC42MjYxSDkuNDM2NjRWMTZIMTMuNTAwMlYxMi40NzQyQzEzLjUwMDIgOC40NjQ1NiAxNS44ODk4IDYuMjQ4MjkgMTkuNTQzOCA2LjI0ODI5QzIxLjI5NDMgNi4yNDgyOSAyMy4xMjU4IDYuNTYxMDIgMjMuMTI1OCA2LjU2MTAyVjEwLjQ5ODZIMjEuMTA3NUMxOS4xMjA4IDEwLjQ5ODYgMTguNDk5OCAxMS43MzE3IDE4LjQ5OTggMTIuOTk4NFYxNS45OTk5SDIyLjkzNjdMMjIuMjI4IDIwLjYyNkgxOC40OTk2VjMxLjgwNjRDMjYuMTQ5OCAzMC42MDcxIDMxLjk5OTggMjMuOTg3NiAzMS45OTk4IDE1Ljk5OTlMMzIgMTZaIiBmaWxsPSIjMTk3N0YzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjIuMjI4IDIwLjYyNkwyMi45MzY5IDE1Ljk5OTlIMTguNDk5OVYxMi45OTg0QzE4LjQ5OTkgMTEuNzMzOSAxOS4xMTg2IDEwLjQ5ODcgMjEuMTA3NyAxMC40OTg3SDIzLjEyNlY2LjU2MTA1QzIzLjEyNiA2LjU2MTA1IDIxLjI5NDUgNi4yNDgyOSAxOS41NDM5IDYuMjQ4MjlDMTUuODg5OSA2LjI0ODI5IDEzLjUwMDQgOC40NjIzOCAxMy41MDA0IDEyLjQ3NDJWMTZIOS40MzY3N1YyMC42MjYxSDEzLjUwMDRWMzEuODA2N0MxNC4zMTQ5IDMxLjkzNDcgMTUuMTQ5NiAzMiAxNi4wMDAxIDMyQzE2Ljg1MDcgMzIgMTcuNjg1NCAzMS45MzI1IDE4LjQ5OTkgMzEuODA2N1YyMC42MjYxSDIyLjIyODJMMjIuMjI4IDIwLjYyNloiIGZpbGw9IiNGRUZFRkUiLz4KPC9zdmc+Cg=="},{"title":"Gitlab","value":"www.gitlab.com","selected":false,"icon":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODAgMzgwIj4KPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6I2UyNDMyOTt9LmNscy0ye2ZpbGw6I2ZjNmQyNjt9LmNscy0ze2ZpbGw6I2ZjYTMyNjt9PC9zdHlsZT4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJMT0dPIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yODIuODMsMTcwLjczbC0uMjctLjY5LTI2LjE0LTY4LjIyYTYuODEsNi44MSwwLDAsMC0yLjY5LTMuMjQsNyw3LDAsMCwwLTgsLjQzLDcsNywwLDAsMC0yLjMyLDMuNTJsLTE3LjY1LDU0SDE1NC4yOWwtMTcuNjUtNTRBNi44Niw2Ljg2LDAsMCwwLDEzNC4zMiw5OWE3LDcsMCwwLDAtOC0uNDMsNi44Nyw2Ljg3LDAsMCwwLTIuNjksMy4yNEw5Ny40NCwxNzBsLS4yNi42OWE0OC41NCw0OC41NCwwLDAsMCwxNi4xLDU2LjFsLjA5LjA3LjI0LjE3LDM5LjgyLDI5LjgyLDE5LjcsMTQuOTEsMTIsOS4wNmE4LjA3LDguMDcsMCwwLDAsOS43NiwwbDEyLTkuMDYsMTkuNy0xNC45MSw0MC4wNi0zMCwuMS0uMDhBNDguNTYsNDguNTYsMCwwLDAsMjgyLjgzLDE3MC43M1oiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yODIuODMsMTcwLjczbC0uMjctLjY5YTg4LjMsODguMywwLDAsMC0zNS4xNSwxNS44TDE5MCwyMjkuMjVjMTkuNTUsMTQuNzksMzYuNTcsMjcuNjQsMzYuNTcsMjcuNjRsNDAuMDYtMzAsLjEtLjA4QTQ4LjU2LDQ4LjU2LDAsMCwwLDI4Mi44MywxNzAuNzNaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTUzLjQzLDI1Ni44OWwxOS43LDE0LjkxLDEyLDkuMDZhOC4wNyw4LjA3LDAsMCwwLDkuNzYsMGwxMi05LjA2LDE5LjctMTQuOTFTMjA5LjU1LDI0NCwxOTAsMjI5LjI1QzE3MC40NSwyNDQsMTUzLjQzLDI1Ni44OSwxNTMuNDMsMjU2Ljg5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTEzMi41OCwxODUuODRBODguMTksODguMTksMCwwLDAsOTcuNDQsMTcwbC0uMjYuNjlhNDguNTQsNDguNTQsMCwwLDAsMTYuMSw1Ni4xbC4wOS4wNy4yNC4xNywzOS44MiwyOS44MnMxNy0xMi44NSwzNi41Ny0yNy42NFoiLz48L2c+PC9zdmc+"},{"title":"Paypal","value":"www.paypal.com","selected":false,"icon":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjI1NnB4IiBoZWlnaHQ9IjMwMnB4IiB2aWV3Qm94PSIwIDAgMjU2IDMwMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+Cgk8Zz4KCQk8cGF0aCBkPSJNMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IEMyMDMuMjM0MDc3LDcuNjI0Nzk2NTEgMTc4LjA0NTYxMiwwLjgxNTc1MzMzOCAxNDUuODIzMzU1LDAuODE1NzUzMzM4IEw1Mi4zMDMwNjE5LDAuODE1NzUzMzM4IEM0NS43MTA0NDMxLDAuODE1NzUzMzM4IDQwLjEwODM4MTksNS42MTAzODUyIDM5LjA3NjIwNDIsMTIuMTExNDM5OSBMMC4xMzY0NjgzMDIsMjU5LjA3NjYwMSBDLTAuNjM3NjY0OTY4LDI2My45NDYxNDkgMy4xMzMxMTMyMiwyNjguMzU3ODc2IDguMDY5MjUzMzEsMjY4LjM1Nzg3NiBMNjUuODA0NjEyLDI2OC4zNTc4NzYgTDgwLjMwNTA0MzgsMTc2LjM4NTg0OSBMNzkuODU1NTQ3MSwxNzkuMjY1OTU4IEM4MC44ODc3MjQ4LDE3Mi43NjQ5MDMgODYuNDQ4MTY1OSwxNjcuOTcwMjcyIDkzLjAzMjQ2MDcsMTY3Ljk3MDI3MiBMMTIwLjQ2ODQxLDE2Ny45NzAyNzIgQzE3NC4zNjYzOTgsMTY3Ljk3MDI3MiAyMTYuNTY5MTQ3LDE0Ni4wNzgxMTYgMjI4Ljg5NzAxMiw4Mi43NDkwMTk3IEMyMjkuMjYzMjY4LDgwLjg3NjExNjcgMjI5LjU3OTU4MSw3OS4wNTMxNTc3IDIyOS44NTQyNzMsNzcuMjcxODE4OCBDMjI4LjI5NzY4Myw3Ni40NDc3NDE0IDIyOC4yOTc2ODMsNzYuNDQ3NzQxNCAyMjkuODU0MjczLDc3LjI3MTgxODggQzIzMy41MjUxNjMsNTMuODY0NjkyNCAyMjkuODI5MzAxLDM3LjkzMjUzMDIgMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IiBmaWxsPSIjMjczNDZBIj48L3BhdGg+CgkJPHBhdGggZD0iTTEwMi4zOTY5NzYsNjguODM5NTkyOSBDMTAzLjkzNjkxOSw2OC4xMDcwNzk3IDEwNS42NTE2NjUsNjcuNjk5MjAzIDEwNy40NDk2NTIsNjcuNjk5MjAzIEwxODAuNzY3NTY1LDY3LjY5OTIwMyBDMTg5LjQ0OTUxMSw2Ny42OTkyMDMgMTk3LjU0ODc3Niw2OC4yNjUyMzYgMjA0Ljk0ODgyNCw2OS40NTU1Njk5IEMyMDcuMDcxNDQ4LDY5Ljc5Njg1NDUgMjA5LjEyNzQ3OSw3MC4xODgwODMxIDIxMS4xMjUyNDIsNzAuNjM3NTc5OSBDMjEzLjEyMzAwNiw3MS4wNzg3NTI2IDIxNS4wNjI1MDEsNzEuNTc4MTkzNCAyMTYuOTQzNzI4LDcyLjEyNzU3ODMgQzIxNy44ODQzNDEsNzIuNDAyMjcwOCAyMTguODA4MzA3LDcyLjY4NTI4NzIgMjE5LjcxNTYyNCw3Mi45ODQ5NTE3IEMyMjMuMzUzMjE4LDc0LjIwMDI1NzcgMjI2Ljc0MTA5Miw3NS42MTUzNCAyMjkuODU0MjczLDc3LjI3MTgxODggQzIzMy41MjUxNjMsNTMuODU2MzY4MyAyMjkuODI5MzAxLDM3LjkzMjUzMDIgMjE3LjE2ODQ3NiwyMy41MDcwMTQ2IEMyMDMuMjI1NzUzLDcuNjI0Nzk2NTEgMTc4LjA0NTYxMiwwLjgxNTc1MzMzOCAxNDUuODIzMzU1LDAuODE1NzUzMzM4IEw1Mi4yOTQ3Mzc5LDAuODE1NzUzMzM4IEM0NS43MTA0NDMxLDAuODE1NzUzMzM4IDQwLjEwODM4MTksNS42MTAzODUyIDM5LjA3NjIwNDIsMTIuMTExNDM5OSBMMC4xMzY0NjgzMDIsMjU5LjA2ODI3NyBDLTAuNjM3NjY0OTY4LDI2My45NDYxNDkgMy4xMzMxMTMyMiwyNjguMzQ5NTUyIDguMDYwOTI5MywyNjguMzQ5NTUyIEw2NS44MDQ2MTIsMjY4LjM0OTU1MiBMOTUuODg3NTk3NCw3Ny41Nzk4MDczIEM5Ni41MDM1NzQ0LDczLjY2NzUyMDggOTkuMDE3NDI2NSw3MC40NjI3NzU2IDEwMi4zOTY5NzYsNjguODM5NTkyOSBaIiBmaWxsPSIjMjczNDZBIj48L3BhdGg+CgkJPHBhdGggZD0iTTIyOC44OTcwMTIsODIuNzQ5MDE5NyBDMjE2LjU2OTE0NywxNDYuMDY5NzkyIDE3NC4zNjYzOTgsMTY3Ljk3MDI3MiAxMjAuNDY4NDEsMTY3Ljk3MDI3MiBMOTMuMDI0MTM2NywxNjcuOTcwMjcyIEM4Ni40Mzk4NDE5LDE2Ny45NzAyNzIgODAuODc5NDAwNywxNzIuNzY0OTAzIDc5Ljg1NTU0NzEsMTc5LjI2NTk1OCBMNjEuODE3NDA5NSwyOTMuNjIxMjU4IEM2MS4xNDMxNjQ0LDI5Ny44ODMxNTMgNjQuNDM5NDczOCwzMDEuNzQ1NDk1IDY4Ljc1MTMxMjksMzAxLjc0NTQ5NSBMMTE3LjQyMTgyMSwzMDEuNzQ1NDk1IEMxMjMuMTgyMDM4LDMwMS43NDU0OTUgMTI4LjA4NDg4MiwyOTcuNTUwMTkyIDEyOC45ODM4NzYsMjkxLjg2NDg5MSBMMTI5LjQ1ODM0NCwyODkuMzg0MzM1IEwxMzguNjMxNDA3LDIzMS4yNDk0MjMgTDEzOS4yMjI0MTIsMjI4LjAzNjM1NCBDMTQwLjEyMTQwNiwyMjIuMzUxMDUzIDE0NS4wMjQyNSwyMTguMTU1NzUgMTUwLjc4NDQ2NywyMTguMTU1NzUgTDE1OC4wNjc5NzksMjE4LjE1NTc1IEMyMDUuMjE1MTkzLDIxOC4xNTU3NSAyNDIuMTMyMTkzLDE5OS4wMDIxOTQgMjUyLjkyMDExNSwxNDMuNjA1ODg0IEMyNTcuNDIzNDA2LDEyMC40NTY4MDIgMjU1LjA5MjY4MywxMDEuMTI4NDQyIDI0My4xODEwMTksODcuNTUxOTc1NiBDMjM5LjU2ODM5Nyw4My40Mzk5MTI5IDIzNS4wODE3NTQsODAuMDQzNzE1MyAyMjkuODU0MjczLDc3LjI3MTgxODggQzIyOS41NzEyNTcsNzkuMDYxNDgxNyAyMjkuMjYzMjY4LDgwLjg3NjExNjcgMjI4Ljg5NzAxMiw4Mi43NDkwMTk3IEwyMjguODk3MDEyLDgyLjc0OTAxOTcgWiIgZmlsbD0iIzI3OTBDMyI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0yMTYuOTUyMDUyLDcyLjEyNzU3ODMgQzIxNS4wNzA4MjUsNzEuNTc4MTkzNCAyMTMuMTMxMzMsNzEuMDc4NzUyNiAyMTEuMTMzNTY2LDcwLjYzNzU3OTkgQzIwOS4xMzU4MDMsNzAuMTk2NDA3MSAyMDcuMDcxNDQ4LDY5LjgwNTE3ODUgMjA0Ljk1NzE0OCw2OS40NjM4OTM5IEMxOTcuNTQ4Nzc2LDY4LjI2NTIzNiAxODkuNDU3ODM1LDY3LjY5OTIwMyAxODAuNzY3NTY1LDY3LjY5OTIwMyBMMTA3LjQ1Nzk3Niw2Ny42OTkyMDMgQzEwNS42NTE2NjUsNjcuNjk5MjAzIDEwMy45MzY5MTksNjguMTA3MDc5NyAxMDIuNDA1Myw2OC44NDc5MTY5IEM5OS4wMTc0MjY1LDcwLjQ3MTA5OTYgOTYuNTExODk4NCw3My42Njc1MjA4IDk1Ljg5NTkyMTQsNzcuNTg4MTMxMyBMODAuMzEzMzY3OCwxNzYuMzg1ODQ5IEw3OS44NjM4NzExLDE3OS4yNjU5NTggQzgwLjg4NzcyNDgsMTcyLjc2NDkwMyA4Ni40NDgxNjU5LDE2Ny45NzAyNzIgOTMuMDMyNDYwNywxNjcuOTcwMjcyIEwxMjAuNDc2NzM0LDE2Ny45NzAyNzIgQzE3NC4zNzQ3MjIsMTY3Ljk3MDI3MiAyMTYuNTc3NDcxLDE0Ni4wNzgxMTYgMjI4LjkwNTMzNiw4Mi43NDkwMTk3IEMyMjkuMjcxNTkyLDgwLjg3NjExNjcgMjI5LjU3OTU4MSw3OS4wNjE0ODE3IDIyOS44NjI1OTcsNzcuMjcxODE4OCBDMjI2Ljc0MTA5Miw3NS42MjM2NjQgMjIzLjM2MTU0Miw3NC4yMDAyNTc3IDIxOS43MjM5NDgsNzIuOTkzMjc1NyBDMjE4LjgxNjYzMSw3Mi42OTM2MTEyIDIxNy44OTI2NjUsNzIuNDAyMjcwOCAyMTYuOTUyMDUyLDcyLjEyNzU3ODMiIGZpbGw9IiMxRjI2NEYiPjwvcGF0aD4KCTwvZz4KPC9zdmc+"},{"title":"SolidWeb","value":"solidweb.org","selected":false,"icon":"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjM1MiIgaGVpZ2h0PSIzMjIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbC1ydWxlPSJub256ZXJvIiBmaWxsPSJub25lIj4KICAgIDxwYXRoIGQ9Ik04Ny45NzI5NiAyODIuMzUyN0wyNy4yNDEzMyAxNzcuMDIyMDdjLTUuNjIwNDEtOS43NTc2NS01LjYyMDQxLTIxLjc3OTA4IDAtMzEuNTM2NzRMODcuOTcyOTYgNDAuMjMyOGM1LjY0NjQzLTkuNzgzNjcgMTYuMDgwNjEtMTUuNzk0MzkgMjcuMzIxNDMtMTUuNzk0MzloMTIxLjM4NTJjMTEuMjY2ODQgMCAyMS43MjcwNCA2LjAxMDcyIDI3LjMyMTQzIDE1Ljc5NDRsNjAuNzU3NjUgMTA1LjMwNDU4YzUuNjIwNDEgOS43NTc2NiA1LjYyMDQxIDIxLjc3OTA5IDAgMzEuNTM2NzRsLTYwLjczMTYzIDEwNS4zMzA2MWMtNS42NDY0MyA5Ljc4MzY3LTE2LjA4MDYxIDE1Ljc5NDM5LTI3LjMyMTQzIDE1Ljc5NDM5SDExNS4zNzI0NWMtMTEuMzE4ODgtLjA1MjA0LTIxLjcyNzA0LTYuMDg4NzgtMjcuMzk5NS0xNS44NDY0M3oiIGZpbGw9IiNGRkYiLz4KICAgIDxwYXRoIGQ9Ik05My4xNTEwMiAyNzUuMTk3MDhsLTU3LjExNDgtOTkuMDU5N2MtNS4zMDgxNi05LjE4NTItNS4zMDgxNi0yMC41MDQwOCAwLTI5LjY2MzI2bDU3LjExNDgtOTkuMDg1NzJjNS4zMzQxOC05LjIxMTIyIDE1LjE0Mzg4LTE0Ljg1NzY1IDI1LjczNDE4LTE0Ljg1NzY1aDExNC4yMjk2YzEwLjU5MDMgMCAyMC40MjYwMiA1LjY0NjQzIDI1LjczNDE4IDE0Ljg1NzY1bDU3LjE2Njg0IDk5LjAzMzY4YzUuMzA4MTYgOS4xODUyIDUuMzA4MTYgMjAuNTA0MDggMCAyOS42NjMyNkwyNTguODc1IDI3NS4yMjMxYy01LjMzNDE4IDkuMjExMjItMTUuMTQzODggMTQuODU3NjUtMjUuNzM0MTggMTQuODU3NjVIMTE4LjkzNzI0Yy0xMC42NDIzNCAwLTIwLjQ1MjA0LTUuNjcyNDUtMjUuNzg2MjItMTQuODgzNjd6IiBmaWxsPSIjN0M0REZGIi8+CiAgICA8cGF0aCBkPSJNMTE4LjQ2ODg4IDE0Mi4yMzI4aDExNy41MzQxOGMxLjQ4MzE2IDAgMi42NTQwOC0xLjE5Njk1IDIuNjU0MDgtMi42NTQwOXYtMjIuMDM5MjhjMC0xNC42NDk1LTExLjg5MTMyLTI2LjU0MDg1LTI2LjU0MDgxLTI2LjU0MDg1aC03MC41NjczNWMtMjAuNTMwMS0uMDI2LTM3LjE1NzIyIDE2LjYwMTA1LTM3LjE1NzIyIDM3LjEzMTE1LS4wMjU5NCA3LjgzMjE0IDYuMjcxIDE0LjEwMzA2IDE0LjA3NzEyIDE0LjEwMzA2ek0xMjkuOTk1OTIgMjM5LjYwMTE2SDIwMC4yMjVjMjEuMjA2NjMgMCAzOC40MzIxNC0xNy4yMjU1MSAzOC40MzIxNC0zOC40MzIxNCAwLTcuMDc3NTUtNS43MjQ0OS0xMi44MjgwNi0xMi44MjgwNi0xMi44MjgwNkgxMDYuOTQxODRjLTEuNDU3MTUgMC0yLjU1MDA1IDEuMTcwOTEtMi41NTAwNSAyLjU1djIzLjA1NDA4Yy0uMDI1OTcgMTQuMTgxMTIgMTEuNDc1MDUgMjUuNjU2MTIgMjUuNjA0MTMgMjUuNjU2MTJ6IiBmaWxsPSIjRjdGN0Y3Ii8+CiAgICA8cGF0aCBkPSJNMTA5LjU5NTkyIDEzOS4zMTg1bDg3LjY2Mjc1IDg3LjY2Mjc2YzUuODAyNTUgNS44MDI1NSAxNS4xOTU5MiA1LjgwMjU1IDIwLjk5ODQ3IDBsMTUuMTk1OTItMTUuMTk1OTJjNS44MDI1NS01LjgwMjU1IDUuODAyNTUtMTUuMTk1OTEgMC0yMC45OTg0N2wtODcuNjM2NzMtODcuNjYyNzVjLTUuODAyNTUtNS44MDI1NS0xNS4xOTU5Mi01LjgwMjU1LTIwLjk5ODQ3IDBsLTE1LjE5NTkyIDE1LjE5NTkyYy01Ljg1NDYgNS44MDI1NS01Ljg1NDYgMTUuMjIxOTQtLjAyNjAyIDIwLjk5ODQ3eiIgZmlsbD0iI0Y3RjdGNyIvPgogICAgPHBhdGggZmlsbD0iIzQ0NCIgb3BhY2l0eT0iLjMiIGQ9Ik0xOTguNjg5OCAyMjguNDY0NDNsLTUxLjQ5NDQtNDAuMTIzNDdoMTEuMzk2OTV6TTE0NC4zNTkxOCAxMDEuNjY2OThsNDAuNTY1ODIgNDAuNTY1ODFoMTMuNzY0OHoiLz4KICA8L2c+Cjwvc3ZnPg==","underline":true},{"title":"Custom","value":"","selected":false}]'),fe=({issuers:e=[],onChange:s})=>{const{t:t}=(0,i.Bd)(),[l,r]=(0,a.useState)(null),[c,n]=(0,a.useState)(""),o=!c&&!(null!==l&&void 0!==l&&l.value)||!(null!==l&&void 0!==l&&l.title)||e.some((e=>e.domain===c));return(0,j.jsx)("div",{className:"py-4 w-full flex flex-col gap-4",children:(0,j.jsxs)("ul",{className:"flex flex-col gap-4",children:[e.map((({enable:t,favicon:a,domain:i})=>(0,j.jsxs)("li",{className:"flex items-center justify-between gap-10",children:[(0,j.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,j.jsx)(ye,{className:"cursor-pointer",onClick:()=>{s(e.filter((e=>e.domain!==i)))}}),(0,j.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[Boolean(a)&&(0,j.jsx)("img",{src:a,alt:"logo",className:"w-8 h-8"}),(0,j.jsx)(I.A,{readOnly:!0,value:i,prefix:"https://",placeholder:"Issuer Domain",className:"w-[280px]"})]})]}),(0,j.jsx)("div",{className:"w-14 flex justify-end",children:(0,j.jsx)(b.A,{checked:t,onClick:()=>{s(e.map((e=>({...e,enable:e.domain===i?!t:e.enable}))))}})})]},i))),(0,j.jsxs)("li",{className:"flex items-center justify-between gap-10 cursor-pointer",children:[(0,j.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,j.jsx)(pe.A,{options:we.map((s=>({...s,selected:e.some((e=>e.domain===s.value))}))),current:l,updateSelect:r}),(0,j.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,j.jsx)(I.A,{onChange:e=>{n(e.target.value)},readOnly:!(null===l||void 0===l||!l.value),value:(null===l||void 0===l?void 0:l.value)||c,prefix:"https://",placeholder:"domain.com",className:"w-[280px]"})})]}),(0,j.jsx)("div",{className:"w-14 flex justify-end",children:(0,j.jsx)(d.A,{disabled:o,onClick:()=>{const t=we.find((e=>e.value===(null===l||void 0===l?void 0:l.value)));if(!t)return;const{icon:a,value:i}=t;s(e.concat({enable:!0,favicon:a||"",domain:i||c})),r(null),n("")},children:t("action.add")})})]})]})})};t(66964);const Ae=({to:e,newTab:s=!0,children:t})=>(0,j.jsx)("a",{href:e,className:"text-primary-500",target:s?"_blank":"_self",rel:"noreferrer",children:t});function ve({link:e="#"}){return(0,j.jsx)(f.Ay,{delay:[0,500],interactive:!0,arrow:A.qO,placement:"bottom",content:(0,j.jsx)("div",{className:"py-2 px-3 bg-gray-800 text-xs text-white rounded-lg",children:(0,j.jsx)(i.x6,{ns:"setting",i18nKey:"login.more_details",children:(0,j.jsx)(Ae,{to:e})})}),children:(0,j.jsx)(oe.A,{className:"icon"})})}function Ie(){const{t:e}=(0,i.Bd)("setting",{keyPrefix:"login"}),{t:s}=(0,i.Bd)(),{changed:t,clientId:a,updateClientId:l,updateClientIdToServer:r}=(0,he.A)(),{config:n,changed:d,updateGithubAuthConfigToServer:o,updateGithubAuthConfig:u}=(0,Ne.A)(),{values:x,updateConfig:M,setValues:m,reset:g,changed:N}=L("login"),h=e=>{const{key:s}=e.target.dataset;s&&u({[s]:e.target.value})},p=e=>{m((s=>s?{...s,...e}:s))};if(!x)return null;const{google:_,magic_link:D,github:y,metamask:w,password:f,oidc:A=[]}=x,v=t||N||d;return(0,j.jsxs)("div",{className:"setting-container max-md:w-full max-md:h-auto",children:[(0,j.jsxs)("div",{className:"inputs",children:[(0,j.jsx)("div",{className:"input",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"title",children:[(0,j.jsx)("div",{className:"txt",children:(0,j.jsx)(de.A,{children:e("password")})}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("password_desc")})]}),(0,j.jsx)(b.A,{onClick:p.bind(null,{password:!f}),checked:f})]})}),(0,j.jsx)("div",{className:"input",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"title",children:[(0,j.jsx)("div",{className:"txt",children:(0,j.jsx)(de.A,{children:e("magic_link")})}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("magic_link_desc")})]}),(0,j.jsx)(b.A,{onClick:p.bind(null,{magic_link:!D}),checked:D})]})}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"title",children:[(0,j.jsxs)("div",{className:"txt",children:[(0,j.jsx)(de.A,{children:e("google")}),(0,j.jsx)(ve,{link:"https://doc.voce.chat/setting/third_login/login-google"})]}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("google_desc")})]}),(0,j.jsx)(b.A,{onClick:p.bind(null,{google:!_}),checked:_})]}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)(I.A,{disabled:!_,onChange:e=>{l(e.target.value)},placeholder:"Client ID",value:a})})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"title",children:[(0,j.jsxs)("div",{className:"txt",children:[(0,j.jsx)(de.A,{children:e("github")}),(0,j.jsx)(ve,{link:"https://doc.voce.chat/setting/third_login/login-github"})]}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("github_desc")})]}),(0,j.jsx)(b.A,{onClick:p.bind(null,{github:!y}),checked:y})]}),(0,j.jsxs)("div",{className:"row inputs",children:[(0,j.jsx)(I.A,{disabled:!y,"data-key":"client_id",onChange:h,placeholder:"GitHub Client ID",value:null===n||void 0===n?void 0:n.client_id}),(0,j.jsx)(I.A,{disabled:!y,"data-key":"client_secret",onChange:h,placeholder:"GitHub Client Secret",value:null===n||void 0===n?void 0:n.client_secret})]})]}),(0,j.jsx)("div",{className:"input",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"title",children:[(0,j.jsxs)("div",{className:"txt",children:[(0,j.jsx)(de.A,{children:e("metamask")}),(0,j.jsx)(ve,{link:"https://doc.voce.chat/setting/third_login/login-metamask"})]}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("metamask_desc")})]}),(0,j.jsx)(b.A,{onClick:p.bind(null,{metamask:!w}),checked:w})]})}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"title",children:[(0,j.jsxs)("div",{className:"txt",children:[(0,j.jsx)(de.A,{children:e("oidc")}),(0,j.jsx)(ve,{link:"https://doc.voce.chat/setting/third_login/login-webid"})]}),(0,j.jsx)("span",{className:"desc dark:!text-gray-400",children:e("oidc_desc")})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)(fe,{issuers:A,onChange:e=>{m((s=>s?{...s,oidc:e}:s))}})})]})]}),v&&(0,j.jsx)(ne.A,{saveHandler:async()=>{const{google:e}=x;N&&M(x),e&&t&&(await r(),N||c.Ay.success(s("tip.update"))),y&&d&&(await o(),N||c.Ay.success(s("tip.update")))},resetHandler:g})]})}function be(){const{t:e}=(0,i.Bd)("setting",{keyPrefix:"smtp"}),[s,t]=(0,a.useState)(""),[l,{isSuccess:r,isError:n}]=(0,v.lg)(),{reset:o,updateConfig:u,values:x,originalValues:M,setValues:m,changed:g,toggleEnable:N}=L("smtp"),h=e=>{const s=e.target.value,{type:t=""}=e.target.dataset;m((e=>e?{...e,[t]:s}:e))};if((0,a.useEffect)((()=>{r&&c.Ay.success("Send Test Email Successfully"),n&&c.Ay.error("Send Test Email Fail")}),[r,n]),!x)return null;const{host:p,port:_,from:D,username:y,password:w,enabled:f=!1}=x;return(0,j.jsxs)("div",{className:"setting-container max-md:w-full",children:[(0,j.jsx)(le,{title:(0,j.jsx)(i.x6,{ns:"setting",i18nKey:"smtp.desc",children:(0,j.jsx)(Ae,{newTab:!1,to:"/#/setting/license"})}),desc:e("sub_desc")}),(0,j.jsxs)("div",{className:"inputs",children:[(0,j.jsxs)("div",{className:"input row",children:[(0,j.jsxs)(de.A,{className:"flex items-center gap-2",children:[e("enable")," ",(0,j.jsx)(ue,{link:"https://doc.voce.chat/setting/smtp/smtp-gmail",text:e("how_to")})]}),(0,j.jsx)(b.A,{onClick:N,checked:f})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"host",children:e("host")}),(0,j.jsx)(I.A,{disabled:!f,"data-type":"host",onChange:h,value:p,name:"host",placeholder:"SMTP Host"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"port",children:e("port")}),(0,j.jsx)(I.A,{disabled:!f,type:"number","data-type":"port",onChange:h,value:_,name:"port",placeholder:"SMTP Port"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"from",children:e("from")}),(0,j.jsx)(I.A,{disabled:!f,"data-type":"from",onChange:h,value:D,name:"from",placeholder:"SMTP From"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"username",children:e("username")}),(0,j.jsx)(I.A,{disabled:!f,"data-type":"username",onChange:h,value:y,name:"username",placeholder:"SMTP Username"})]}),(0,j.jsxs)("div",{className:"input",children:[(0,j.jsx)(de.A,{htmlFor:"password",children:e("password")}),(0,j.jsx)(I.A,{type:"password",disabled:!f,"data-type":"password",onChange:h,value:w,name:"password",placeholder:"SMTP Password"})]})]}),(0,j.jsxs)("div",{className:"flex gap-4 whitespace-nowrap mt-6",children:[(0,j.jsx)(I.A,{type:"email",disabled:!M.enabled,onChange:e=>{const s=e.target.value;t(s)},value:s,name:"email",placeholder:"test@email.com"}),(0,j.jsx)(d.A,{disabled:!f||!s,onClick:()=>{l({to:s,subject:"test title",content:"test content"})},children:e("send_test_email")})]}),g&&(0,j.jsx)(ne.A,{saveHandler:()=>{var e;u({...x,port:Number(null!==(e=null===x||void 0===x?void 0:x.port)&&void 0!==e?e:0)})},resetHandler:o})]})}var Te=t(6527);const ke=()=>{const e=(0,m.GV)((e=>{var s;return null!==(s=e.server.max_file_expiry_mode)&&void 0!==s?s:"Off"}),D.bN),{t:s}=(0,i.Bd)("setting",{keyPrefix:"data.auto_delete_file"}),{t:t}=(0,i.Bd)(),{refetch:l}=(0,v.Mv)(),[r,o]=(0,a.useState)(e),[x,{isSuccess:M,isLoading:g}]=(0,v.u3)();(0,a.useEffect)((()=>{M&&(l(),c.oR.success(t("tip.update")))}),[M]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Te.A,{title:s("title"),desc:s("desc"),children:(0,j.jsx)(je.A,{options:[s("off"),s("day1"),s("day7"),s("day30"),s("day90"),s("day180")],values:["Off","Day1","Day7","Day30","Day90","Day180"],value:e,onChange:e=>{o(e)}})}),r!==e&&(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:"Are you sure?",description:"Off"==r?"":s("confirm_desc"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:()=>{o(e)},children:t("action.cancel")}),(0,j.jsx)(d.A,{onClick:()=>{x({max_file_expiry_mode:r})},className:"danger",children:g?"Updating":t("action.yes")})]})})})]})},Le=({context:e,title:s,desc:t,closeModal:l})=>{const{t:r}=(0,i.Bd)(),[o,{isLoading:x,isSuccess:M}]=(0,v.J9)(),[m,{isLoading:g,isSuccess:N}]=(0,v.kw)(),h=M||N;(0,a.useEffect)((()=>{h&&(c.Ay.success("Clear success"),l())}),[h]);const p=g||x;return(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:s,description:t,buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{className:"cancel",onClick:l,children:r("action.cancel")}),(0,j.jsx)(d.A,{onClick:()=>{switch(e){case"chat":m();break;case"files":o()}},className:"danger",children:p?"Clearing":r("action.remove")})]})})})};var Ee=t(31952);function Oe(){const[e,s]=(0,a.useState)(null),{t:t}=(0,i.Bd)("setting"),l=e=>{s(e)},r={chat:t("data.clear_msgs.desc"),files:t("data.clear_files.desc")};return(0,j.jsxs)("div",{className:"relative w-full md:w-[512px] flex flex-col gap-6",children:[(0,j.jsx)(Ee.A,{version:"0.3.10",empty:!0,children:(0,j.jsx)(Te.A,{title:t("data.clear_msgs.title"),desc:t("data.clear_msgs.desc"),children:(0,j.jsx)(d.A,{onClick:l.bind(null,"chat"),className:"danger",children:t("data.clear_msgs.btn")})})}),(0,j.jsx)(Te.A,{title:t("data.clear_files.title"),desc:t("data.clear_files.desc"),children:(0,j.jsx)(d.A,{onClick:l.bind(null,"files"),className:"danger",children:t("data.clear_files.btn")})}),(0,j.jsx)(ke,{}),e&&(0,j.jsx)(Le,{closeModal:l.bind(null,null),context:e,title:"Are you sure?",desc:r[e]})]})}var Ce=t(68654),ze=t(31978);const Se=e=>{const s=p()();let t=s;switch(e){case"year":t=s.add(100,"year");break;case"month":t=s.add(1,"month");break;case"quarter":t=s.add(3,"month")}return t.format("YYYY-MM-DD")},Ue=(0,F.JZ)(),Pe=({closeModal:e})=>{const{t:s}=(0,i.Bd)("setting"),{t:t}=(0,i.Bd)(),[l,{isLoading:r,isSuccess:o}]=(0,v.Bh)(),[x,M]=(0,a.useState)(location.hostname),[m,g]=(0,a.useState)(!1),[N,h]=(0,a.useState)(`${Ue[0].pid}|${Ue[0].limit}|${Ue[0].type}|${Ue[0].sub_dur||""}`),p=()=>{g((e=>!e))},_=N.includes("booking");return(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{title:s("license.renew"),description:s("license.renew_select"),buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{onClick:e,className:"ghost",children:t("action.cancel")}),_?(0,j.jsx)(d.A,{onClick:()=>{window.open("https://calendly.com/hansu","_blank")},children:"Booking a meeting!"}):(0,j.jsx)(f.Ay,{visible:m,interactive:!0,placement:"top-end",offset:[-50,-40],trigger:"click",content:(0,j.jsxs)("div",{className:"p-3 rounded-lg border border-solid border-gray-200 dark:border-gray-900 flex flex-col items-start gap-3 w-[430px] bg-white dark:bg-gray-800 shadow shadow-gray-200 dark:shadow-gray-900 drop-shadow-xl",children:[(0,j.jsx)("div",{className:"text-gray-500 text-sm",children:s("license.tip_domain")}),(0,j.jsx)(I.A,{value:x,onChange:e=>{M(e.target.value)}}),(0,j.jsxs)("div",{className:"flex justify-between items-center w-full mt-4",children:[(0,j.jsxs)("span",{className:"text-xs text-orange-500 text-left",children:[" ",s("license.tip_port")]}),(0,j.jsxs)("div",{className:"flex gap-3 whitespace-nowrap",children:[(0,j.jsx)(d.A,{className:"mini cancel",onClick:p,children:t("action.cancel")}),(0,j.jsx)(d.A,{className:"mini",disabled:r||o,onClick:async()=>{const e=`https://${x}`;if(!ze.t6(e))return void c.Ay.error("Invalid Host");if(""!==new URL(e).port||x.endsWith(":443"))return void c.Ay.error(s("license.tip_port"));const[t,a,i,r="month"]=N.split("|"),n={user_limit:Number(a),expire:Se("subscription"==i?r:"year"),domain:x.startsWith("localhost")?"*":x},d=await l({type:i,priceId:t,metadata:n,cancel_url:location.href,success_url:`${location.origin}/#/cb/payment_success`});"error"in d?c.Ay.error("Payment link initialized failed!"):(d.data,location.href=d.data.session_url)},children:r?"Initialize Payment URL":o?"Redirecting":s("license.tip_confirm")})]})]})]}),children:(0,j.jsxs)("button",{onClick:p,className:"text-sm text-white bg-primary-400 break-keep shadow rounded-lg px-3.5 py-2.5 md:hover:bg-primary-500 active:bg-primary-500 disabled:bg-gray-300",children:[" ",s("license.renew")]})})]}),children:(0,j.jsx)(je.A,{options:Ue.map((({title:e,desc:s,price:t})=>`${e} ${s?`[${s}]`:""}${t?`[${t}]`:""}`)),values:Ue.map((({pid:e,limit:s,type:t="payment",sub_dur:a="month"})=>`${e}|${s}|${t}|${a}`)),value:N,onChange:e=>{h(e)}})})})},Ye=({closeModal:e,updateLicense:s,updating:t,updated:l})=>{const[r,o]=(0,a.useState)(""),{t:x}=(0,i.Bd)("setting"),{t:M}=(0,i.Bd)();return(0,a.useEffect)((()=>{l&&(c.Ay.success(M("tip.update")),e())}),[l]),(0,j.jsx)(n.A,{id:"modal-modal",children:(0,j.jsx)(u.A,{buttons:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.A,{onClick:e,className:"ghost",children:M("action.cancel")}),(0,j.jsx)(d.A,{disabled:t||l||!r,onClick:async()=>{const e=await s(r);"boolean"!=typeof e||e||c.Ay.error("Check License Invalid!")},children:t?"Updating":l?"Update Successfully":x("license.update")})]}),children:(0,j.jsx)(Me.A,{rows:18,placeholder:x("license.update_placeholder"),value:r,onChange:e=>{o(e.target.value)}})})})},Be=({label:e,data:s,foldable:t=!1,...a})=>{const i=(0,B.A)("font-bold w-full cursor-pointer dark:text-green-500",t?"truncate":"whitespace-pre-wrap break-all");return s?(0,j.jsxs)("div",{className:"whitespace-nowrap  flex flex-col items-start justify-start text-lg",children:[(0,j.jsx)("span",{className:"text-sm text-green-500",children:e}),Array.isArray(s)?(0,j.jsx)("ul",{className:i,children:s.map((e=>(0,j.jsx)("li",{children:e},e)))}):(0,j.jsx)("span",{className:i,...a,children:s})]}):null};function Qe(){var e;const{t:s,i18n:t}=(0,i.Bd)("setting"),{license:l,reachLimit:r,upsertLicense:c,upserting:n,upserted:o}=(0,Ce.A)(!0),[u,x]=(0,a.useState)(!1),[M,m]=(0,a.useState)(!1),[g,N]=(0,a.useState)(!0),h=()=>{x((e=>!e))},_=()=>{m((e=>!e))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"max-w-3xl flex flex-col justify-start items-start gap-4",children:[(0,j.jsxs)("div",{className:(0,B.A)("relative w-full p-3 rounded border-solid border flex flex-col gap-4 shadow",r?"border-red-600 bg-red-200/50":"border-green-600 bg-green-100 dark:bg-green-900"),children:[(0,j.jsx)(Be,{label:s("license.signed"),data:null!==l&&void 0!==l&&l.sign?"Yes":"Not Yet"}),(0,j.jsx)(Be,{label:s("license.domain"),data:null===l||void 0===l?void 0:l.domains}),(0,j.jsx)(Be,{label:s("license.user_limit"),data:(null!==(e=null===l||void 0===l?void 0:l.user_limit)&&void 0!==e?e:0)>=999999?"No Limit":null===l||void 0===l?void 0:l.user_limit}),(0,j.jsx)(Be,{label:s("license.expire"),data:p()(null===l||void 0===l?void 0:l.expired_at).format("YYYY-MM-DD h:mm:ss A")}),(0,j.jsx)(Be,{label:s("license.create"),data:p()(null===l||void 0===l?void 0:l.created_at).format("YYYY-MM-DD h:mm:ss A")}),(0,j.jsx)(Be,{label:s("license.value"),data:null===l||void 0===l?void 0:l.base58,foldable:g,title:g?"Click to see full text":"Click to fold text",onClick:()=>{N((e=>!e))}})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(d.A,{onClick:h,children:s("license.renew")}),(0,j.jsx)(d.A,{onClick:_,className:"ghost",children:s("license.update")})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-4 bg-primary-500 text-white rounded drop-shadow-xl p-5",children:[(0,j.jsxs)("h2",{className:"text-2xl font-bold",children:[s("license.tip.title")," \ud83c\udf81"]}),(0,j.jsxs)("p",{className:"flex flex-col",children:[(0,j.jsx)("span",{children:s("license.tip.user_test")}),(0,j.jsxs)("span",{children:[s("license.tip.contact"),t.language.startsWith("zh")?"Privoce":(0,j.jsx)("a",{className:"underline text-lg text-green-200",href:"https://calendly.com/hansu/han-meeting",target:"_blank",rel:"noopener noreferrer",children:"https://calendly.com/hansu/han-meeting"})]})]})]})]}),u&&(0,j.jsx)(Pe,{closeModal:h}),M&&(0,j.jsx)(Ye,{updated:o,updating:n,updateLicense:c,closeModal:_})]})}var Re=t(75942);const Ge=()=>{const e=(0,m.GV)((e=>{var s;return null!==(s=e.server.chat_layout_mode)&&void 0!==s?s:"Left"}),D.bN),{t:s}=(0,i.Bd)("setting",{keyPrefix:"overview.chat_layout"}),{t:t}=(0,i.Bd)(),{refetch:l}=(0,v.Mv)(),[r,{isSuccess:n}]=(0,v.u3)();(0,a.useEffect)((()=>{n&&(l(),c.oR.success(t("tip.update")))}),[n]);return(0,j.jsx)(Te.A,{title:s("title"),desc:s("desc"),children:(0,j.jsx)(je.A,{options:[s("left"),s("self_right")],values:["Left","SelfRight"],value:e,onChange:e=>{r({chat_layout_mode:e})}})})},Ve=()=>{const e=(0,m.GV)((e=>!!e.server.contact_verification_enable),D.bN),{t:s}=(0,i.Bd)("setting",{keyPrefix:"overview.contact_verify"}),{t:t}=(0,i.Bd)(),{refetch:l}=(0,v.Mv)(),[r,{isSuccess:n}]=(0,v.u3)();(0,a.useEffect)((()=>{n&&(l(),c.oR.success(t("tip.update")))}),[n]);return(0,j.jsx)(Te.A,{title:s("title"),desc:s("desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{r({contact_verification_enable:!e})},checked:e})})},We=()=>{const[e,s]=(0,a.useState)(localStorage.theme||"auto"),{t:t}=(0,i.Bd)("setting");return(0,j.jsx)(Te.A,{title:t("overview.theme.title"),desc:t("overview.theme.desc"),children:(0,j.jsx)(je.A,{options:[t("overview.theme.auto"),t("overview.theme.dark"),t("overview.theme.light")],values:["auto","dark","light"],value:e,onChange:e=>{(e=>{if(s(e),localStorage.theme=e,document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light"),"auto"!==e)document.documentElement.classList.add(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.add(e?"dark":"light")}})(e)}})})},Fe=()=>{const{data:e,isSuccess:s}=(0,v.X)(),[t,l]=(0,a.useState)(location.origin),{t:r}=(0,i.Bd)("setting"),{t:n}=(0,i.Bd)(),[o,{isLoading:u,isSuccess:x}]=(0,v.PX)();return(0,a.useEffect)((()=>{x&&c.oR.success(n("tip.update"))}),[x]),(0,a.useEffect)((()=>{s&&e&&l(e)}),[s,e]),(0,j.jsx)(Te.A,{title:r("overview.url.title"),desc:r("overview.url.desc"),children:(0,j.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,j.jsx)(I.A,{placeholder:"frontend url",value:t,onChange:e=>{l(e.target.value)}}),(0,j.jsxs)(d.A,{disabled:!t||u,className:"small",onClick:()=>{o(t)},children:[" ",n("action.update")]})]})})};var Ke=t(54979);const Ze=()=>{const e=(0,m.GV)((e=>!!e.server.show_user_online_status),D.bN),{t:s}=(0,i.Bd)("setting",{keyPrefix:"overview.online_status"}),{t:t}=(0,i.Bd)(),{refetch:l}=(0,v.Mv)(),[r,{isSuccess:n}]=(0,v.u3)();(0,a.useEffect)((()=>{n&&(l(),c.oR.success(t("tip.update")))}),[n]);return(0,j.jsx)(Te.A,{title:s("title"),desc:s("desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{r({show_user_online_status:!e})},checked:e})})};var He=t(74671);const Je=()=>{const e=(0,D.wA)(),s=(0,m.GV)((e=>!!e.ui.msgSound),D.bN),{t:t}=(0,i.Bd)("setting",{keyPrefix:"overview.message_sound"});return(0,j.jsx)(Te.A,{title:t("title"),desc:t("desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{e((0,He.iy)(!s))},checked:s})})},Xe=()=>{const{t:e}=(0,i.Bd)("setting"),{t:s}=(0,i.Bd)(),t=(0,m.GV)((e=>{var s;return null===(s=e.authData.user)||void 0===s?void 0:s.is_admin}),D.bN),l=(0,m.GV)((e=>e.server),D.bN),[r,{isSuccess:n}]=(0,v.PZ)(),[d]=(0,v.NI)(),[o,u]=(0,a.useState)(!1),[x,M]=(0,a.useState)(l),g=e=>{const s=e.target.value,{type:t=""}=e.target.dataset;M((e=>({...e,[t]:s})))};(0,a.useEffect)((()=>{l&&M(l)}),[l]),(0,a.useEffect)((()=>{n&&c.Ay.success(s("tip.update"))}),[n]),(0,a.useEffect)((()=>{if(l&&x){const{name:e,description:s}=x,{name:t,description:a}=l;u(t!==e||a!==s)}}),[l,x]);const{name:N,description:h,logo:p}=x;return x?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"flex gap-4",children:[(0,j.jsx)("div",{className:"w-24 h-24",children:(0,j.jsx)(P.A,{disabled:!t,url:n?`${p}?t=${+new Date}`:p,name:N,uploadImage:r})}),t&&(0,j.jsx)("div",{className:"flex flex-col justify-between items-start",children:(0,j.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-100",children:e("overview.upload_desc")})})]}),(0,j.jsxs)("div",{className:"flex flex-col items-start gap-6 mb-3",children:[(0,j.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,j.jsx)(de.A,{htmlFor:"name",children:e("overview.name")}),(0,j.jsx)(I.A,{disabled:!t,"data-type":"name",onChange:g,value:N,name:"name",id:"name",placeholder:"Server Name"})]}),(0,j.jsxs)("div",{className:"w-full flex flex-col items-start gap-2",children:[(0,j.jsx)(de.A,{htmlFor:"desc",children:e("overview.desc")}),(0,j.jsx)(Me.A,{disabled:!t,"data-type":"description",onChange:g,value:null!==h&&void 0!==h?h:"",rows:4,name:"desc",id:"desc",placeholder:"Tell the world a bit about this server"})]})]}),o&&(0,j.jsx)(ne.A,{saveHandler:()=>{const{name:e,description:s}=x;d({name:e,description:s})},resetHandler:()=>{M(l)}})]}):null},qe=({})=>{const{t:e}=(0,i.Bd)("setting"),{t:s}=(0,i.Bd)(),{refetch:t}=(0,v.Mv)(),l=(0,m.GV)((e=>{var s;return null!==(s=e.server.only_admin_can_create_group)&&void 0!==s&&s}),D.bN),[r,{isSuccess:n}]=(0,v.u3)();(0,a.useEffect)((()=>{n&&(t(),c.Ay.success(s("tip.update")))}),[n]);return(0,j.jsx)(Ee.A,{empty:!0,version:"0.3.50",children:(0,j.jsx)(Te.A,{title:e("overview.admin_create_group.title"),desc:e("overview.admin_create_group.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{r({only_admin_can_create_group:!l})},checked:l})})})};var $e=t(17159);const es=({})=>{const{updateExtSetting:e,getExtSetting:s}=(0,$e.A)(),{t:t}=(0,i.Bd)("setting"),a=s(F.Ez);return(0,j.jsx)(Ee.A,{empty:!0,version:"0.3.50",children:(0,j.jsx)(Te.A,{title:t("overview.admin_see_group_members.title"),desc:t("overview.admin_see_group_members.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{e(F.Ez,!a)},checked:a})})})},ss=({})=>{const{updateExtSetting:e,getExtSetting:s}=(0,$e.A)(),{t:t}=(0,i.Bd)("setting"),a=s(F.hp);return(0,j.jsx)(Ee.A,{empty:!0,version:"0.3.50",children:(0,j.jsx)(Te.A,{title:t("overview.enable_msg_url_preview.title"),desc:t("overview.enable_msg_url_preview.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{e(F.hp,!a)},checked:a})})})},ts=(0,F.ln)(),as=({})=>{const{values:e}=L("smtp"),{t:s}=(0,i.Bd)("setting"),{t:t}=(0,i.Bd)(),{refetch:l}=(0,v.Mv)(),r=(0,m.GV)((e=>{var s;return null!==(s=e.server.msg_smtp_notify_enable)&&void 0!==s&&s}),D.bN),n=(0,m.GV)((e=>{var s;return null!==(s=e.server.msg_smtp_notify_delay_seconds)&&void 0!==s?s:0}),D.bN),[d,{isSuccess:o}]=(0,v.u3)();(0,a.useEffect)((()=>{o&&(l(),c.Ay.success(t("tip.update")))}),[o]);return(0,j.jsx)(Ee.A,{empty:!0,version:"0.4.0",children:(0,j.jsx)(Te.A,{title:s("overview.server_msg_notify.title"),desc:s("overview.server_msg_notify.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{r||e.enabled?d({msg_smtp_notify_enable:!r}):c.Ay.error("Enable SMTP first!")},checked:r}),children:(0,j.jsx)(je.A,{disabled:!r,options:ts.map((e=>e.label)),values:ts.map((e=>e.value)),value:n,onChange:e=>{d({msg_smtp_notify_delay_seconds:+e})}})})})},is=({})=>{const{values:e,updateConfig:s}=L("login"),{t:t}=(0,i.Bd)("setting");if(!e)return null;const{guest:a=!1}=e;return(0,j.jsx)(Te.A,{title:t("overview.guest_mode.title"),desc:t("overview.guest_mode.desc"),toggler:(0,j.jsx)(b.A,{onClick:(t=>{s({...e,guest:t})}).bind(null,!a),checked:a})})},ls=({})=>{const{t:e}=(0,i.Bd)("setting"),{values:s,updateConfig:t}=L("login");if(!s)return null;const{who_can_sign_up:a}=s;return(0,j.jsx)(Te.A,{title:e("overview.sign_up.title"),desc:e("overview.sign_up.desc"),children:(0,j.jsx)(je.A,{options:[e("overview.sign_up.everyone"),e("overview.sign_up.invite")],values:["EveryOne","InvitationOnly"],value:a,onChange:e=>{var a;a=e,t({...s,who_can_sign_up:a})}})})},rs=({})=>{const[e,{isSuccess:s}]=(0,U.sU)(),{t:t}=(0,i.Bd)("setting"),{t:l}=(0,i.Bd)(),{refetch:r}=(0,v.Mv)(),n=(0,m.GV)((e=>{var s;return null!==(s=e.server.msg_smtp_notify_enable)&&void 0!==s&&s}),D.bN),d=(0,m.GV)((e=>{var s,t;return null!==(s=null===(t=e.authData.user)||void 0===t?void 0:t.msg_smtp_notify_enable)&&void 0!==s&&s}),D.bN);(0,a.useEffect)((()=>{s&&(r(),c.Ay.success(l("tip.update")))}),[s]);return n?(0,j.jsx)(Ee.A,{empty:!0,version:"0.4.0",children:(0,j.jsx)(Te.A,{title:t("overview.user_msg_notify.title"),desc:t("overview.user_msg_notify.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{e({msg_smtp_notify_enable:!d})},checked:d})})}):null},cs=({})=>{const{updateExtSetting:e,getExtSetting:s}=(0,$e.A)(),{t:t}=(0,i.Bd)("setting"),a=s(F.f9);return(0,j.jsx)(Ee.A,{empty:!0,version:"0.3.50",children:(0,j.jsx)(Te.A,{title:t("overview.admin_only_can_invite.title"),desc:t("overview.admin_only_can_invite.desc"),toggler:(0,j.jsx)(b.A,{onClick:()=>{e(F.f9,!a)},checked:a})})})};function ns(){const{t:e}=(0,i.Bd)("setting"),s=(0,m.GV)((e=>{var s;return null===(s=e.authData.user)||void 0===s?void 0:s.is_admin}),D.bN);return(0,j.jsxs)("div",{className:"relative w-full md:w-[512px] flex flex-col gap-6",children:[(0,j.jsx)(Xe,{}),s&&(0,j.jsx)(as,{}),(0,j.jsx)(rs,{}),s&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{}),(0,j.jsx)("div",{className:"flex flex-col",children:(0,j.jsx)("h4",{className:"font-bold text-gray-700 dark:text-white",children:e("overview.title_feat")})}),(0,j.jsx)(ls,{}),(0,j.jsx)(ss,{}),(0,j.jsx)(cs,{}),(0,j.jsx)(es,{}),(0,j.jsx)(is,{}),(0,j.jsx)(Ze,{}),(0,j.jsx)(Ge,{}),(0,j.jsx)(Ve,{})]}),(0,j.jsx)(Ke.A,{}),(0,j.jsx)(We,{}),(0,j.jsx)(Je,{}),s&&(0,j.jsx)(qe,{})]})}var ds=t(42752),os=t(23375),us=t(16084);const xs=({paramKey:e,paramDefault:s,remarks:t})=>(0,j.jsxs)("tr",{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 border-b transition duration-300 ease-in-out md:hover:bg-gray-100 dark:md:hover:bg-gray-900",children:[(0,j.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e}),(0,j.jsx)("td",{className:"text-sm font-light px-6 py-4 whitespace-nowrap",children:"theme-color"==e?(0,j.jsxs)("span",{style:{color:s},children:[" ",s]}):s}),(0,j.jsx)("td",{className:"text-sm font-light px-6 py-4",children:(0,j.jsx)(us.A,{linkPreview:!1,text:t,mention:!1})})]}),js=({})=>{const{t:e}=(0,i.Bd)("setting",{keyPrefix:"widget"}),{t:s}=(0,i.Bd)("widget");return(0,j.jsxs)("table",{className:"min-w-full table-auto",children:[(0,j.jsx)("thead",{className:"border-b bg-gray-50 dark:bg-gray-500",children:(0,j.jsx)("tr",{children:[e("param_key"),e("default_value"),e("remark")].map((e=>(0,j.jsx)("th",{scope:"col",className:"text-sm font-bold text-gray-900 dark:text-white px-6 py-4 text-left whitespace-nowrap",children:e},e)))})}),(0,j.jsx)("tbody",{children:[{paramKey:"id",paramDefault:"-",remarks:e("param_id")},{paramKey:"host-id",paramDefault:1,remarks:e("param_host")},{paramKey:"auto-reg",paramDefault:"true",remarks:e("param_auto_reg")},{paramKey:"login-token",paramDefault:"-",remarks:e("param_login_token")},{paramKey:"title",paramDefault:"[VoceChat Name]",remarks:e("param_title")},{paramKey:"logo",paramDefault:"[VoceChat Logo]",remarks:e("param_logo")},{paramKey:"theme-color",paramDefault:"#1fe1f9",remarks:e("param_theme_color")},{paramKey:"close-width",paramDefault:"48(px)",remarks:e("param_close_width")},{paramKey:"close-height",paramDefault:"48(px)",remarks:e("param_close_height")},{paramKey:"open-width",paramDefault:"380(px)",remarks:e("param_open_width")},{paramKey:"open-height",paramDefault:"680(px)",remarks:e("param_open_height")},{paramKey:"position",paramDefault:"right",remarks:e("param_position")},{paramKey:"welcome",paramDefault:s("welcome"),remarks:e("param_welcome")}].map((e=>(0,j.jsx)(xs,{...e},e.paramKey)))}),(0,j.jsx)("tfoot",{className:"border-t border-solid border-gray-200 dark:border-gray-50 dark:bg-gray-500",children:(0,j.jsx)("tr",{children:(0,j.jsxs)("td",{colSpan:3,className:"text-gray-400 dark:text-white px-5 py-3 text-sm",children:["* All the parameters are optional, and prefixed by"," ",(0,j.jsx)("i",{className:"bg-gray-700 text-white px-1",children:"data-"})]})})})]})},Ms=({})=>{const[e,{isLoading:s,isSuccess:t}]=(0,v.So)(),{data:i="",isLoading:l}=(0,v._9)(),[r,n]=(0,a.useState)(i);return(0,a.useEffect)((()=>{t&&c.Ay.success("Updated!")}),[t]),(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)(Me.A,{disabled:l,onChange:e=>{n(e.target.value)},rows:12,value:r}),(0,j.jsx)(d.A,{disabled:s,onClick:()=>{e(r)},className:"small",children:"Update CSS Code"})]})};function ms(){const e=(0,m.GV)((e=>{var s;return null===(s=e.authData.user)||void 0===s?void 0:s.uid}),D.bN),s=`${location.origin}/widget.html?host=${e}`,{t:t}=(0,i.Bd)("setting",{keyPrefix:"widget"}),{t:a}=(0,i.Bd)(),{copied:l,copy:r}=(0,C.A)({enableToast:!1});return(0,j.jsxs)("div",{className:"flex flex-col justify-start items-start",children:[(0,j.jsx)("div",{className:"font-semibold dark:text-white",children:t("tip")}),(0,j.jsxs)("label",{htmlFor:"code",className:"font-semibold dark:text-white",children:[t("code"),":"]}),(0,j.jsx)(ds.A,{id:"code",language:"html",style:os.A,className:"rounded",children:`\x3c!-- ${t("code_comment")} --\x3e\n<script \n  data-host-id="${e}" \n  data-auto-reg="true" \n  data-login-token="" \n  data-title="" \n  data-logo="" \n  data-theme-color="#1fe1f9" \n  data-close-width="48" \n  data-close-height="48" \n  data-open-width="380" \n  data-open-height="680" \n  data-welcome="Your custom welcome text" \n  src="${location.origin}/widget.js" \n  async \n><\/script>`}),(0,j.jsxs)("div",{className:"text-sm dark:text-white",children:[t("custom_style_tip"),":"]}),(0,j.jsx)(ds.A,{id:"code",language:"html",style:os.A,className:"rounded",children:"<style>\n  #VOCECHAT_WIDGET {\n    left:10px  /* left position */\n    bottom: 5px /* bottom position */\n  }\n</style>"}),(0,j.jsx)(Ee.A,{version:"0.4.0",children:(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsxs)("div",{className:"text-sm dark:text-white",children:[t("css_code_tip"),":"]}),(0,j.jsx)(Ms,{})]})}),(0,j.jsxs)("div",{className:"font-semibold dark:text-white mt-5 mb-2",children:[t("config"),":"]}),(0,j.jsx)("div",{className:"w-full md:w-[700px] border border-solid border-gray-300 dark:border-gray-400 rounded overflow-auto md:overflow-hidden",children:(0,j.jsx)(js,{})}),(0,j.jsxs)("div",{className:"mt-8",children:[(0,j.jsxs)("p",{className:"text-sm mb-2 text-gray-500 dark:text-gray-50 flex flex-col md:flex-row gap-4",children:[t("share_link")," ",(0,j.jsxs)("a",{className:"text-primary-500 flex gap-1 items-center",href:"https://doc.voce.chat/widget",target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)(oe.A,{})," ",t("widget_faq")]})]}),(0,j.jsxs)("div",{className:"w-full md:w-96 mb-3 relative",children:[(0,j.jsx)(I.A,{readOnly:!0,className:"large !pr-16",value:s}),(0,j.jsx)(d.A,{onClick:()=>{r(s)},className:"ghost small border_less absolute right-1 top-1/2 -translate-y-1/2 dark:!text-primary-400",children:l?"Copied":a("action.copy")})]})]})]})}const gs={name:"data_management",component:(0,j.jsx)(Oe,{}),admin:!0},Ns=[{name:"general",items:[{name:"overview",component:(0,j.jsx)(ns,{})},{name:"my_account",component:(0,j.jsx)(Re.A,{})},{name:"members",component:(0,j.jsx)(g.A,{}),admin:!0}]},{name:"config",items:[{name:"bot",component:(0,j.jsx)(ce,{}),admin:!0},{name:"firebase",component:(0,j.jsx)(me,{})},{name:"agora",component:(0,j.jsx)(xe,{})},{name:"smtp",component:(0,j.jsx)(be,{})},{name:"login_method",component:(0,j.jsx)(Ie,{})},{name:"third_app",component:(0,j.jsx)(E,{})},{name:"widget",component:(0,j.jsx)(ms,{})},{name:"license",component:(0,j.jsx)(Qe,{})}],admin:!0},{name:"about",items:[{name:"api_doc",component:(0,j.jsx)(S,{})},{name:"version",component:(0,j.jsx)(w,{})}]}],hs=()=>{const{t:e}=(0,i.Bd)("setting"),s=(0,m.GV)((e=>e.authData.user),D.bN),t=(0,m.GV)((e=>e.server.upgraded),D.bN),a=null!==s&&void 0!==s&&s.is_admin?Ns:Ns.filter((e=>!e.admin)).map((e=>{const{name:s,items:t,...a}=e;return{name:s,items:t.filter((e=>!e.admin)),...a}}));1!=(null===s||void 0===s?void 0:s.uid)||a[0].items.some((e=>"data_management"==e.name))||a[0].items.push(gs);const l=a.map((s=>{const{name:t,items:a,...i}=s;return{name:t,title:e(`nav.${t}`),items:a.map((s=>{const{name:t,...a}=s;return{name:t,title:e(`nav.${t}`),...a}})),...i}}));return l.filter((e=>!(null===s||void 0===s||!s.is_admin)||("about"==e.name?!t:!e.admin)))};let ps="";function _s(){const{t:e}=(0,i.Bd)(),[s]=(0,l.ok)(),t=hs(),c=t.map((({items:e})=>e)).flat(),{nav:n}=(0,l.g)(),[d,o]=(0,a.useState)(!1),u=(0,l.Zp)();ps=ps||(s.get("f")||"/");const x=()=>{o((e=>!e))},m=c.find((e=>e.name==n));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{nav:m,closeModal:()=>{u(ps),ps=""},title:e("setting"),navs:t,dangers:[{title:e("action.logout"),handler:x}],children:n?null===m||void 0===m?void 0:m.component:null}),d&&(0,j.jsx)(M,{closeModal:x})]})}},95327:(e,s,t)=>{t.d(s,{A:()=>x});var a=t(91118),i=t(90184),l=t(23558),r=t(107),c=t(36421),n=t(68702),d=t(71040),o=t(95351),u=t(45646);const x=({label:e="Username",valueKey:s="name",value:t="",type:x="text",title:j="Change your username",intro:M="Enter a new username and your existing password.",closeModal:m})=>{const g=(0,a.useRef)(null),{t:N}=(0,l.Bd)(),[h,p]=(0,a.useState)(t),[_,{isLoading:D,isSuccess:y}]=(0,r.sU)();return(0,a.useEffect)((()=>{y&&(i.Ay.success(N("tip.update")),m())}),[y]),(0,u.jsx)(c.A,{id:"modal-modal",children:(0,u.jsx)(o.A,{title:j,description:M,buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{className:"cancel",onClick:m,children:N("action.cancel")}),(0,u.jsx)(n.A,{onClick:()=>{if(!g||!g.current)return;const e=g.current;e.checkValidity()?_({[s]:h}):e.reportValidity()},children:D?"Updating":N("action.done")})]}),children:(0,u.jsxs)("form",{ref:g,className:"flex flex-col gap-2 w-full",action:"/",children:[(0,u.jsx)("label",{htmlFor:s,className:"text-sm text-left text-gray-500",children:e}),(0,u.jsx)(d.A,{name:s,value:h,onChange:e=>{p(e.target.value)},type:x,required:!0})]})})})}}}]);