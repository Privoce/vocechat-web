"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[608],{6527:(e,a,t)=>{t.d(a,{A:()=>s});t(91118);var r=t(45646);const s=({toggler:e,title:a,desc:t,children:s})=>a?(0,r.jsxs)("div",{className:"text-sm w-full",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-100 font-semibold",children:a}),(0,r.jsx)("p",{className:"flex justify-between w-full text-gray-400 text-xs",children:t})]}),e&&(0,r.jsx)("div",{children:e})]}),s]}):(0,r.jsx)("div",{className:"min-w-56",children:s})},13575:(e,a,t)=>{t.d(a,{A:()=>o});var r,s,l=t(91118);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}const i=({title:e,titleId:a,...t},i)=>l.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:i,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,r||(r=l.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"})),s||(s=l.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))),o=(0,l.forwardRef)(i)},37638:(e,a,t)=>{t.d(a,{A:()=>m});var r=t(6858),s=t(91118),l=t(54979),n=t(68702),i=t(23558),o=t(89341),d=t(86560),c=t(45646);const m=({})=>{const{i18n:e}=(0,i.Bd)(),[a,t]=(0,s.useState)(!1),m=e.language,[x,u]=(0,s.useState)(l.X[m]);return(0,c.jsx)(r.Ay,{onShown:t.bind(null,!0),onHidden:t.bind(null,!1),interactive:!0,placement:"bottom-end",trigger:"click",content:(0,c.jsx)(l.A,{context:"aside",callback:u}),children:(0,c.jsxs)(n.A,{className:"small ghost fixed right-3 top-3 inline-flex gap-1 !w-fit",children:[(0,c.jsx)("span",{children:x})," ",(0,c.jsx)(o.A,{className:(0,d.cn)("dark:stroke-gray-100 transition-all",a?"rotate-180":"")})," "]})})}},54979:(e,a,t)=>{t.d(a,{A:()=>o,X:()=>i});var r=t(23558),s=t(6527),l=t(64117),n=t(45646);const i={en:"English",zh:"\u4e2d\u6587",tr:"T\xfcrk\xe7e",jp:"\u65e5\u672c\u8a9e",pt:"Portuguese",de:"Deutsch",fr:"Fran\xe7ais",es:"Espa\xf1ol",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},o=({context:e="overview",callback:a})=>{const{t:t,i18n:o}=(0,r.Bd)("setting");return(0,n.jsx)(s.A,{title:"overview"==e?t("overview.lang.title"):"",desc:t("overview.lang.desc"),children:(0,n.jsx)(l.A,{options:Object.values(i),values:Object.keys(i),value:o.language.split("-")[0],onChange:e=>{const t=e;(e=>{o.changeLanguage(e)})(t),null===a||void 0===a||a(i[t])}})})}},60505:(e,a,t)=>{t.d(a,{A:()=>o});var r,s,l=t(91118);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}const i=({title:e,titleId:a,...t},i)=>l.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:i,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,r||(r=l.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"})),s||(s=l.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))),o=(0,l.forwardRef)(i)},62742:(e,a,t)=>{t.d(a,{A:()=>o});var r,s,l=t(91118);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(null,arguments)}const i=({title:e,titleId:a,...t},i)=>l.createElement("svg",n({width:20,height:20,viewBox:"0 0 20 20",stroke:"#088AB2",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,r||(r=l.createElement("g",{clipPath:"url(#clip0_1130_82786)"},l.createElement("path",{d:"M9.99984 13.3334V10M9.99984 6.66669H10.0082M18.3332 10C18.3332 14.6024 14.6022 18.3334 9.99984 18.3334C5.39746 18.3334 1.6665 14.6024 1.6665 10C1.6665 5.39765 5.39746 1.66669 9.99984 1.66669C14.6022 1.66669 18.3332 5.39765 18.3332 10Z",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}))),s||(s=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_1130_82786"},l.createElement("rect",{width:20,height:20}))))),o=(0,l.forwardRef)(i)},64117:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(86560),s=t(91118),l=t(45646);const n=[],i=({disabled:e=!1,options:a,values:t=n,value:i="",defaultValue:o="",onChange:d})=>{const c=(0,s.useId)(),[m,x]=(0,s.useState)(o),u=""!==i?i:m;return(0,l.jsx)("form",{className:"w-full flex flex-col gap-2",children:a.map(((a,s)=>(0,l.jsxs)("div",{className:(0,r.cn)("relative bg-transparent",e&&"grayscale-[0.8]"),children:[(0,l.jsx)("input",{disabled:e,className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer peer z-50",type:"radio",checked:(t!==n?t.indexOf(u):u)===s,onChange:()=>{const e=t===n?s:t[s];""===i&&x(e),d&&d(e)},id:`${c}-${s}`}),(0,l.jsx)("div",{className:"drop-shadow-sm text-left px-2 py-3 border border-solid border-gray-300 dark:border-gray-400 rounded-lg w-full h-full bg-white dark:bg-gray-800 peer-checked:bg-primary-400 text-sm text-gray-500 dark:text-gray-300  peer-checked:text-white",children:(0,l.jsx)("label",{className:"ml-6",htmlFor:`${c}-${s}`,children:a})}),(0,l.jsx)("div",{className:"absolute top-1/2 left-3 -translate-y-1/2 w-3.5 h-3.5 rounded-full border border-solid border-gray-300 peer-checked:hidden"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-3 -translate-y-1/2 w-3.5 h-3.5 rounded-full border border-solid border-white invisible peer-checked:visible flex-center",children:(0,l.jsx)("div",{className:"w-1 h-1 bg-white rounded-full"})})]},s)))})}},71040:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(91118),s=t(66514),l=t(13575),n=t(60505),i=t(45646);const o=({type:e="text",prefix:a="",className:t="",...o})=>{const[d,c]=(0,r.useState)(e),m=t.includes("large"),x=t.includes("none"),u="password"==e,p=(0,s.A)("w-full text-sm text-gray-800 dark:text-gray-200 p-2 outline-none \n    bg-inherit\n  disabled:text-gray-500 disabled:bg-gray-100 \n  dark:disabled:text-gray-500 \n  dark:disabled:bg-gray-800/50\n  dark:disabled:border-gray-600 \n  placeholder:text-gray-400",m&&"py-3",x&&"!border-none bg-transparent shadow-none",u&&"pr-[30px]");return"password"==e?(0,i.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${t}`,children:[(0,i.jsx)("input",{type:d,autoComplete:"password"==d?"current-password":"on",className:`${p} ${t}`,...o}),(0,i.jsx)("div",{className:"absolute top-1/2 right-2.5 -translate-y-1/2 cursor-pointer",onClick:()=>{c((e=>"password"==e?"text":"password"))},children:"password"==d?(0,i.jsx)(l.A,{className:"fill-gray-500"}):(0,i.jsx)(n.A,{className:"fill-gray-500"})})]}):a?(0,i.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm bg-white dark:bg-gray-800 ${t}`,children:["string"===typeof a?(0,i.jsx)("span",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 shadow-[rgb(0_0_0_/_10%)_-1px_0px_0px_inset]",children:a}):(0,i.jsx)("span",{className:"flex-center p-2 bg-transparent",children:a}),(0,i.jsx)("input",{className:`${p} ${t}`,type:e,...o})]}):(0,i.jsx)("input",{type:d,className:`${p} rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${t}`,...o})}},89341:(e,a,t)=>{t.d(a,{A:()=>i});var r,s=t(91118);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(null,arguments)}const n=({title:e,titleId:a,...t},n)=>s.createElement("svg",l({width:20,height:20,viewBox:"0 0 20 20",stroke:"#344054",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,r||(r=s.createElement("path",{d:"M5 7.5L10 12.5L15 7.5",strokeWidth:1.67,strokeLinecap:"round",strokeLinejoin:"round"}))),i=(0,s.forwardRef)(n)},90660:(e,a,t)=>{t.r(a),t.d(a,{default:()=>O});var r=t(91118),s=t(23558),l=t(71671),n=t(66514),i=t(44518);const o=[{name:"welcomePage",label:(0,i.t)("welcome:onboarding.welcome_page")},{name:"serverName",label:(0,i.t)("welcome:onboarding.set_name")},{name:"adminAccount",label:(0,i.t)("welcome:onboarding.admin_account")},{name:"whoCanSignUp",label:(0,i.t)("welcome:onboarding.who_sign_up")},{name:"inviteLink",label:(0,i.t)("welcome:onboarding.invites"),canJumpTo:["whoCanSignUp"]},{name:"donePage",label:(0,i.t)("welcome:onboarding.done"),canJumpTo:["whoCanSignUp","inviteLink"]}];var d=t(90184),c=t(31210),m=t(56966),x=t(69259),u=t(72421),p=t(28512),g=t(68702),h=t(71040),f=t(45646);const b=({serverName:e})=>{const{t:a}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),{nextStep:t}=(0,l.X)(),n=(0,r.useRef)(null),i=(0,p.GV)((e=>!!e.authData.token),c.bN),o=(0,c.wA)(),[b,{isLoading:v,isError:w,isSuccess:y}]=(0,x.mi)(),[j,{isLoading:N,isError:k}]=(0,m._L)(),[_,{isLoading:A,isSuccess:C}]=(0,x.NI)(),[E,S]=(0,r.useState)(""),[L,B]=(0,r.useState)(""),[O,P]=(0,r.useState)("");return(0,r.useEffect)((()=>{w&&d.Ay.error("Failed to sign up")}),[w]),(0,r.useEffect)((()=>{y&&j({email:E,password:L,type:"password"})}),[y]),(0,r.useEffect)((()=>{k&&d.Ay.error("Login failed")}),[k]),(0,r.useEffect)((()=>{i&&(o((0,u.K3)(!0)),_({name:e}))}),[i]),(0,r.useEffect)((()=>{C&&t()}),[C]),(0,f.jsxs)("div",{className:"h-full flex-center flex-col text-center w-[360px] m-auto dark:text-gray-100",children:[(0,f.jsx)("span",{className:"text-2xl mb-2 font-bold",children:a("admin_title")}),(0,f.jsx)("span",{className:"text-sm mb-6",children:a("admin_desc")}),(0,f.jsxs)("form",{ref:n,action:"/",className:"flex flex-col gap-2 w-full",children:[(0,f.jsx)(h.A,{className:"large",placeholder:"Enter your email",type:"email",required:!0,value:E,onChange:e=>S(e.target.value)}),(0,f.jsx)(h.A,{className:"large",type:"password",required:!0,minLength:6,placeholder:"Enter your password",value:L,onChange:e=>B(e.target.value)}),(0,f.jsx)(h.A,{className:"large",type:"password",required:!0,minLength:6,placeholder:"Confirm your password",value:O,onChange:e=>P(e.target.value)})]}),(0,f.jsx)(g.A,{className:"mt-6 w-full",onClick:async()=>{const e=null===n||void 0===n?void 0:n.current;if(e){if(!e.checkValidity())return void e.reportValidity();b({email:E,name:"Admin",password:L,gender:0})}},children:v||N||A?"...":a("sign")})]})};var v=t(86938);const w=t.p+"static/media/play.ada446bc1d007eef6447.svg";function y({serverName:e}){const{t:a}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),t=(0,v.Zp)();return(0,f.jsxs)("div",{className:"h-full px-2 flex-center flex-col text-center md:w-[588px] m-auto dark:text-gray-100",children:[(0,f.jsx)("span",{className:"text-2xl font-bold mb-2",children:a("done_welcome",{serverName:e})}),(0,f.jsx)("span",{className:"text-sm mb-12",children:a("done_title")}),(0,f.jsx)("span",{className:"text-xl mb-12",children:(0,f.jsx)(s.x6,{i18nKey:"onboarding.done_desc",ns:"welcome",children:(0,f.jsx)("span",{className:"font-bold"})})}),(0,f.jsxs)(g.A,{className:"!w-32 h-auto flex flex-col items-center py-3",onClick:()=>t("/"),children:[(0,f.jsx)("img",{className:"mb-2",src:w,alt:"play icon"}),(0,f.jsx)("span",{className:"text-sm",children:a("enter")})]})]})}var j=t(91088),N=t(62742);const k=({refreshInviteLink:e})=>{const{t:a}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),{t:t}=(0,s.Bd)(),[l,{isSuccess:n,isLoading:i}]=(0,x.PX)(),{data:o,isSuccess:c}=(0,x.X)(),[m,u]=(0,r.useState)(location.origin);return(0,r.useEffect)((()=>{c&&o&&u(o)}),[c]),(0,r.useEffect)((()=>{n&&(e(),d.oR.success(t("tip.update")))}),[n]),(0,f.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-8 border-2 border-solid border-primary-300 dark:border-primary-700 bg-primary-25 dark:bg-primary-900 rounded-lg px-2 py-3 flex justify-start gap-4",children:[(0,f.jsx)(N.A,{}),(0,f.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,f.jsx)("span",{className:"text-sm text-primary-700 dark:text-primary-300 mb-1",children:a("update_domain_tip")}),(0,f.jsxs)("div",{className:"w-[300px] md:w-[400px] rounded flex gap-2",children:[(0,f.jsx)(h.A,{type:"url",className:"!shadow-none md:!bg-transparent",placeholder:"Frontend URL",value:m,onChange:e=>{u(e.target.value)}}),(0,f.jsx)(g.A,{disabled:!m||i,onClick:()=>{l(m)},className:"small ",children:t("action.update")})]})]})]})};function _(){const{t:e}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),{t:a}=(0,s.Bd)(),{nextStep:t}=(0,l.X)(),{link:r,linkCopied:n,copyLink:i,generateNewLink:o}=(0,j.A)();return(0,f.jsxs)("div",{className:"px-2 h-full flex-center flex-col relative dark:text-gray-100",children:[(0,f.jsx)("span",{className:"text-2xl mb-2 font-bold",children:e("invite_title")}),(0,f.jsx)("span",{className:"text-sm mb-10 text-gray-400 dark:text-gray-600",children:e("last_tip")}),(0,f.jsx)("span",{className:"text-sm text-gray-500 mb-2 font-semibold",children:e("last_desc")}),(0,f.jsxs)("div",{className:"w-full md:w-[400px] rounded shadow-md flex border border-solid border-gray-100",children:[(0,f.jsx)(h.A,{className:"large !border-none !shadow-none",readOnly:!0,placeholder:"Generating",value:r}),(0,f.jsx)(g.A,{onClick:i,className:"ghost small border_less !px-2 md:hover:!text-primary-600",children:n?"Copied":a("action.copy")})]}),(0,f.jsx)(g.A,{className:"w-32 h-11 mt-6",onClick:t,children:e("done")}),(0,f.jsx)(k,{refreshInviteLink:o})]})}const A=({serverName:e,setServerName:a})=>{const{t:t}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),{nextStep:r}=(0,l.X)();return(0,f.jsxs)("div",{className:"h-full flex-center flex-col text-center w-[360px] m-auto dark:text-gray-200",children:[(0,f.jsx)("span",{className:"text-2xl mb-2 font-bold",children:t("new_server")}),(0,f.jsx)("span",{className:"text-sm mb-6 text-gray-400 dark:text-gray-600",children:t("server_desc")}),(0,f.jsx)(h.A,{className:"h-11 px-3.5 py-2.5 border-gray-300 rounded-lg shadow",placeholder:t("placeholder_server"),value:e,onChange:e=>a(e.target.value)}),(0,f.jsx)(g.A,{className:"w-full mt-6",onClick:()=>{""!==e?r():d.Ay.error("Please enter server name!")},children:t("create_server")})]})};function C(){const{t:e}=(0,s.Bd)("welcome",{keyPrefix:"onboarding"}),{nextStep:a}=(0,l.X)();return(0,f.jsxs)("div",{className:"flex-center flex-col h-full text-center dark:text-gray-100",children:[(0,f.jsx)("span",{className:"text-2xl mb-2 font-bold",children:e("welcome")}),(0,f.jsx)("span",{className:"text-sm mb-6",children:e("welcome_desc")}),(0,f.jsxs)(g.A,{className:"!w-32 h-auto flex flex-col gap-2 items-center py-3 text-sm",onClick:a,children:[(0,f.jsx)("img",{src:w,alt:"play icon"}),(0,f.jsx)("span",{children:e("start")})]})]})}var E=t(64117);function S(){const{t:e}=(0,s.Bd)("welcome"),{t:a}=(0,s.Bd)("setting"),{nextStep:t}=(0,l.X)(),{data:n}=(0,x.T7)(),[i,{isSuccess:o,error:c}]=(0,x.n6)(),[m,u]=(0,r.useState)();return(0,r.useEffect)((()=>{n&&(n.who_can_sign_up,u(n.who_can_sign_up))}),[n]),(0,r.useEffect)((()=>{void 0!==c&&d.Ay.error(`Failed to update sign up rule: ${c.data}`)}),[c]),(0,r.useEffect)((()=>{o&&t()}),[o]),n?(0,f.jsxs)("div",{className:"h-full px-2 flex-center flex-col text-center w-full md:w-[512px] m-auto dark:text-gray-100",children:[(0,f.jsx)("span",{className:"font-bold text-2xl mb-2",children:e("onboarding.invite_title")}),(0,f.jsx)("span",{className:"text-sm mb-6",children:e("onboarding.invite_desc")}),m&&(0,f.jsx)(E.A,{options:[a("overview.sign_up.everyone"),a("overview.sign_up.invite")],values:["EveryOne","InvitationOnly"],value:m,onChange:u}),(0,f.jsx)(g.A,{className:"w-32 mt-6",disabled:!m,onClick:()=>{void 0!==n&&(n.who_can_sign_up!==m?i({...n,who_can_sign_up:m}):t())},children:e("onboarding.confirm")})]}):null}var L=t(37638);const B=()=>{var e;const{activeStep:a,goToStep:t}=(0,l.X)(),s=(null===(e=o[a])||void 0===e?void 0:e.canJumpTo)||[];return(0,f.jsx)("div",{className:"hidden md:flex absolute top-5 w-full justify-center gap-2 z-10",children:o.map(((e,l)=>{const i=s.includes(e.name),d=`${(0,n.A)("text-sm text-gray-600",i&&"cursor-pointer md:hover:text-gray-500",l===a&&"font-bold text-black",l>=a&&"text-gray-400")}`;return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)("span",{className:d,onClick:()=>{i&&t(l)},children:e.label}),l!==o.length-1&&(0,f.jsx)("span",{className:d,children:"\u2192"})]},l)}))})};function O(){const{t:e}=(0,s.Bd)("welcome"),[a,t]=(0,r.useState)("");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("title",{children:e("onboarding.title")||""}),(0,f.jsx)("div",{className:"h-screen bg-neutral-100 dark:bg-neutral-900 overflow-y-auto",children:(0,f.jsxs)(l.s,{header:(0,f.jsx)(B,{}),children:[(0,f.jsx)(C,{}),(0,f.jsx)(A,{serverName:a,setServerName:t}),(0,f.jsx)(b,{serverName:a}),(0,f.jsx)(S,{}),(0,f.jsx)(_,{}),(0,f.jsx)(y,{serverName:a})]})}),(0,f.jsx)(L.A,{})]})}},91088:(e,a,t)=>{t.d(a,{A:()=>u});var r=t(91118),s=t(32639),l=t(11701),n=t(69259),i=t(28512),o=t(24168),d=t(31210);const c=(0,s.hU)()[4].value,m=(0,s.mM)()[0].value,x={expire:c,times:m};function u(e){const[a,t]=(0,r.useState)(""),s=(0,i.GV)((a=>a.channels.byId[null!==e&&void 0!==e?e:0]),d.bN),{data:u,isSuccess:p}=(0,n.Q0)(),[g,{data:h,isLoading:f}]=(0,l.L3)(),[b,{data:v,isLoading:w}]=(0,l.Wy)(),{copied:y,copy:j}=(0,o.A)({enableToast:!1});(0,r.useEffect)((()=>{!e||null!==s&&void 0!==s&&s.is_public?g({expire:c,times:m}):b({cid:e,expire:c,times:m})}),[e,s]),(0,r.useEffect)((()=>{const e=h||v;e&&p&&t(e)}),[h,v,p]);return{enableSMTP:u,generating:w||f,generateNewLink:(a=x)=>{const{expire:t,times:r}=a;!e||null!==s&&void 0!==s&&s.is_public?g({expire:t,times:r}):b({cid:e,expire:t,times:r})},link:a,linkCopied:y,copyLink:()=>{j(a)}}}}}]);