"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[973],{39742:(e,t,l)=>{l.d(t,{A:()=>I});var r,a,n=l(91118),s=l(23558),i=l(86938),c=l(75949),d=l(28512),o=l(49418);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},h.apply(null,arguments)}const u=({title:e,titleId:t,...l},s)=>n.createElement("svg",h({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},l),e?n.createElement("title",{id:t},e):null,r||(r=n.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#BDB4FE"})),a||(a=n.createElement("path",{d:"M30 20.5C30 14.9772 25.5228 10.5 20 10.5C14.4772 10.5 10 14.9772 10 20.5C10 22.1428 10.3972 23.7294 11.1449 25.1502L10.0285 29.4386C9.99198 29.5791 9.99199 29.7266 10.0286 29.867C10.1469 30.3213 10.6111 30.5937 11.0654 30.4753L15.3558 29.3583C16.7752 30.1039 18.3596 30.5 20 30.5C25.5228 30.5 30 26.0228 30 20.5ZM20 16.5C21.1046 16.5 22 17.3954 22 18.5V22.5C22 23.6046 21.1046 24.5 20 24.5H17C15.8954 24.5 15 23.6046 15 22.5V18.5C15 17.3954 15.8954 16.5 17 16.5H20ZM23 21.6619V19.3382L24.7344 17.6963C25.2125 17.2437 26 17.5826 26 18.2409V22.7591C26 23.4174 25.2125 23.7563 24.7344 23.3037L23 21.6619Z",fill:"white"}))),m=(0,n.forwardRef)(u);var x,p;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},C.apply(null,arguments)}const f=({title:e,titleId:t,...l},r)=>n.createElement("svg",C({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":t},l),e?n.createElement("title",{id:t},e):null,x||(x=n.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FF9C66"})),p||(p=n.createElement("path",{d:"M16.2554 17.4999C17.2219 17.4999 18.0054 18.2834 18.0054 19.2499V28.75C18.0054 29.7165 17.2219 30.5 16.2554 30.5H11.751C10.7845 30.5 10.001 29.7165 10.001 28.75V19.2499C10.001 18.2834 10.7845 17.4999 11.751 17.4999H16.2554ZM14.2532 26.9952H13.7532L13.6514 27.002C13.2853 27.0517 13.0032 27.3655 13.0032 27.7452C13.0032 28.1249 13.2853 28.4387 13.6514 28.4883L13.7532 28.4952H14.2532L14.355 28.4883C14.721 28.4387 15.0032 28.1249 15.0032 27.7452C15.0032 27.3655 14.721 27.0517 14.355 27.002L14.2532 26.9952ZM27.7504 10.5C28.9412 10.5 29.916 11.4252 29.9952 12.596L30.0004 12.75V21.75C30.0004 22.9409 29.0752 23.9156 27.9044 23.9948L27.7504 24H24.0044V26H25.2504C25.6646 26 26.0004 26.3358 26.0004 26.75C26.0004 27.1297 25.7182 27.4435 25.3521 27.4932L25.2504 27.5H19.0004V26H22.5044V24H19.0004V19C19.0004 17.6745 17.9688 16.59 16.6647 16.5053L16.5004 16.5H12.0004V12.75C12.0004 11.5591 12.9255 10.5844 14.0963 10.5052L14.2504 10.5H27.7504Z",fill:"white"}))),g=(0,n.forwardRef)(f);var b,w;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},v.apply(null,arguments)}const j=({title:e,titleId:t,...l},r)=>n.createElement("svg",v({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":t},l),e?n.createElement("title",{id:t},e):null,b||(b=n.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FDE272"})),w||(w=n.createElement("path",{d:"M25.5 20.5C28.5376 20.5 31 22.9624 31 26C31 29.0376 28.5376 31.5 25.5 31.5C22.4624 31.5 20 29.0376 20 26C20 22.9624 22.4624 20.5 25.5 20.5ZM12 21.499L20.8094 21.5002C19.6887 22.6681 19 24.2536 19 26C19 27.0874 19.267 28.1124 19.739 29.013C18.6887 29.363 17.5306 29.5 16.5 29.5C13.7779 29.5 10.1647 28.544 10.0055 25.2296L10 25V23.499C10 22.395 10.896 21.499 12 21.499ZM25.5 22.5016L25.4101 22.5096C25.206 22.5467 25.0451 22.7076 25.0081 22.9117L25 23.0016V25.4996L22.5 25.5L22.4101 25.5081C22.206 25.5451 22.0451 25.706 22.0081 25.9101L22 26L22.0081 26.0899C22.0451 26.294 22.206 26.4549 22.4101 26.4919L22.5 26.5L25 26.4996V29L25.0081 29.0899C25.0451 29.294 25.206 29.4549 25.4101 29.4919L25.5 29.5L25.5899 29.4919C25.794 29.4549 25.9549 29.294 25.9919 29.0899L26 29V26.4996L28.5 26.5L28.5899 26.4919C28.794 26.4549 28.9549 26.294 28.9919 26.0899L29 26L28.9919 25.9101C28.9549 25.706 28.794 25.5451 28.5899 25.5081L28.5 25.5L26 25.4996V23.0016L25.9919 22.9117C25.9549 22.7076 25.794 22.5467 25.5899 22.5096L25.5 22.5016ZM16.5 10.5C18.985 10.5 21 12.515 21 15C21 17.485 18.985 19.5 16.5 19.5C14.015 19.5 12 17.485 12 15C12 12.515 14.015 10.5 16.5 10.5ZM25.5 12.5C27.433 12.5 29 14.067 29 16C29 17.933 27.433 19.5 25.5 19.5C23.567 19.5 22 17.933 22 16C22 14.067 23.567 12.5 25.5 12.5Z",fill:"white"}))),L=(0,n.forwardRef)(j);var y,N;function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},_.apply(null,arguments)}const A=({title:e,titleId:t,...l},r)=>n.createElement("svg",_({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":t},l),e?n.createElement("title",{id:t},e):null,y||(y=n.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#ACDC79"})),N||(N=n.createElement("path",{d:"M20 10.5C25.523 10.5 30 14.978 30 20.5C30 26.022 25.523 30.5 20 30.5C14.477 30.5 10 26.022 10 20.5C10 14.978 14.477 10.5 20 10.5ZM20 24C19.4477 24 19 24.4477 19 25C19 25.5523 19.4477 26 20 26C20.5523 26 21 25.5523 21 25C21 24.4477 20.5523 24 20 24ZM20 15.25C18.4812 15.25 17.25 16.4812 17.25 18C17.25 18.4142 17.5858 18.75 18 18.75C18.3797 18.75 18.6935 18.4678 18.7432 18.1018L18.75 18C18.75 17.3096 19.3096 16.75 20 16.75C20.6904 16.75 21.25 17.3096 21.25 18C21.25 18.5388 21.115 18.8053 20.6051 19.3322L20.4697 19.4697C19.5916 20.3478 19.25 20.9171 19.25 22C19.25 22.4142 19.5858 22.75 20 22.75C20.4142 22.75 20.75 22.4142 20.75 22C20.75 21.4612 20.885 21.1947 21.3949 20.6678L21.5303 20.5303C22.4084 19.6522 22.75 19.0829 22.75 18C22.75 16.4812 21.5188 15.25 20 15.25Z",fill:"white"}))),k=(0,n.forwardRef)(A);var M=l(47281),E=l(10404),V=l(16079),Z=l(31210),O=l(45646);const H="w-[220px] md:w-[200px] h-[100px] md:h-[200px] cursor-pointer bg-gray-50 dark:bg-gray-800 rounded-3xl flex-center flex-col gap-4",B="w-7 h-7 md:w-10 md:h-10",F="px-5 text-xs md:text-sm text-slate-600 dark:text-gray-100 font-bold text-center",I=({type:e="chat"})=>{const{t:t}=(0,s.Bd)("welcome"),l=(0,d.GV)((e=>e.server),Z.bN),r=(0,d.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.is_admin}),Z.bN),[a,h]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),[p,C]=(0,n.useState)(!1),f=()=>{x((e=>!e))},b=()=>{C((e=>!e))},w=()=>{h((e=>!e))},v=t("chat"==e?"start_by_channel":"start_by_dm"),j="chat"==e?f:b;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"flex flex-col gap-8 -mt-[50px] dark:bg-gray-700",children:[(0,O.jsxs)("div",{className:"flex flex-col gap-2 items-center group px-4",children:[(0,O.jsx)("h2",{className:"text-center text-3xl text-slate-700 dark:text-white font-bold",children:t("title",{name:l.name})}),(0,O.jsxs)("p",{className:"text-sm text-gray-400 max-w-md text-center relative whitespace-normal",children:[(0,O.jsx)(c.A,{options:{render:{url:({content:e,attributes:{href:t}})=>(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("a",{className:"text-primary-400",target:"_blank",href:t,rel:"noreferrer",children:e})})}},children:l.description?l.description:t("desc")}),r&&(0,O.jsx)(i.k2,{to:"/setting/overview",className:"absolute top-0 -right-7 invisible group-hover:visible",children:(0,O.jsx)(o.A,{})})]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 grid-rows-2 gap-2 md:gap-6 m-auto",children:[(0,O.jsxs)("button",{className:H,onClick:w,children:[(0,O.jsx)(L,{className:B}),(0,O.jsx)("div",{className:F,children:t("invite")})]}),(0,O.jsxs)("button",{onClick:j,className:H,children:[(0,O.jsx)(m,{className:B}),(0,O.jsx)("div",{className:F,children:v})]}),!l.upgraded&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("a",{href:"https://voce.chat#download",target:"_blank",rel:"noreferrer",className:H,children:[(0,O.jsx)(g,{className:B}),(0,O.jsx)("div",{className:F,children:t("download")})]}),(0,O.jsxs)("a",{href:"https://doc.voce.chat",target:"_blank",rel:"noreferrer",className:H,children:[(0,O.jsx)(k,{className:B}),(0,O.jsx)("div",{className:F,children:t("help")})]})]})]})]}),u&&(0,O.jsx)(M.A,{personal:!0,closeModal:f}),p&&(0,O.jsx)(V.A,{closeModal:b}),a&&(0,O.jsx)(E.A,{closeModal:w})]})}},41973:(e,t,l)=>{l.r(t),l.d(t,{default:()=>b});var r=l(91118),a=l(31210),n=l(86938),s=l(53090),i=l(66514),c=l(74671),d=l(39742),o=l(52088),h=l(70837),u=l(43997),m=l(62854),x=l(8548),p=l(72657),C=l(86560),f=l(45646);function g(){const e=(0,r.useRef)(null),t=(0,a.wA)(),{pathname:l}=(0,n.zy)(),[g,b]=(0,r.useState)(!1),{input:w,updateInput:v,users:j,uids:L}=(0,x.A)(),{user_id:y}=(0,n.g)();(0,r.useEffect)((()=>(t((0,c.u2)({key:"user"})),()=>{t((0,c.u2)({key:"user",path:l}))})),[l]);const N=()=>{b((e=>!e))};if(!j)return null;const _=j.filter((({is_admin:e,is_bot:t})=>e&&!t)).length,A=j.filter((({is_bot:e})=>e)).length,k=j.length-_-A,M=!!y;return(0,f.jsxs)("div",{className:(0,i.A)("flex h-screen md:h-full md:pt-2 md:pb-2.5 md:pr-12"),children:[(0,f.jsxs)("div",{className:(0,i.A)("md:rounded-l-2xl bg-white dark:bg-gray-800 relative flex flex-col w-full md:w-auto md:min-w-[268px] shadow-[inset_-1px_0px_0px_rgba(0,_0,_0,_0.1)]",M&&"hidden md:flex"),children:[(0,f.jsx)(p.A,{input:w,updateInput:v,openModal:N}),g&&(0,f.jsx)(u.A,{closeModal:N}),(0,f.jsx)("div",{className:"flex flex-col md:gap-1 px-2 pt-3 pb-20 md:py-3 overflow-scroll",ref:e,children:(0,f.jsx)(s.h,{viewportRef:e,items:L,children:(e,t)=>{const l=j.find((({uid:t})=>t===e));if(!l)return null;const r=L[t-1],a=j.find((({uid:e})=>e===r)),{role:s,title:i}=(0,C.s0)({current:l,prev:a,adminCount:_,botCount:A,memberCount:k,isFirst:0===t});return(0,f.jsx)(n.k2,{"data-role":s,"data-group-title":i,className:({isActive:e})=>"rounded-md md:hover:bg-gray-500/10 "+(e?"bg-gray-500/10":""),to:`/users/${e}`,children:(0,f.jsx)(m.A,{uid:e,enableContextMenu:!0})},e)}})})]}),(0,f.jsxs)("div",{className:(0,i.A)("md:rounded-r-2xl bg-white w-full flex justify-center items-start dark:bg-gray-700",!y&&"h-full items-center",!M&&"hidden md:flex"),children:[M?(0,f.jsx)(h.A,{uid:+y}):(0,f.jsx)(d.A,{type:"user"}),(0,f.jsx)(o.A,{})]})]})}const b=(0,r.memo)(g)},49418:(e,t,l)=>{l.d(t,{A:()=>i});var r,a=l(91118);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},n.apply(null,arguments)}const s=({title:e,titleId:t,...l},s)=>a.createElement("svg",n({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,r||(r=a.createElement("path",{d:"M13.7036 5.75927L18.2405 10.2962L9.33146 19.2052C9.08325 19.4534 8.77457 19.6325 8.43593 19.7249L3.84998 20.9756C3.34808 21.1124 2.88755 20.6519 3.02443 20.15L4.27515 15.5641C4.3675 15.2254 4.54664 14.9167 4.79484 14.6685L13.7036 5.75927ZM20.0604 3.93956C21.3132 5.19232 21.3132 7.22343 20.0604 8.47618L19.1907 9.34506L14.6538 4.80903L15.5238 3.93956C16.7766 2.68681 18.8077 2.68681 20.0604 3.93956Z"}))),i=(0,a.forwardRef)(s)},72657:(e,t,l)=>{l.d(t,{A:()=>m});var r=l(23558),a=l(6858),n=l(66514),s=l(28512),i=l(79160),c=l(29619),d=l(67891),o=l(46598),h=l(31210),u=l(45646);const m=({input:e,updateInput:t,openModal:l,type:m="users"})=>{const x=(0,s.GV)((e=>e.server.contact_verification_enable),h.bN),{t:p}=(0,r.Bd)(),C="members"===m;return(0,u.jsxs)("div",{className:(0,n.A)("w-full hidden md:flex relative items-center justify-between gap-2",C?"md:w-[512px]  px-2 min-h-[40px] rounded-full bg-black/10 mb-4 focus-within:bg-transparent focus-within:ring-[1px] focus-within:ring-gray-300":"shadow-[rgb(0_0_0_/_10%)_0px_1px_0px] dark:border-b-gray-500 min-h-[58px] px-4"),children:[(0,u.jsxs)("div",{className:"flex items-center gap-1",children:[(0,u.jsx)(o.A,{className:"dark:fill-gray-400 w-6 h-6 shrink-0"}),(0,u.jsx)("input",{value:e,placeholder:`${p("action.search_user")}...`,className:(0,n.A)("w-full text-sm dark:text-gray-50 outline-none bg-transparent"),onChange:e=>{t(e.target.value)}})]}),C?null:x?(0,u.jsx)(d.A,{onClick:l,role:"button",className:"dark:fill-gray-400"}):(0,u.jsx)(c.A,{tip:p("more"),placement:"bottom",children:(0,u.jsx)(a.Ay,{interactive:!0,placement:"bottom-end",trigger:"click",content:(0,u.jsx)(i.A,{}),children:(0,u.jsx)(d.A,{role:"button",className:"dark:fill-gray-400"})})})]})}}}]);