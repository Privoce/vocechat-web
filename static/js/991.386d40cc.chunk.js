"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[991],{71679:(e,t,l)=>{l.r(t),l.d(t,{default:()=>G});var a=l(53142),s=l(73911),n=l(76198),r=l(25391),i=l(16432),o=l(81817),c=l(89632),d=l(42610),u=l(65170),m=l(44973),x=l(68685),f=l(94644),p=l(8326);const b=({select:e=0,updateFilter:t})=>{const{channels:l}=(0,x.A)(),a=e=>{t({channel:e})};return(0,p.jsx)("div",{className:"rounded-lg p-1 pt-0 bg-white dark:bg-gray-800 overflow-auto max-h-[400px] flex flex-col items-start relative drop-shadow",children:(0,p.jsxs)("ul",{className:"w-full flex flex-col gap-4 p-2",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2",onClick:a.bind(null,void 0),children:[(0,p.jsx)(m.A,{}),(0,p.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm",children:"Any Channel"}),!e&&(0,p.jsx)(f.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),l.map((({gid:t,is_public:l,name:s})=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 justify-between",onClick:a.bind(null,t),children:[(0,p.jsx)(m.A,{personal:!l}),(0,p.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm flex-1",children:s}),e==t&&(0,p.jsx)(f.A,{className:""})]},t)))]})})},h={today:{title:"Today",duration:2222},in7d:{title:"Last 7 Days"},in30d:{title:"Last 30 Days"},in3m:{title:"Last 3 months"},in12m:{title:"Last 12 months"}},g=({select:e="",updateFilter:t})=>{const l=e=>{t({date:e})};return(0,p.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[200px] overflow-auto rounded-lg flex flex-col items-start relative drop-shadow",children:(0,p.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,void 0),children:["Any Time",!e&&(0,p.jsx)(f.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(h).map((([t,{title:a}])=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,t),children:[a,e==t&&(0,p.jsx)(f.A,{className:"absolute right-0 -top-1/2 -translate-y-1/2"})]},a)))]})})};var y=l(99466),v=l(42397),w=l(83301);const j=({value:e="",updateSearchValue:t=null,embed:l=!1})=>{const{t:a}=(0,o.Bd)();return(0,p.jsxs)("div",{className:(0,s.A)("hidden md:block relative w-full py-1.5 px-4 shadow",l&&"py-2 shadow-none"),children:[(0,p.jsx)(w.A,{className:"absolute left-6 top-1/2 -translate-y-1/2"}),(0,p.jsx)("input",{value:e,onChange:e=>{t&&t(e.target.value)},className:"bg-black/5 dark:bg-black/20 rounded-full text-sm text-gray-500 py-2.5 pl-9",placeholder:`${a("action.search")}...`})]})},k=({select:e="",updateFilter:t})=>{const{input:l,updateInput:a,users:s}=(0,v.A)(),n=e=>{t({from:e})};return(0,p.jsxs)("div",{className:"rounded-lg p-1 pt-0 bg-white dark:bg-gray-800 overflow-auto max-h-[300px] flex flex-col items-start relative drop-shadow",children:[(0,p.jsx)("div",{className:"bg-white dark:bg-gray-800 sticky top-0 z-10 w-full",children:(0,p.jsx)(j,{embed:!0,value:l,updateSearchValue:a})}),(0,p.jsxs)("ul",{className:"w-full flex flex-col",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer p-2.5 font-semibold text-sm text-gray-500",onClick:n.bind(null,void 0),children:["Anyone",!e&&(0,p.jsx)(f.A,{className:"absolute right-1.5 top-1/2 -translate-y-1/2"})]}),s.map((({uid:t})=>(0,p.jsxs)("li",{className:"relative flex items-center gap-2 justify-between cursor-pointer",onClick:n.bind(null,t),children:[(0,p.jsx)(y.A,{uid:t,interactive:!0}),e==t&&(0,p.jsx)(f.A,{className:""})]},t)))]})]})};var N=l(57299),A=l(17140),C=l(89071),_=l(46038),L=l(10543),S=l(69075),E=l(95084);const I={doc:{title:"Documents",icon:(0,p.jsx)(C.A,{className:"w-4 h-auto"})},pdf:{title:"PDFs",icon:(0,p.jsx)(L.A,{className:"w-4 h-auto"})},image:{title:"Images",icon:(0,p.jsx)(_.A,{className:"w-4 h-auto"})},audio:{title:"Audio",icon:(0,p.jsx)(N.A,{className:"w-4 h-auto"})},video:{title:"Videos",icon:(0,p.jsx)(E.A,{className:"w-4 h-auto"})},code:{title:"Code Snippets",icon:(0,p.jsx)(A.A,{className:"w-4 h-auto"})},unknown:{title:"Unknown Files",icon:(0,p.jsx)(S.A,{className:"w-4 h-auto"})}},F=({select:e="",updateFilter:t})=>{const l=e=>{t({type:e})};return(0,p.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[180px] overflow-auto shadow-md rounded-lg flex flex-col items-start relative",children:(0,p.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,void 0),children:["Any Type",!e&&(0,p.jsx)(f.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(I).map((([t,{title:a,icon:s}])=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 text-sm text-gray-500 dark:text-gray-300 font-semibold",onClick:l.bind(null,t),children:[s," ",a,e==t&&(0,p.jsx)(f.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]},a)))]})})};var W=l(11600);const O=e=>(0,s.A)("cursor-pointer flex items-center gap-1 md:gap-2 shadow rounded-lg p-1 md:py-2 md:px-3 text-xs text-gray-900 dark:text-gray-200",e?"text-white bg-primary-400":"border border-solid border-gray-300 dark:border-gray-400 ");function V({filter:e,updateFilter:t}){const{t:l}=(0,o.Bd)("file"),[s,n]=(0,a.useState)({channel:!1,date:!1,from:!1,type:!1}),i=e=>{n((t=>({...t,...e})))},m=e=>{t(e);let l=Object.keys(e)[0];i({[l]:!1})},x=(0,r.GV)((e=>e.users.byId),W.bN),f=(0,r.GV)((e=>e.channels.byId),W.bN),{from:y,channel:v,type:w,date:j}=e,{channel:N,date:A,type:C,from:_}=s;return(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{from:!1}),visible:_,placement:"bottom-start",content:(0,p.jsx)(k,{select:e.from,updateFilter:m}),children:(0,p.jsxs)("div",{className:O(y),onClick:i.bind(null,{from:!0}),children:[y&&(0,p.jsx)(d.A,{width:16,height:16,className:"rounded-full w-4 h-4",name:x[y].name,src:x[y].avatar}),(0,p.jsxs)("span",{className:"txt",children:[l("from")," ",y&&x[y].name]}),(0,p.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,p.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{channel:!1}),visible:N,placement:"bottom-start",content:(0,p.jsx)(b,{select:e.channel,updateFilter:m}),children:(0,p.jsxs)("div",{className:O(v),onClick:i.bind(null,{channel:!0}),children:[(0,p.jsx)("span",{className:"txt",children:v?`In ${f[v].name}`:l("channel")}),(0,p.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,p.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{type:!1}),visible:C,placement:"bottom-start",content:(0,p.jsx)(F,{select:e.type,updateFilter:m}),children:(0,p.jsxs)("div",{className:O(w),onClick:i.bind(null,{type:!0}),children:[(0,p.jsx)("span",{className:"txt",children:w?I[w].title:l("type")}),(0,p.jsx)(u.A,{className:"dark:stroke-gray-100"})]})}),(0,p.jsx)(c.Ay,{interactive:!0,onClickOutside:i.bind(null,{date:!1}),visible:A,placement:"bottom-start",content:(0,p.jsx)(g,{select:e.date,updateFilter:m}),children:(0,p.jsxs)("div",{className:O(j),onClick:i.bind(null,{date:!0}),children:[(0,p.jsx)("span",{className:"txt",children:j?h[j].title:l("date")}),(0,p.jsx)(u.A,{className:"dark:stroke-gray-100"})]})})]})}var z=l(84904),D=l(31563),T=l(89051);const R=e=>(0,s.A)("cursor-pointer p-2 box-border flex-center",e&&"border border-solid border-primary-400 shadow rounded-lg");function X({view:e="item"}){const t=(0,W.wA)(),l=l=>{const{view:a}=l.currentTarget.dataset;a!=e&&t((0,z.PU)("item"==e?"grid":"item"))},a="grid"==e;return(0,p.jsxs)("ul",{className:"hidden md:flex border border-solid dark:border-gray-400 shadow rounded-lg box-border",children:[(0,p.jsx)("li",{className:R(!a),"data-view":"item",onClick:l,children:(0,p.jsx)(T.A,{className:(a?"":"fill-primary-400")+" dark:fill-gray-400"})}),(0,p.jsx)("li",{className:R(a),"data-view":"grid",onClick:l,children:(0,p.jsx)(D.A,{className:(a?"fill-primary-400":"")+" dark:fill-gray-400"})})]})}var $=l(38952);const G=function(){const[e,{data:t}]=(0,$.lP)(),l=(0,a.useRef)(),[o,c]=(0,a.useState)({}),d=(0,r.GV)((e=>e.ui.fileListView),W.bN);if((0,a.useEffect)((()=>{e()}),[]),!t)return null;const u=t.filter((e=>!e.expired));return(0,p.jsxs)("div",{className:"h-screen md:overflow-y-scroll flex flex-col items-start my-2 mr-6 rounded-2xl bg-white dark:bg-gray-700",children:[(0,p.jsx)(j,{value:o.name,updateSearchValue:e=>{c((t=>({...t,name:e})))}}),(0,p.jsxs)("div",{className:"flex justify-between w-full px-4 py-5",children:[(0,p.jsx)(V,{filter:o,updateFilter:e=>{c((t=>({...t,...e})))}}),(0,p.jsx)(X,{view:d})]}),(0,p.jsx)("div",{className:(0,s.A)("h-full w-full px-4 overflow-y-scroll no-scrollbar","item"==d&&"flex gap-2 flex-col","grid"==d&&"col-count-2 md:col-count-3 lg:col-count-5"),style:{columnGap:"5px"},ref:l,children:u.map((e=>{const{mid:t,thumbnail:l,content:a,created_at:s,from_uid:r,properties:o}=e,{name:c,content_type:u,size:m}=o?JSON.parse(o):{},x=`${n.Ay}/resource/file?file_path=${encodeURIComponent(l||a)}`;return(0,p.jsx)(i.A,{cla:!0,preview:"grid"==d,flex:"item"==d,file_type:u,content:x,created_at:s,from_uid:r,size:m,name:c},t)}))})]})}},89146:(e,t,l)=>{l.d(t,{r:()=>n});var a=l(53142);const s="undefined"===typeof window?a.useEffect:a.useLayoutEffect;function n(e,t=!1){const l=t?s:a.useEffect,n=(0,a.useRef)(e);return l((()=>{n.current=e})),n}},64319:(e,t,l)=>{l.d(t,{B:()=>r});var a=l(53142),s=l(89146);function n(e,t){const l=function(e){var t;if("undefined"===typeof localStorage)return null;const l=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"null";try{return JSON.parse(l)}catch(a){console.error(a)}return l}(e);return null===l?"function"===typeof t?t():t:l}function r(e,t){const[l,r]=(0,a.useState)((()=>n(e,t))),i=(0,a.useRef)(!1),o=(0,a.useRef)(!1),c=(0,a.useMemo)((()=>`rooks-${e}-localstorage-update`),[e]);(0,a.useEffect)((()=>{i.current&&o.current||function(e,t){"undefined"===typeof localStorage||(void 0===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}(e,l)}),[e,l]);const d=(0,a.useCallback)((t=>{var a;if(t.storageArea===localStorage&&t.key===e)try{i.current=!0;const e=JSON.parse(null!==(a=t.newValue)&&void 0!==a?a:"null");l!==e&&r(e)}catch(s){}}),[e,l]);(0,a.useEffect)((()=>"undefined"!==typeof window?(window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}):(console.warn("useLocalstorageState: window is undefined."),()=>{})),[d]);const u=(0,a.useCallback)((e=>{try{o.current=!0;const{newValue:t}=e.detail;l!==t&&r(t)}catch(t){}}),[l]);(0,a.useEffect)((()=>"undefined"!==typeof document?(document.addEventListener(c,u),()=>{document.removeEventListener(c,u)}):(console.warn("[useLocalstorageState] document is undefined."),()=>{})),[c,u]);const m=(0,a.useCallback)((e=>{if("undefined"!==typeof document){const t=new CustomEvent(c,{detail:{newValue:e}});document.dispatchEvent(t)}else console.warn("[useLocalstorageState] document is undefined.")}),[c]),x=(0,s.r)(l,!0),f=(0,a.useCallback)((e=>{const t="function"===typeof e?e(x.current):e;i.current=!1,o.current=!1,r(t),m(t)}),[m,x]),p=(0,a.useCallback)((()=>{localStorage.removeItem(e)}),[e]);return[l,f,p]}},32027:(e,t,l)=>{l.d(t,{A:()=>i});var a=l(53142),s=l(2423),n=l(65e3),r="LineWobble-module_container__IkLcd";function i(e){let{size:t=80,color:l="black",lineWeight:n=5,speed:i=1.75}=e;return(0,s.A)("LineWobble","size",t,"number"),(0,s.A)("LineWobble","color",l,"string"),(0,s.A)("LineWobble","speed",i,"number"),(0,s.A)("LineWobble","lineWeight",n,"number"),a.createElement("div",{className:r,style:{"--uib-size":t+"px","--uib-color":l,"--uib-line-weight":n+"px","--uib-speed":i+"s"}})}(0,n.s)('.LineWobble-module_container__IkLcd{align-items:center;border-radius:calc(var(--uib-line-weight)/2);display:flex;height:var(--uib-line-weight);justify-content:center;overflow:hidden;position:relative;transform:translateZ(0);width:var(--uib-size)}.LineWobble-module_container__IkLcd:before{background-color:var(--uib-color);content:"";height:100%;left:0;opacity:.1;position:absolute;top:0;width:100%}.LineWobble-module_container__IkLcd:after{animation:LineWobble-module_wobble__XpxDM var(--uib-speed) ease-in-out infinite;background-color:var(--uib-color);border-radius:calc(var(--uib-line-weight)/2);content:"";height:100%;transform:translateX(-95%);width:100%}@keyframes LineWobble-module_wobble__XpxDM{0%,to{transform:translateX(-95%)}50%{transform:translateX(95%)}}')}}]);