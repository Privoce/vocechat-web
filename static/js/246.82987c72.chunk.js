"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[246],{25417:(e,t,r)=>{r.d(t,{A:()=>s});var a,l=r(6151);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(this,arguments)}const i=({title:e,titleId:t,...r},i)=>l.createElement("svg",n({width:14,height:15,viewBox:"0 0 14 15",fill:"black",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,a||(a=l.createElement("path",{d:"M7 6.7929L10.5355 3.25736C10.7308 3.0621 11.0474 3.0621 11.2426 3.25736C11.4379 3.45262 11.4379 3.76921 11.2426 3.96447L7.70711 7.5L11.2426 11.0355C11.4379 11.2308 11.4379 11.5474 11.2426 11.7426C11.0474 11.9379 10.7308 11.9379 10.5355 11.7426L7 8.20711L3.46447 11.7426C3.26921 11.9379 2.95262 11.9379 2.75736 11.7426C2.5621 11.5474 2.5621 11.2308 2.75736 11.0355L6.2929 7.5L2.75736 3.96447C2.5621 3.76921 2.5621 3.45262 2.75736 3.25736C2.95262 3.0621 3.26921 3.0621 3.46447 3.25736L7 6.7929Z",fillOpacity:.8}))),s=(0,l.forwardRef)(i)},42568:(e,t,r)=>{r.d(t,{A:()=>o});var a,l,n=r(6151);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}const s=({title:e,titleId:t,...r},s)=>n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,a||(a=n.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"})),l||(l=n.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))),o=(0,n.forwardRef)(s)},60500:(e,t,r)=>{r.d(t,{A:()=>o});var a,l,n=r(6151);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}const s=({title:e,titleId:t,...r},s)=>n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",color:"#78787c",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(120, 120, 124)"},ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,a||(a=n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"})),l||(l=n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))),o=(0,n.forwardRef)(s)},6300:(e,t,r)=>{r.d(t,{A:()=>d});var a,l,n,i=r(6151);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}const o=({title:e,titleId:t,...r},o)=>i.createElement("svg",s({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:o,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,a||(a=i.createElement("path",{d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z",fill:"url(#paint0_linear_14171_23293)"})),l||(l=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2431 5.96725C12.4162 5.86325 12.6357 5.87375 12.7982 5.99425C12.9602 6.11525 13.0342 6.32125 12.9857 6.51725L11.9857 10.5173C11.9297 10.7403 11.7297 10.8963 11.5002 10.8963H4.50018C4.27068 10.8963 4.07068 10.7397 4.01468 10.5173L3.01468 6.51725C2.96618 6.32125 3.04018 6.11525 3.20218 5.99425C3.36518 5.87425 3.58418 5.86375 3.75768 5.96725L5.84918 7.22225L7.58468 4.61875C7.59654 4.60096 7.61307 4.58921 7.62965 4.57743C7.63964 4.57033 7.64966 4.56321 7.65868 4.55475L7.17718 4.07275C7.08018 3.97575 7.08018 3.81625 7.17718 3.71925L7.82368 3.07275C7.92068 2.97575 8.08018 2.97575 8.17718 3.07275L8.82368 3.71925C8.92068 3.81625 8.92068 3.97575 8.82368 4.07275L8.34218 4.55475C8.3512 4.56338 8.3614 4.57062 8.37161 4.57787C8.38802 4.58951 8.40447 4.60119 8.41618 4.61875L10.1517 7.22225L12.2431 5.96725ZM4.00025 11.3962H12.0002V12.3963H4.00025V11.3962Z",fill:"#ECE9FE"})),n||(n=i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_14171_23293",x1:0,y1:0,x2:16,y2:-1.66785e-9,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#7F56D9"}),i.createElement("stop",{offset:1,stopColor:"#9E77ED"}))))),d=(0,i.forwardRef)(o)},6356:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(6151),l=r(27412);const n=({id:e="root-modal",mask:t=!0,children:r})=>{const[n,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{const r=document.getElementById(e);if(!r)return;t&&r.classList.add("mask");const a=document.createElement("div");return a.classList.add("wrapper"),r.appendChild(a),i(a),()=>{r.removeChild(a)}}),[e,t]),n?(0,l.createPortal)(r,n):null}},80153:(e,t,r)=>{r.d(t,{A:()=>E});var a,l,n,i=r(6151),s=r(72209),o=r(26375),d=r(69300),c=r(66409),h=r(70670);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u.apply(this,arguments)}const p=({title:e,titleId:t,...r},s)=>i.createElement("svg",u({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,a||(a=i.createElement("circle",{cx:8,cy:8,r:8,fill:"#155EEF"})),i.createElement("mask",{id:"mask0_19353_2918",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:12,height:12},l||(l=i.createElement("rect",{x:2,y:2,width:12,height:12,fill:"#D9D9D9"}))),n||(n=i.createElement("g",{mask:"url(#mask0_19353_2918)"},i.createElement("path",{d:"M4.5 12.5C4.35833 12.5 4.23958 12.4521 4.14375 12.3562C4.04792 12.2604 4 12.1417 4 12V10C4 9.725 4.09792 9.48958 4.29375 9.29375C4.48958 9.09792 4.725 9 5 9H11C11.275 9 11.5104 9.09792 11.7062 9.29375C11.9021 9.48958 12 9.725 12 10V12C12 12.1417 11.9521 12.2604 11.8562 12.3562C11.7604 12.4521 11.6417 12.5 11.5 12.5H4.5ZM6.5 8.5C5.80833 8.5 5.21875 8.25625 4.73125 7.76875C4.24375 7.28125 4 6.69167 4 6C4 5.30833 4.24375 4.71875 4.73125 4.23125C5.21875 3.74375 5.80833 3.5 6.5 3.5H9.5C10.1917 3.5 10.7812 3.74375 11.2687 4.23125C11.7562 4.71875 12 5.30833 12 6C12 6.69167 11.7562 7.28125 11.2687 7.76875C10.7812 8.25625 10.1917 8.5 9.5 8.5H6.5ZM5 11.5H11V10H5V11.5ZM6.5 7.5H9.5C9.91667 7.5 10.2708 7.35417 10.5625 7.0625C10.8542 6.77083 11 6.41667 11 6C11 5.58333 10.8542 5.22917 10.5625 4.9375C10.2708 4.64583 9.91667 4.5 9.5 4.5H6.5C6.08333 4.5 5.72917 4.64583 5.4375 4.9375C5.14583 5.22917 5 5.58333 5 6C5 6.41667 5.14583 6.77083 5.4375 7.0625C5.72917 7.35417 6.08333 7.5 6.5 7.5ZM6.5 6.5C6.64167 6.5 6.76042 6.45208 6.85625 6.35625C6.95208 6.26042 7 6.14167 7 6C7 5.85833 6.95208 5.73958 6.85625 5.64375C6.76042 5.54792 6.64167 5.5 6.5 5.5C6.35833 5.5 6.23958 5.54792 6.14375 5.64375C6.04792 5.73958 6 5.85833 6 6C6 6.14167 6.04792 6.26042 6.14375 6.35625C6.23958 6.45208 6.35833 6.5 6.5 6.5ZM9.5 6.5C9.64167 6.5 9.76042 6.45208 9.85625 6.35625C9.95208 6.26042 10 6.14167 10 6C10 5.85833 9.95208 5.73958 9.85625 5.64375C9.76042 5.54792 9.64167 5.5 9.5 5.5C9.35833 5.5 9.23958 5.54792 9.14375 5.64375C9.04792 5.73958 9 5.85833 9 6C9 6.14167 9.04792 6.26042 9.14375 6.35625C9.23958 6.45208 9.35833 6.5 9.5 6.5Z",fill:"white"})))),m=(0,i.forwardRef)(p);var v=r(6300),b=r(11068),g=r(23399),x=r(8307),f=r(85750),C=r(3071),w=r(29375);const y=({enable:e=!1,uid:t,cid:r,visible:a,hide:l,children:n})=>{const{t:i}=(0,x.Bd)("member"),{t:s}=(0,x.Bd)("chat"),{blockThisContact:d,removeFromContact:c,copyEmail:h,canCopyEmail:u,startChat:p,canRemove:m,canRemoveFromContact:v,canBlock:b,canRemoveFromChannel:g,removeFromChannel:y,removeUser:j,isAdmin:k,canUpdateRole:E,updateRole:_}=(0,f.A)({uid:t,cid:r});return(0,w.jsx)(o.Ay,{disabled:!e,visible:a,followCursor:"initial",interactive:!0,placement:"right-start",popperOptions:{strategy:"fixed"},onClickOutside:l,content:(0,w.jsx)(C.A,{hideMenu:l,items:[{title:i("send_msg"),handler:p},u&&{title:i("copy_email"),handler:h},E&&{title:i("roles"),handler:_,subs:[{title:i("set_normal"),checked:!k,handler:_},{title:i("set_admin"),checked:k,handler:_}]},g&&{danger:!0,title:i("remove_from_channel"),handler:y},v&&{danger:!0,title:i("remove_from_contact"),handler:c},b&&{danger:!0,title:s("block"),handler:d},m&&{danger:!0,title:i("remove"),handler:j}].filter(Boolean)}),children:n},t)};var j=r(74985);const k=({cid:e,uid:t,owner:r=!1,dm:a=!1,interactive:l=!0,popover:n=!1,compact:i=!1,avatarSize:u=32,enableContextMenu:p=!1,enableNavToSetting:x=!1,...f})=>{const C=(0,s.Zp)(),{visible:k,handleContextMenuEvent:E,hideContextMenu:_}=(0,h.A)(),N=(0,c.GV)((e=>e.users.byId[t]),j.bN),A=(0,c.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),j.bN),O=(0,c.GV)((e=>e.server.show_user_online_status),j.bN),M=()=>{C(`/chat/dm/${t}`)};if(!N)return null;const L=N.online||N.uid==A,R=(0,d.A)("relative flex items-center justify-start gap-2 rounded-lg select-none",l&&"md:hover:bg-gray-500/10",i?"p-0":"p-2",x&&"cursor-pointer"),$=(0,d.A)("text-sm text-gray-500 max-w-[190px] truncate font-semibold dark:text-white"),V="absolute -bottom-[2.5px] -right-[2.5px] border-content rounded-full border-[1px] border-white dark:border-gray-300",B=(0,d.A)(V,L?"bg-green-500":"bg-zinc-400",i?"w-[15px] h-[15px]":"w-3 h-3"),H=N.is_bot?(0,w.jsx)("div",{className:V,children:(0,w.jsx)(m,{className:i?"w-[15px] h-[15px]":"w-3 h-3"})}):O?(0,w.jsx)("div",{className:B}):null;return n?(0,w.jsx)(y,{cid:e,uid:t,enable:p,visible:k,hide:_,children:(0,w.jsx)(o.Ay,{inertia:!0,interactive:!0,placement:"left",trigger:"click",content:(0,w.jsx)(g.A,{uid:t,type:"card",cid:e}),children:(0,w.jsxs)("div",{className:R,onDoubleClick:a?M:void 0,onContextMenu:p?E:void 0,...f,children:[(0,w.jsxs)("div",{className:"cursor-pointer relative",style:{width:`${u}px`,height:`${u}px`},children:[(0,w.jsx)(b.A,{className:"w-full h-full rounded-full object-cover",width:u,height:u,src:N.avatar,name:N.name,alt:"avatar"}),H]}),!i&&(0,w.jsx)("span",{className:$,title:null===N||void 0===N?void 0:N.name,children:null===N||void 0===N?void 0:N.name}),!i&&N.is_admin&&!N.is_bot&&(0,w.jsx)(v.A,{})]})})}):(0,w.jsx)(y,{cid:e,uid:t,enable:p,visible:k,hide:_,children:(0,w.jsxs)("div",{className:R,onClick:x?()=>{C(`/setting/dm/${t}/overview?f=/chat/dm/${t}`)}:void 0,onDoubleClick:a?M:void 0,onContextMenu:p?E:void 0,...f,children:[(0,w.jsxs)("div",{className:"cursor-pointer relative",style:{width:`${u}px`,height:`${u}px`},children:[(0,w.jsx)(b.A,{className:"w-full h-full rounded-full object-cover",width:u,height:u,src:N.avatar,name:N.name,alt:"avatar"}),H]}),!i&&(0,w.jsx)("span",{className:$,title:null===N||void 0===N?void 0:N.name,children:null===N||void 0===N?void 0:N.name}),!i&&N.is_admin&&!N.is_bot&&(0,w.jsx)(v.A,{})]})})},E=(0,i.memo)(k,((e,t)=>e.uid==t.uid))},24896:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(29375);function l(e){const{className:t}=e;return(0,a.jsx)("input",{readOnly:!0,...e,type:"checkbox",className:`checkbox w-5 h-5 rounded-md border border-solid border-slate-300 checked:border-primary-400 disabled:opacity-40 ${t}`})}},99111:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(6151),l=r(69300),n=r(42568),i=r(60500),s=r(29375);const o=({type:e="text",prefix:t="",className:r="",...o})=>{const[d,c]=(0,a.useState)(e),h=r.includes("large"),u=r.includes("none"),p="password"==e,m=(0,l.A)("w-full text-sm text-gray-800 dark:text-gray-200 p-2 outline-none \n    bg-inherit\n  disabled:text-gray-500 disabled:bg-gray-100 \n  dark:disabled:text-gray-500 \n  dark:disabled:bg-gray-800/50\n  dark:disabled:border-gray-600 \n  placeholder:text-gray-400",h&&"py-3",u&&"!border-none bg-transparent shadow-none",p&&"pr-[30px]");return"password"==e?(0,s.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${r}`,children:[(0,s.jsx)("input",{type:d,autoComplete:"password"==d?"current-password":"on",className:`${m} ${r}`,...o}),(0,s.jsx)("div",{className:"absolute top-1/2 right-2.5 -translate-y-1/2 cursor-pointer",onClick:()=>{c((e=>"password"==e?"text":"password"))},children:"password"==d?(0,s.jsx)(n.A,{className:"fill-gray-500"}):(0,s.jsx)(i.A,{className:"fill-gray-500"})})]}):t?(0,s.jsxs)("div",{className:`w-full relative flex overflow-hidden rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm bg-white dark:bg-gray-800 ${r}`,children:["string"===typeof t?(0,s.jsx)("span",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 shadow-[rgb(0_0_0_/_10%)_-1px_0px_0px_inset]",children:t}):(0,s.jsx)("span",{className:"flex-center p-2 bg-transparent",children:t}),(0,s.jsx)("input",{className:`${m} ${r}`,type:e,...o})]}):(0,s.jsx)("input",{type:d,className:`${m} rounded border border-solid border-gray-200 dark:border-gray-400 shadow-sm ${r}`,...o})}},88808:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(69300),l=r(29375);const n=({compact:e=!1,title:t="",description:r="",buttons:n,children:i,className:s})=>(0,l.jsxs)("div",{className:(0,a.A)("rounded-lg bg-white dark:bg-gray-900 drop-shadow",e?"p-4 md:min-w-[406px] text-left":"p-5 md:p-8 md:min-w-[440px] text-center",s),children:[t&&(0,l.jsx)("h3",{className:"text-xl text-gray-600 dark:text-white mb-4 font-semibold",children:t}),r&&(0,l.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-100 mb-2",children:r}),i,n&&(0,l.jsx)("div",{className:"pt-4 w-full flex justify-end gap-4 items-center",children:n})]})},70670:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(6151),l=r(26375),n=r(58135),i=r(3071),s=r(29375);function o(e="right-start"){const[t,r]=(0,a.useState)(!1),[o,d]=(0,a.useState)({x:0,y:0}),c=()=>{r(!1)};return{ContextMenu:({key:e,items:r,children:a})=>(0,s.jsx)(l.Ay,{visible:t,followCursor:"initial",interactive:!0,placement:"right-start",popperOptions:{strategy:"fixed"},onClickOutside:c,content:(0,s.jsx)(i.A,{hideMenu:c,items:r}),children:a},e),offset:o,visible:t,hideContextMenu:c,handleContextMenuEvent:t=>{(0,n.cJ)(),t.preventDefault();const{currentTarget:a,clientX:l,clientY:i}=t,{left:s,top:o,width:c,height:h}=a.getBoundingClientRect();let u,p;"right-start"==e?(u=l-(s+c),p=o+h-i):(u=l-s,p=o-i),d({x:u,y:p}),r(!0)}}}},30399:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(6151),l=r(41686),n=r(66409),i=r(74985),s=r(61603);function o(){const[e,t]=(0,a.useState)(""),r=(0,n.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.is_admin}),i.bN),o=(0,n.GV)((e=>Object.values(e.users.byId)),i.bN),d=(0,n.GV)((e=>e.server.contact_verification_enable),i.bN),[c,h]=(0,a.useState)([]),u=d&&!r?o.filter((e=>"added"==e.status)):o;(0,a.useEffect)((()=>{if(e){let t=["",(0,l.escapeRegExp)(e.toLowerCase()),""].join(".*"),r=new RegExp(t);h((0,s.g4)(u.filter((e=>!!e&&r.test(e.name.toLowerCase())))))}else h((0,s.g4)(u))}),[e,u.length]);return{input:e,users:c,uids:c.map((e=>e.uid)),updateInput:e=>{t(e)}}}}}]);