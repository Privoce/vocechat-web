"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[363],{39742:(e,t,l)=>{l.d(t,{A:()=>B});var s,n,a=l(91118),r=l(23558),i=l(86938),c=l(75949),d=l(28512),o=l(49418);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},x.apply(null,arguments)}const m=({title:e,titleId:t,...l},r)=>a.createElement("svg",x({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,s||(s=a.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#BDB4FE"})),n||(n=a.createElement("path",{d:"M30 20.5C30 14.9772 25.5228 10.5 20 10.5C14.4772 10.5 10 14.9772 10 20.5C10 22.1428 10.3972 23.7294 11.1449 25.1502L10.0285 29.4386C9.99198 29.5791 9.99199 29.7266 10.0286 29.867C10.1469 30.3213 10.6111 30.5937 11.0654 30.4753L15.3558 29.3583C16.7752 30.1039 18.3596 30.5 20 30.5C25.5228 30.5 30 26.0228 30 20.5ZM20 16.5C21.1046 16.5 22 17.3954 22 18.5V22.5C22 23.6046 21.1046 24.5 20 24.5H17C15.8954 24.5 15 23.6046 15 22.5V18.5C15 17.3954 15.8954 16.5 17 16.5H20ZM23 21.6619V19.3382L24.7344 17.6963C25.2125 17.2437 26 17.5826 26 18.2409V22.7591C26 23.4174 25.2125 23.7563 24.7344 23.3037L23 21.6619Z",fill:"white"}))),h=(0,a.forwardRef)(m);var u,p;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},g.apply(null,arguments)}const f=({title:e,titleId:t,...l},s)=>a.createElement("svg",g({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,u||(u=a.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FF9C66"})),p||(p=a.createElement("path",{d:"M16.2554 17.4999C17.2219 17.4999 18.0054 18.2834 18.0054 19.2499V28.75C18.0054 29.7165 17.2219 30.5 16.2554 30.5H11.751C10.7845 30.5 10.001 29.7165 10.001 28.75V19.2499C10.001 18.2834 10.7845 17.4999 11.751 17.4999H16.2554ZM14.2532 26.9952H13.7532L13.6514 27.002C13.2853 27.0517 13.0032 27.3655 13.0032 27.7452C13.0032 28.1249 13.2853 28.4387 13.6514 28.4883L13.7532 28.4952H14.2532L14.355 28.4883C14.721 28.4387 15.0032 28.1249 15.0032 27.7452C15.0032 27.3655 14.721 27.0517 14.355 27.002L14.2532 26.9952ZM27.7504 10.5C28.9412 10.5 29.916 11.4252 29.9952 12.596L30.0004 12.75V21.75C30.0004 22.9409 29.0752 23.9156 27.9044 23.9948L27.7504 24H24.0044V26H25.2504C25.6646 26 26.0004 26.3358 26.0004 26.75C26.0004 27.1297 25.7182 27.4435 25.3521 27.4932L25.2504 27.5H19.0004V26H22.5044V24H19.0004V19C19.0004 17.6745 17.9688 16.59 16.6647 16.5053L16.5004 16.5H12.0004V12.75C12.0004 11.5591 12.9255 10.5844 14.0963 10.5052L14.2504 10.5H27.7504Z",fill:"white"}))),v=(0,a.forwardRef)(f);var b,j;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},C.apply(null,arguments)}const w=({title:e,titleId:t,...l},s)=>a.createElement("svg",C({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,b||(b=a.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#FDE272"})),j||(j=a.createElement("path",{d:"M25.5 20.5C28.5376 20.5 31 22.9624 31 26C31 29.0376 28.5376 31.5 25.5 31.5C22.4624 31.5 20 29.0376 20 26C20 22.9624 22.4624 20.5 25.5 20.5ZM12 21.499L20.8094 21.5002C19.6887 22.6681 19 24.2536 19 26C19 27.0874 19.267 28.1124 19.739 29.013C18.6887 29.363 17.5306 29.5 16.5 29.5C13.7779 29.5 10.1647 28.544 10.0055 25.2296L10 25V23.499C10 22.395 10.896 21.499 12 21.499ZM25.5 22.5016L25.4101 22.5096C25.206 22.5467 25.0451 22.7076 25.0081 22.9117L25 23.0016V25.4996L22.5 25.5L22.4101 25.5081C22.206 25.5451 22.0451 25.706 22.0081 25.9101L22 26L22.0081 26.0899C22.0451 26.294 22.206 26.4549 22.4101 26.4919L22.5 26.5L25 26.4996V29L25.0081 29.0899C25.0451 29.294 25.206 29.4549 25.4101 29.4919L25.5 29.5L25.5899 29.4919C25.794 29.4549 25.9549 29.294 25.9919 29.0899L26 29V26.4996L28.5 26.5L28.5899 26.4919C28.794 26.4549 28.9549 26.294 28.9919 26.0899L29 26L28.9919 25.9101C28.9549 25.706 28.794 25.5451 28.5899 25.5081L28.5 25.5L26 25.4996V23.0016L25.9919 22.9117C25.9549 22.7076 25.794 22.5467 25.5899 22.5096L25.5 22.5016ZM16.5 10.5C18.985 10.5 21 12.515 21 15C21 17.485 18.985 19.5 16.5 19.5C14.015 19.5 12 17.485 12 15C12 12.515 14.015 10.5 16.5 10.5ZM25.5 12.5C27.433 12.5 29 14.067 29 16C29 17.933 27.433 19.5 25.5 19.5C23.567 19.5 22 17.933 22 16C22 14.067 23.567 12.5 25.5 12.5Z",fill:"white"}))),y=(0,a.forwardRef)(w);var N,k;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},A.apply(null,arguments)}const V=({title:e,titleId:t,...l},s)=>a.createElement("svg",A({width:40,height:41,viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,N||(N=a.createElement("path",{d:"M0 20.5C0 9.45431 8.95431 0.5 20 0.5C31.0457 0.5 40 9.45431 40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.95431 40.5 0 31.5457 0 20.5Z",fill:"#ACDC79"})),k||(k=a.createElement("path",{d:"M20 10.5C25.523 10.5 30 14.978 30 20.5C30 26.022 25.523 30.5 20 30.5C14.477 30.5 10 26.022 10 20.5C10 14.978 14.477 10.5 20 10.5ZM20 24C19.4477 24 19 24.4477 19 25C19 25.5523 19.4477 26 20 26C20.5523 26 21 25.5523 21 25C21 24.4477 20.5523 24 20 24ZM20 15.25C18.4812 15.25 17.25 16.4812 17.25 18C17.25 18.4142 17.5858 18.75 18 18.75C18.3797 18.75 18.6935 18.4678 18.7432 18.1018L18.75 18C18.75 17.3096 19.3096 16.75 20 16.75C20.6904 16.75 21.25 17.3096 21.25 18C21.25 18.5388 21.115 18.8053 20.6051 19.3322L20.4697 19.4697C19.5916 20.3478 19.25 20.9171 19.25 22C19.25 22.4142 19.5858 22.75 20 22.75C20.4142 22.75 20.75 22.4142 20.75 22C20.75 21.4612 20.885 21.1947 21.3949 20.6678L21.5303 20.5303C22.4084 19.6522 22.75 19.0829 22.75 18C22.75 16.4812 21.5188 15.25 20 15.25Z",fill:"white"}))),M=(0,a.forwardRef)(V);var L=l(47281),_=l(10404),E=l(16079),I=l(31210),H=l(32639),O=l(17159),S=l(45646);const z="w-[220px] md:w-[200px] h-[100px] md:h-[200px] cursor-pointer bg-gray-50 dark:bg-gray-800 rounded-3xl flex-center flex-col gap-4",G="w-7 h-7 md:w-10 md:h-10",R="px-5 text-xs md:text-sm text-slate-600 dark:text-gray-100 font-bold text-center",B=({type:e="chat"})=>{const{getExtSetting:t}=(0,O.A)(),l=t(H.f9),{t:s}=(0,r.Bd)("welcome"),n=(0,d.GV)((e=>e.server),I.bN),x=(0,d.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.is_admin}),I.bN),[m,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),j=()=>{g((e=>!e))},C=()=>{b((e=>!e))},w=()=>{u((e=>!e))},N=s("chat"==e?"start_by_channel":"start_by_dm"),k="chat"==e?j:C;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"flex flex-col gap-8 -mt-[50px] dark:bg-gray-700",children:[(0,S.jsxs)("div",{className:"flex flex-col gap-2 items-center group px-4",children:[(0,S.jsx)("h2",{className:"text-center text-3xl text-slate-700 dark:text-white font-bold",children:s("title",{name:n.name})}),(0,S.jsxs)("p",{className:"text-sm text-gray-400 max-w-md text-center relative whitespace-normal",children:[(0,S.jsx)(c.A,{options:{render:{url:({content:e,attributes:{href:t}})=>(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("a",{className:"text-primary-400",target:"_blank",href:t,rel:"noreferrer",children:e})})}},children:n.description?n.description:s("desc")}),x&&(0,S.jsx)(i.k2,{to:"/setting/overview",className:"absolute top-0 -right-7 invisible group-hover:visible",children:(0,S.jsx)(o.A,{})})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 grid-rows-2 gap-2 md:gap-6 m-auto",children:[(x||!l)&&(0,S.jsxs)("button",{className:z,onClick:w,children:[(0,S.jsx)(y,{className:G}),(0,S.jsx)("div",{className:R,children:s("invite")})]}),(0,S.jsxs)("button",{onClick:k,className:z,children:[(0,S.jsx)(h,{className:G}),(0,S.jsx)("div",{className:R,children:N})]}),!n.upgraded&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("a",{href:"https://voce.chat#download",target:"_blank",rel:"noreferrer",className:z,children:[(0,S.jsx)(v,{className:G}),(0,S.jsx)("div",{className:R,children:s("download")})]}),(0,S.jsxs)("a",{href:"https://doc.voce.chat",target:"_blank",rel:"noreferrer",className:z,children:[(0,S.jsx)(M,{className:G}),(0,S.jsx)("div",{className:R,children:s("help")})]})]})]})]}),p&&(0,S.jsx)(L.A,{personal:!0,closeModal:j}),f&&(0,S.jsx)(E.A,{closeModal:C}),m&&(0,S.jsx)(_.A,{closeModal:w})]})}},46380:(e,t,l)=>{l.r(t),l.d(t,{default:()=>sn});var s=l(91118),n=l(86938),a=l(66514),r=l(28512),i=l(39742),c=l(47281),d=l(60225),o=l(68702),x=l(45646);function m({error:e,resetErrorBoundary:t}){return(0,x.jsxs)("div",{role:"alert",className:"text-lg text-red-600",children:[(0,x.jsx)("p",{children:"Something went wrong:"}),(0,x.jsx)("pre",{children:e.message}),(0,x.jsx)(o.A,{className:"mini",onClick:t,children:"Try again"})]})}const h=({children:e})=>(0,x.jsx)(d.tH,{FallbackComponent:m,children:e});var u=l(23558),p=l(6858),g=l(67891),f=l(79160),v=l(29619),b=l(31210);function j({readonly:e=!1}){const{t:t}=(0,u.Bd)(),{pathname:l}=(0,n.zy)(),{name:s,description:a,logo:i}=(0,r.GV)((e=>e.server),b.bN),c=(0,r.GV)((e=>e.users.ids.length),b.bN);return e?(0,x.jsx)(n.k2,{to:"/",className:"relative flex items-center justify-between gap-2 px-4 py-2",children:(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-8 h-8",children:(0,x.jsx)("img",{alt:`${s} logo`,className:"w-full h-full object-cover rounded-full",src:i})}),(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-100",title:a,children:s}),(0,x.jsxs)("span",{className:"text-xs text-gray-500",children:[c," ",t("members")]})]})]})}):(0,x.jsxs)("div",{className:"relative flex items-center justify-between gap-2 px-4 py-2",children:[(0,x.jsx)(n.k2,{to:`/setting/overview?f=${l}`,children:(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-8 h-8",children:(0,x.jsx)("img",{alt:`${s} logo`,className:"w-full h-full object-cover rounded-full",src:i})}),(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsx)("h3",{className:"text-sm text-gray-600 font-bold dark:text-gray-100",title:a,children:s}),(0,x.jsxs)("span",{className:"text-xs text-gray-500",children:[c," ",t("members")]})]})]})}),(0,x.jsx)(v.A,{tip:t("more"),placement:"bottom",children:(0,x.jsx)(p.Ay,{interactive:!0,placement:"bottom-end",trigger:"click",content:(0,x.jsx)(f.A,{}),children:(0,x.jsx)(g.A,{className:"dark:fill-gray-400",role:"button"})})})]})}var C,w=l(16079),y=l(77774),N=l(74671),k=l(94909),A=l(52088),V=l(41998);function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},M.apply(null,arguments)}const L=({title:e,titleId:t,...l},n)=>s.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",fill:"#70707B",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,C||(C=s.createElement("path",{d:"M3.5 14L13.5 14.001C14.2793 14.001 14.9204 14.5963 14.9931 15.3566L15 15.501V17.5C14.999 21 11.284 22 8.5 22C5.77787 22 2.1647 21.044 2.00545 17.7296L2 17.5V15.5C2 14.7207 2.59527 14.0796 3.35561 14.0069L3.5 14ZM15.488 14H20.5C21.2793 14 21.9204 14.5944 21.9931 15.3555L22 15.5V17C21.999 20.062 19.142 21 17 21C16.32 21 15.569 20.904 14.86 20.678C15.5128 19.9277 15.9362 18.9748 15.9934 17.78L16 17.5V15.5C16 15.0056 15.8507 14.5488 15.601 14.1616L15.488 14H20.5H15.488ZM8.5 3C10.985 3 13 5.015 13 7.5C13 9.985 10.985 12 8.5 12C6.015 12 4 9.985 4 7.5C4 5.015 6.015 3 8.5 3ZM17.5 5C19.433 5 21 6.567 21 8.5C21 10.433 19.433 12 17.5 12C15.567 12 14 10.433 14 8.5C14 6.567 15.567 5 17.5 5Z"}))),_=(0,s.forwardRef)(L);var E,I=l(83667),H=l(71568),O=l(54377),S=l(98074);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},z.apply(null,arguments)}const G=({title:e,titleId:t,...l},n)=>s.createElement("svg",z({width:160,height:160,viewBox:"0 0 160 160",fill:"#D0D5DD",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,E||(E=s.createElement("path",{d:"M79.9997 13.3642C116.819 13.3642 146.666 43.2118 146.666 80.0308C146.666 116.85 116.819 146.698 79.9997 146.698C43.1807 146.698 13.333 116.85 13.333 80.0308C13.333 43.2118 43.1807 13.3642 79.9997 13.3642ZM79.9997 23.3642C48.7035 23.3642 23.333 48.7347 23.333 80.0308C23.333 111.327 48.7035 136.698 79.9997 136.698C111.296 136.698 136.666 111.327 136.666 80.0308C136.666 48.7347 111.296 23.3642 79.9997 23.3642ZM79.9997 86.6667C88.284 86.6667 94.9997 93.3824 94.9997 101.667C94.9997 109.951 88.284 116.667 79.9997 116.667C71.7154 116.667 64.9997 109.951 64.9997 101.667C64.9997 93.3824 71.7154 86.6667 79.9997 86.6667ZM60.0027 58.3411C64.6024 58.3411 68.3313 62.0699 68.3313 66.6697C68.3313 71.2694 64.6024 74.9983 60.0027 74.9983C55.4029 74.9983 51.6741 71.2694 51.6741 66.6697C51.6741 62.0699 55.4029 58.3411 60.0027 58.3411ZM100.003 58.3411C104.602 58.3411 108.331 62.0699 108.331 66.6697C108.331 71.2694 104.602 74.9983 100.003 74.9983C95.4029 74.9983 91.6741 71.2694 91.6741 66.6697C91.6741 62.0699 95.4029 58.3411 100.003 58.3411Z"}))),R=(0,s.forwardRef)(G),B=({cid:e=null,uid:t=null})=>{const{t:l}=(0,u.Bd)("chat"),{favorites:s,removeFavorite:n}=(0,O.A)({cid:e,uid:t}),a=e=>{const{id:t=""}=e.currentTarget.dataset;n(t)},r=0==s.length;return(0,x.jsxs)("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-xl min-w-[500px] max-h-[500px] overflow-auto drop-shadow-[0px_25px_50px_rgba(31,_41,_55,_0.25)]",children:[(0,x.jsxs)("h4",{className:"font-bold text-gray-600 dark:text-gray-400 mb-4",children:[l("fav_msg"),"(",s.length,")"]}),r?(0,x.jsxs)("div",{className:"flex flex-col gap-2 w-full items-center p-4",children:[(0,x.jsx)(R,{}),(0,x.jsx)("div",{className:"w-60 text-gray-600 dark:text-gray-400 text-center font-bold",children:l("fav_empty_tip")})]}):(0,x.jsx)("ul",{className:"flex flex-col gap-2",children:s.map((({id:e})=>(0,x.jsxs)("li",{className:"relative border border-solid border-slate-200 dark:border-gray-600 rounded-md group",children:[(0,x.jsx)(H.A,{id:e}),(0,x.jsx)("div",{className:"flex items-center absolute top-2 right-2 border border-solid border-gray-300 dark:border-gray-600 rounded-md overflow-hidden invisible group-hover:visible",children:(0,x.jsx)("button",{className:"flex-center w-6 h-6 p-1","data-id":e,onClick:a,children:(0,x.jsx)(S.A,{className:"fill-slate-900 dark:fill-slate-500"})})})]},e)))})]})};var D=l(4658),Z=l(89785),F=l(90184),$=l(93245),T=l(32639),P=l(1307),U=(l(44589),l(45227),l(99164),l(824),l(87886)),Q=l.n(U),K=l(12194),W=l(86560);const Y=({updateDraft:e=null,initialValue:t="",height:l="50vh",placeholder:n,sendMarkdown:a,setEditorInstance:r})=>{const i=(0,s.useRef)(),{uploadFile:c}=(0,K.A)();(0,s.useEffect)((()=>{const t=null===i||void 0===i?void 0:i.current;if(t){const e=t.getInstance();e.removeHook("addImageBlobHook"),e.addHook("addImageBlobHook",(async(e,t)=>{const{thumbnail:l=""}=await c(e)||{};t(l)})),r(e)}return()=>{if(t){const l=t.getInstance(),s=l.getMarkdown();e&&e(s),l.destroy()}}}),[]);return(0,x.jsxs)("div",{className:"input md-editor",children:[(0,x.jsx)(P.K,{initialValue:t,plugins:[Q()],placeholder:n,ref:i,toolbarItems:[],hideModeSwitch:!0,previewStyle:"vertical",height:l,initialEditType:"markdown",useCommandShortcut:!0,theme:(0,W.ud)()?"dark":"light"}),(0,x.jsx)(o.A,{className:"send small",onClick:()=>{if(!i.current)return;const e=i.current.getInstance();e.getMarkdown().trim()&&(a(e.getMarkdown()),e.reset())},children:"Send"})]})};var q=l(13826),J=l(14631),X=l(83741);const ee=({context:e="dm",id:t=0})=>{const l=(0,r.jL)(),s=`${e}_${t}`,n=(0,r.GV)((e=>e.ui.draftMarkdown),b.bN),a=(0,r.GV)((e=>e.ui.draftMixedText),b.bN);return{getDraft:(e="mixed")=>"mixed"==e?a[s]:n[s],getUpdateDraft:(e="mixed")=>{const t="mixed"==e?N.fh:N.iX;return e=>{l(t({key:s,value:e}))}}}};var te=l(15728),le=l(39837),se=l(85652);const ne=l.p+"static/media/picture.57a395fb7f41e8e3c5d1.svg";var ae=l(16084),re=l(76775);const ie=e=>{const{content_type:t,content:l,thumbnail:s="",properties:n}=e;let a=null;switch(t){case T.Py.text:a=(0,x.jsx)(ae.A,{text:l,url:!1,mentionTextOnly:!0});break;case T.Py.audio:a=(0,x.jsx)("div",{className:"text-sm",children:(0,x.jsx)("span",{className:"text-gray-400 italic",children:"[Voice Message]"})});break;case T.Py.markdown:a=(0,x.jsx)("div",{className:"max-h-[100px] overflow-auto",children:(0,x.jsx)(re.A,{content:l})});break;case T.Py.file:{const{content_type:e="",name:t,size:l}=n||{};if((0,W.wu)(e,l))a=(0,x.jsx)("img",{className:"w-10 h-10 object-cover",src:s||ne});else{const l=(0,W.I3)(e,t,"icon w-4 h-5");a=(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[l,(0,x.jsx)("span",{className:"ml-1 text-[10px] text-gray-400",children:t})]})}}}return a};function ce({context:e,id:t,mid:l}){const{removeReplying:s}=(0,te.A)({to:t,context:e}),n=(0,r.GV)((e=>e.users.byId),b.bN),a=(0,r.GV)((e=>e.message[l]),b.bN);if(!a)return null;const{from_uid:i=0}=a,c=n[i];return(0,x.jsxs)("div",{className:"reply bg-gray-100 dark:bg-gray-900 z-[999] flex flex-col md:flex-row items-start justify-start gap-4 rounded-t-lg w-full px-4 py-3 text-sm",children:[(0,x.jsxs)("div",{className:"whitespace-nowrap text-gray-400 ",children:["Replying to ",(0,x.jsx)("span",{className:"font-bold text-gray-600 dark:text-gray-400",children:null===c||void 0===c?void 0:c.name})]}),(0,x.jsx)("div",{className:"text-gray-500 overflow-hidden pr-7 ",children:ie(a)}),(0,x.jsx)("button",{className:"absolute top-4 right-4 cursor-pointer",onClick:()=>{s()},children:(0,x.jsx)(se.A,{className:"dark:fill-gray-400"})})]})}var de;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},oe.apply(null,arguments)}const xe=({title:e,titleId:t,...l},n)=>s.createElement("svg",oe({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,de||(de=s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM17 13H13V17H11V13H7V11H11V7H13V11H17V13Z"}))),me=(0,s.forwardRef)(xe);var he;function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ue.apply(null,arguments)}const pe=({title:e,titleId:t,...l},n)=>s.createElement("svg",ue({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,he||(he=s.createElement("path",{d:"M9 4C9 3.44772 8.55228 3 8 3C7.44772 3 7 3.44772 7 4V6.5C7 6.77614 6.77614 7 6.5 7H4C3.44772 7 3 7.44772 3 8C3 8.55228 3.44772 9 4 9H6.5C7.88071 9 9 7.88071 9 6.5V4ZM9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20V17.5C7 17.2239 6.77614 17 6.5 17H4C3.44772 17 3 16.5523 3 16C3 15.4477 3.44772 15 4 15H6.5C7.88071 15 9 16.1193 9 17.5V20ZM16 3C15.4477 3 15 3.44772 15 4V6.5C15 7.88071 16.1193 9 17.5 9H20C20.5523 9 21 8.55228 21 8C21 7.44772 20.5523 7 20 7H17.5C17.2239 7 17 6.77614 17 6.5V4C17 3.44772 16.5523 3 16 3ZM15 20C15 20.5523 15.4477 21 16 21C16.5523 21 17 20.5523 17 20V17.5C17 17.2239 17.2239 17 17.5 17H20C20.5523 17 21 16.5523 21 16C21 15.4477 20.5523 15 20 15H17.5C16.1193 15 15 16.1193 15 17.5V20Z"}))),ge=(0,s.forwardRef)(pe);var fe;function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ve.apply(null,arguments)}const be=({title:e,titleId:t,...l},n)=>s.createElement("svg",ve({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,fe||(fe=s.createElement("path",{d:"M5 6C5 5.44772 5.44772 5 6 5H8C8.55228 5 9 4.55228 9 4C9 3.44772 8.55228 3 8 3H6C4.34315 3 3 4.34315 3 6V8C3 8.55228 3.44772 9 4 9C4.55228 9 5 8.55228 5 8V6ZM5 18C5 18.5523 5.44772 19 6 19H8C8.55228 19 9 19.4477 9 20C9 20.5523 8.55228 21 8 21H6C4.34315 21 3 19.6569 3 18V16C3 15.4477 3.44772 15 4 15C4.55228 15 5 15.4477 5 16V18ZM18 5C18.5523 5 19 5.44772 19 6V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V6C21 4.34315 19.6569 3 18 3H16C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H18ZM19 18C19 18.5523 18.5523 19 18 19H16C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H18C19.6569 21 21 19.6569 21 18V16C21 15.4477 20.5523 15 20 15C19.4477 15 19 15.4477 19 16V18Z"}))),je=(0,s.forwardRef)(be);var Ce;function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},we.apply(null,arguments)}const ye=({title:e,titleId:t,...l},n)=>s.createElement("svg",we({width:24,height:24,viewBox:"0 0 24 24",fill:"#667085",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Ce||(Ce=s.createElement("path",{d:"M3 2H21C21.2652 2 21.5196 2.11706 21.7071 2.32544C21.8946 2.53381 22 2.81643 22 3.11111V20.8889C22 21.1836 21.8946 21.4662 21.7071 21.6746C21.5196 21.8829 21.2652 22 21 22H3C2.73478 22 2.48043 21.8829 2.29289 21.6746C2.10536 21.4662 2 21.1836 2 20.8889V3.11111C2 2.81643 2.10536 2.53381 2.29289 2.32544C2.48043 2.11706 2.73478 2 3 2ZM7 15.8889V11.4444L9 13.6667L11 11.4444V15.8889H13V8.11111H11L9 10.3333L7 8.11111H5V15.8889H7ZM18 12.5556V8.11111H16V12.5556H14L17 15.8889L20 12.5556H18Z"}))),Ne=(0,s.forwardRef)(ye);var ke;function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Ae.apply(null,arguments)}const Ve=({title:e,titleId:t,...l},n)=>s.createElement("svg",Ae({xmlns:"http://www.w3.org/2000/svg",fill:"#667085",width:24,height:24,viewBox:"0 0 24 24",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,ke||(ke=s.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}))),Me=(0,s.forwardRef)(Ve),Le=({sendMessages:e,sendVisible:t,toggleMarkdownFullscreen:l,fullscreen:n,toggleMode:a,mode:r,to:i,context:c})=>{const{t:d}=(0,u.Bd)(),{addStageFile:o}=(0,K.A)({context:c,id:i}),m=(0,s.useRef)(null),h="markdown"==r;return(0,x.jsxs)("div",{className:"flex  items-center justify-end gap-2.5",children:[(0,x.jsxs)("div",{className:"flex cursor-pointer gap-3.5",children:[(0,x.jsx)(v.A,{placement:"top",tip:"Markdown",children:(0,x.jsx)(Ne,{className:h?"fill-primary-400":"dark:fill-gray-300",onClick:a})}),h&&(n?(0,x.jsx)(v.A,{placement:"top",tip:"Exit Fullscreen",children:(0,x.jsx)(ge,{onClick:l,className:"dark:fill-gray-300"})}):(0,x.jsx)(v.A,{placement:"top",tip:"Fullscreen",children:(0,x.jsx)(je,{onClick:l,className:"dark:fill-gray-300"})}))]}),!h&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.A,{placement:"top",tip:d("action.upload"),children:(0,x.jsxs)("div",{className:"cursor-pointer relative w-6 h-6",children:[(0,x.jsx)(me,{className:"dark:fill-gray-300"}),(0,x.jsx)("label",{htmlFor:"file",className:" cursor-pointer absolute left-0 top-0 w-full h-full opacity-0",children:(0,x.jsx)("input",{className:"hidden",size:24,ref:m,multiple:!0,onChange:e=>{if(!e.target.files)return;const t=Array.from(e.target.files).map((e=>{const{size:t,type:l,name:s}=e;return{size:t,type:l,name:s,url:URL.createObjectURL(e)}}));o(t),m.current.value=null,m.current.value=""},type:"file",name:"file",id:"file"})})]})}),t&&(0,x.jsx)(v.A,{placement:"top",tip:"Send",children:(0,x.jsx)(Me,{className:"w-6 h-6 cursor-pointer animate-zoomIn dark:fill-gray-300",onClick:e.bind(null)})})]})]})};var _e=l(44299),Ee=l(42391),Ie=l(49418),He=l(36421),Oe=l(71040);function Se({name:e,closeModal:t,updateName:l}){const[n,a]=(0,s.useState)(e);return(0,x.jsx)(He.A,{children:(0,x.jsxs)("div",{className:"bg-white dark:bg-gray-800 flex flex-col drop-shadow rounded-xl p-4 w-[406px]",children:[(0,x.jsxs)("h4",{className:"flex items-center justify-between font-semibold text-lg text-gray-700 dark:text-gray-100 w-full",children:["File Details ",(0,x.jsx)(S.A,{className:"cursor-pointer dark:fill-white",onClick:t})]}),(0,x.jsxs)("div",{className:"py-4 flex flex-col gap-2",children:[(0,x.jsx)("label",{className:"font-semibold text-sm text-gray-600 dark:text-gray-200",htmlFor:"name",children:"Name"}),(0,x.jsx)(Oe.A,{id:"name",value:n,onChange:e=>{a(e.target.value)}})]}),(0,x.jsxs)("div",{className:"flex justify-end gap-4 mt-8 w-full",children:[(0,x.jsx)(o.A,{className:"ghost cancel",onClick:t,children:"Cancel"}),(0,x.jsx)(o.A,{onClick:()=>{l(n),t()},children:"Save Changes"})]})]})})}function ze({context:e,id:t}){const[l,n]=(0,s.useState)(null),{stageFiles:a,updateStageFile:r,removeStageFile:i}=(0,K.A)({context:e,id:t}),c=e=>{n((t=>t?null:e))},d=e=>{const t=a[`${e}`];t&&c({...t,index:e})};return e&&t&&a&&0!=a.length?(0,x.jsxs)(x.Fragment,{children:[l&&(0,x.jsx)(Se,{name:l.name,updateName:e=>{if(!e||!l)return;const{index:t}=l;r(t,{name:e})},closeModal:c}),(0,x.jsx)("ul",{className:"w-full overflow-auto flex gap-2 justify-start p-4 pt-6 bg-gray-200 dark:bg-gray-800 rounded-t-lg",children:a.map((({name:e,url:t,size:l,type:s,converting:n},a)=>(0,x.jsxs)("li",{className:"group relative flex flex-col bg-gray-100 dark:bg-gray-700 rounded p-2",children:[(0,x.jsx)("div",{className:"flex-center w-20 h-20 md:w-40 md:h-40",children:(0,W.xp)(s)?n?(0,x.jsx)(_e.A,{size:18,lineWeight:3,speed:1,color:"#aaa"}):(0,x.jsx)("img",{className:"w-full h-full object-cover",src:t,alt:"image"}):(0,W.I3)(s,e)}),(0,x.jsx)("h4",{className:"w-20 md:w-40 mt-1 md:mt-4 mb-0.5 md:font-semibold text-xs md:text-sm text-gray-800 dark:text-gray-100 truncate",children:e}),(0,x.jsx)("span",{className:"text-xs text-gray-500",children:(0,W.z3)(l)}),(0,x.jsxs)("ul",{className:"invisible group-hover:visible bg-inherit border border-solid border-black/10 box-border rounded-md flex items-center absolute -right-5 -top-2.5",children:[(0,x.jsx)("li",{className:"p-1 cursor-pointer edit",onClick:d.bind(null,a),children:(0,x.jsx)(Ie.A,{})}),(0,x.jsx)("li",{className:"p-1 cursor-pointer delete","data-index":a,onClick:i.bind(null,a),children:(0,x.jsx)(Ee.A,{})})]})]},t)))})]}):null}var Ge=l(1165),Re=l(37611),Be=l(84573),De=l(23970),Ze=l(57522),Fe=l(93926),$e=l(88746),Te=l(40686),Pe=l(50235),Ue=l(53335),Qe=l(21720),Ke=l(53090);function We({combobox:e,index:t,item:l,onRenderItem:s}){const{props:n}=(0,Ze.gx)({item:l,index:t,combobox:e,onRenderItem:s});return(0,x.jsx)("div",{className:(0,W.cn)("relative flex cursor-pointer select-none items-center rounded-sm text-sm outline-none ml-1 my-1 transition-colors","hover:bg-gray-300/50 dark:hover:bg-gray-500/50 hover:text-gray-500 data-[highlighted=true]:bg-gray-300/50 dark:data-[highlighted=true]:bg-gray-500/50 data-[highlighted=true]:text-gray-500"),...n})}function Ye(e){const{component:t,items:l,portalElement:n,combobox:a,onRenderItem:r}=e,i=(0,s.useRef)(null),c=(0,Ge.erU)(),d=Ze.TC.filteredItems(),o=(0,Ze.Io)(),m=(0,Ze.rL)({items:l,combobox:a}),{menuProps:h,targetRange:u}=(0,Ze.Kc)(m);return(0,x.jsxs)(Ue.bL,{open:!0,children:[(0,x.jsx)(Ue.dT,{virtualRef:(0,Qe.te)(c,null!==u&&void 0!==u?u:void 0)}),(0,x.jsx)(Ue.ZL,{container:n,children:(0,x.jsxs)(Ue.UC,{...h,sideOffset:5,side:"bottom",align:"start",className:(0,W.cn)("z-[500] m-0 max-h-[400px] w-[200px] overflow-x-hidden overflow-y-scroll rounded-md bg-slate-100 dark:bg-slate-900 py-2 shadow-md"),onOpenAutoFocus:e=>e.preventDefault(),ref:i,children:[t?t({store:o}):null,(0,x.jsx)(Ke.h,{initialPrerender:15,viewportRef:i,items:d,children:(e,t)=>(0,x.jsx)(We,{item:e,combobox:a,index:t,onRenderItem:r},e.key)})]})})]})}function qe({id:e,trigger:t,searchPattern:l,onSelectItem:n,controlled:a,maxSuggestions:r,filter:i,sort:c,disabled:d,...o}){var m,h;const u=Ze.TC.items(),p=null!==d&&void 0!==d?d:0===u.length&&!(null!==(m=o.items)&&void 0!==m&&m.length),g=null===(h=Ge.lsU.focus)||void 0===h?void 0:h.call(Ge.lsU),f=(0,Ze.$9)(),v=Ze.TC.activeId(),b=(0,Ge.erU)();return(0,s.useEffect)((()=>{Ze.Zc.setComboboxById({id:e,trigger:t,searchPattern:l,controlled:a,onSelectItem:n,maxSuggestions:r,filter:i,sort:c})}),[e,t,l,a,n,r,i,c]),f&&b.selection&&g===b.id&&v===e&&!p?(0,x.jsx)(Ye,{combobox:f,...o}):null}function Je({item:e}){const{data:{id:t,emoji:l}}=e;return(0,x.jsxs)("div",{children:[l," :",t,":"]})}function Xe({pluginKey:e=Fe.TH,id:t=e,...l}){const{trigger:s,onSelectItem:n}=(0,Fe.Uw)({pluginKey:e});return(0,x.jsx)(qe,{id:t,trigger:s,controlled:!0,onSelectItem:n,onRenderItem:Je,...l})}var et=l(66324),tt=l(68790),lt=l(668);const st=(0,s.forwardRef)((({prefix:e,renderLabel:t,className:l,onClick:s,...n},a)=>{const{children:r,element:i}=n,c=(0,lt.f7)(),d=(0,lt.zL)();return(0,x.jsxs)(et.tc,{ref:a,className:(0,W.cn)("inline-block cursor-pointer rounded-md px-1.5 py-0.5 align-baseline text-sm font-medium bg-gray-100 dark:bg-gray-900",c&&d&&"ring-2 ring-ring",!0===i.children[0].bold&&"font-bold",!0===i.children[0].italic&&"italic",!0===i.children[0].underline&&"underline",l),"data-slate-value":i.value,contentEditable:!1,onClick:(0,tt.Bu)(s,i),...n,children:[e,t?t(i):i.value,r]})}));st.displayName="MentionElement";const nt=s.forwardRef((({className:e,onClick:t,...l},s)=>{const{children:n,element:a}=l,r=(0,lt.f7)(),i=(0,lt.zL)();return(0,x.jsx)(et.tc,{asChild:!0,ref:s,"data-slate-value":a.value,className:(0,W.cn)("inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm",r&&i&&"ring-2 ring-ring",e),onClick:(0,tt.Bu)(t,a),...l,children:(0,x.jsx)("span",{children:n})})}));nt.displayName="MentionInputElement";const at=(0,s.forwardRef)((({className:e,children:t,...l},s)=>(0,x.jsx)(et.tc,{ref:s,className:(0,W.cn)("m-0 px-0 py-1",e),...l,children:t})));at.displayName="ParagraphElement";const rt=({enableMention:e})=>(0,Ge.nkb)([(0,Re._)(),(0,$e.Kt)({enabled:e,options:{createMentionNode:e=>{const{key:t,text:l}=e;return{value:l,uid:t}}}}),(0,Ze.Dr)(),(0,Fe.Ag)({renderAfterEditable:Xe}),(0,De.dj)({options:{rules:[{hotkey:"mod+enter"},{hotkey:"mod+shift+enter",before:!0}]}}),(0,Te.He)(),(0,De.n6)({options:{rules:[{hotkey:"shift+enter"}]}}),(0,Pe.jH)({options:{type:Re.A}})],{components:{[$e.uF]:st,[$e.Bc]:nt,[Re.A]:at}});var it=l(39803);const ct=s.forwardRef((({id:e,sendMessage:t,className:l,disabled:s,readOnly:n,...a},r)=>{const i=(0,Ge.Q_O)(e);return(0,it.D)("Enter",(e=>{if(i){if(e.shiftKey||e.ctrlKey||e.altKey||e.isComposing)return!0;e.preventDefault(),t(),i.reset()}}),{when:!(0,W.Fr)(),target:r}),(0,x.jsx)("div",{ref:r,className:"relative h-fit w-full pl-10",children:(0,x.jsx)(Ge.wPc,{className:(0,W.cn)("relative overflow-hidden whitespace-pre-wrap break-words","w-full rounded-md bg-background ring-offset-background placeholder:text-gray-500 focus-visible:outline-none","[&_[data-slate-placeholder]]:opacity-30","[&_[data-slate-placeholder]]:top-[4px_!important]",l),spellCheck:!1,disableDefaultStyles:!0,readOnly:null!==s&&void 0!==s?s:n,"aria-disabled":s,...a})})}));ct.displayName="Editor";var dt=l(62854);function ot({pluginKey:e=$e.uF,id:t=e,...l}){const s=(0,Ge.Q_O)(),{trigger:n}=(0,Ge.YoQ)(s,e);return(0,x.jsx)(qe,{onRenderItem:({item:e})=>{const{data:{uid:t}}=e;return(0,x.jsx)(dt.A,{uid:t,interactive:!1},t)},id:t,trigger:n,controlled:!0,onSelectItem:(0,$e.li)({key:e}),...l})}var xt=l(54926);function mt({control:e,isOpen:t,setIsOpen:l,children:s}){return(0,x.jsxs)(Ue.bL,{open:t,onOpenChange:l,children:[(0,x.jsx)(Ue.l9,{asChild:!0,children:e}),(0,x.jsx)(Ue.ZL,{children:(0,x.jsx)(Ue.UC,{align:"start",alignOffset:-12,sideOffset:20,className:"z-[100] bg-gray-200 dark:bg-gray-800",children:s})})]})}const ht={activity:{outline:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:{outline:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,x.jsx)("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,x.jsx)("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})})},flags:{outline:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,x.jsx)("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),(0,x.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,x.jsx)("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),(0,x.jsx)("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,x.jsx)("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,x.jsx)("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),(0,x.jsx)("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:(0,x.jsx)("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,x.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),(0,x.jsx)("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,x.jsx)("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),(0,x.jsx)("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},ut={loupe:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,x.jsx)("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,x.jsx)("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})},pt=(0,s.memo)((({index:e,emoji:t,onSelect:l,onMouseOver:s})=>(0,x.jsxs)("button",{type:"button","aria-label":t.skins[0].native,tabIndex:-1,"data-index":e,onClick:()=>l(t),onMouseEnter:()=>s(t),onMouseLeave:()=>s(),className:"group relative flex h-[36px] w-[36px] cursor-pointer items-center justify-center border-none bg-transparent text-2xl leading-none",children:[(0,x.jsx)("div",{"aria-hidden":"true",className:"absolute inset-0 rounded-full bg-[rgba(0,0,0,0.05)] opacity-0 group-hover:opacity-100"}),(0,x.jsx)("span",{"data-emoji-set":"native",style:{position:"relative"},children:t.skins[0].native})]})));pt.displayName="Button";const gt=(0,s.memo)((({row:e,emojiLibrary:t,onSelectEmoji:l,onMouseOver:s})=>(0,x.jsx)("div",{"data-index":e.id,className:"flex",children:e.elements.map(((e,n)=>(0,x.jsx)(pt,{index:n,emoji:t.getEmoji(e),onSelect:l,onMouseOver:s},e)))},e.id)));function ft({i18n:e,onSelectEmoji:t,onMouseOver:l,emojiLibrary:n,isSearching:a=!1,searchResult:r,visibleCategories:i,refs:c,settings:d=Fe.qW}){const o=d.perLine.value*d.buttonSize.value,m=(0,s.useCallback)((e=>!!i.has(e)&&i.get(e)),[i]),h=(0,s.useCallback)((()=>n.getGrid().sections().map((({id:s})=>{const a=n.getGrid().section(s),{buttonSize:r}=d;return(0,x.jsxs)("div",{"data-id":s,ref:a.root,style:{width:o},children:[(0,x.jsx)("div",{className:"sticky -top-px z-[1] bg-background/90 p-1 backdrop-blur-[4px] dark:text-gray-200",children:e.categories[s]}),(0,x.jsx)("div",{className:"relative flex flex-wrap",style:{height:a.getRows().length*r.value},children:m(s)&&a.getRows().map(((e,s)=>(0,x.jsx)(gt,{emojiLibrary:n,row:e,onSelectEmoji:t,onMouseOver:l},s)))})]},s)}))),[n,o,e.categories,m,t,l,d]),u=(0,s.useCallback)((()=>(0,x.jsxs)("div",{"data-id":"search",style:{width:o},children:[(0,x.jsx)("div",{className:"sticky -top-px z-[1] bg-background/90 p-1 backdrop-blur-[4px] dark:text-gray-200",children:e.searchResult}),(0,x.jsx)("div",{className:"relative flex flex-wrap",children:r.map(((e,s)=>(0,x.jsx)(pt,{index:s,emoji:n.getEmoji(e.id),onSelect:t,onMouseOver:l},e.id)))})]})),[n,o,e.searchResult,r,t,l]);return(0,x.jsx)("div",{className:(0,W.cn)("h-full min-h-[50%] overflow-y-auto overflow-x-hidden px-3","[&::-webkit-scrollbar]:w-4","[&::-webkit-scrollbar-button]:hidden [&::-webkit-scrollbar-button]:h-0 [&::-webkit-scrollbar-button]:w-0",":hover:[&::-webkit-scrollbar-thumb]:bg-[#f3f4f6]","[&::-webkit-scrollbar-thumb]:min-h-[65px] [&::-webkit-scrollbar-thumb]:rounded-2xl [&::-webkit-scrollbar-thumb]:border-4 [&::-webkit-scrollbar-thumb]:border-white","[&::-webkit-scrollbar-track]:border-0"),"data-id":"scroll",ref:c.current.contentRoot,children:(0,x.jsx)("div",{ref:c.current.content,className:"h-full",children:a?u():h()})})}gt.displayName="RowOfButtons";function vt({i18n:e,icons:t,emojiLibrary:l,focusedCategory:s,onClick:n}){const{width:a,position:r}=((e,t)=>{let l=0,s=0;return t&&(l=100/e.getGrid().size,s=t?100*e.indexOf(t):0),{width:l,position:s}})(l,s);return(0,x.jsx)("nav",{id:"emoji-nav",className:"mb-2.5 border-0 border-b border-solid border-b-gray-100 dark:border-b-gray-900 p-3",children:(0,x.jsxs)("div",{className:"relative flex",children:[l.getGrid().sections().map((({id:l})=>(0,x.jsx)("button",{"aria-label":e.categories[l],title:e.categories[l],type:"button",className:(0,W.cn)("flex grow cursor-pointer items-center justify-center border-none bg-transparent fill-current text-sm text-gray-500 hover:text-gray-800",l===s&&"pointer-events-none fill-current text-blue-600"),onClick:()=>n(l),children:(0,x.jsx)("span",{style:{width:"20px",height:"20px"},children:t.categories[l].outline})},l))),(0,x.jsx)("div",{className:"absolute -bottom-3 left-0 h-[3px] w-full rounded-t bg-blue-600 opacity-100 transition-transform duration-200",style:{visibility:""+(s?"visible":"hidden"),width:`${a}%`,transform:`translateX(${r}%)`}})]})})}function bt({emoji:e}){return(0,x.jsxs)("div",{className:"flex items-center border-t border-gray-100 dark:border-gray-900 p-2",children:[(0,x.jsx)("div",{className:"flex items-center justify-center text-3xl",children:null===e||void 0===e?void 0:e.skins[0].native}),(0,x.jsxs)("div",{className:"overflow-hidden pl-2",children:[(0,x.jsx)("div",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:null===e||void 0===e?void 0:e.name}),(0,x.jsx)("div",{className:"truncate text-xs text-muted-foreground",children:`:${null===e||void 0===e?void 0:e.id}:`})]})]})}function jt({i18n:e}){return(0,x.jsxs)("div",{className:"flex items-center border-t border-gray-100 dark:border-gray-900 p-2",children:[(0,x.jsx)("div",{className:"flex items-center justify-center text-3xl",children:"\ud83d\ude22"}),(0,x.jsxs)("div",{className:"overflow-hidden pl-2",children:[(0,x.jsx)("div",{className:"truncate text-sm text-gray-600",children:e.searchNoResultsTitle}),(0,x.jsx)("div",{className:"truncate text-xs text-muted-foreground",children:e.searchNoResultsSubtitle})]})]})}function Ct({i18n:e}){return(0,x.jsxs)("div",{className:"flex items-center border-t border-gray-100 dark:border-gray-900 p-2",children:[(0,x.jsx)("div",{className:"flex items-center justify-center text-3xl",children:"\u261d\ufe0f"}),(0,x.jsx)("div",{className:"overflow-hidden pl-2",children:(0,x.jsx)("div",{className:"truncate text-lg text-gray-800 dark:text-gray-200",children:e.pick})})]})}function wt({emoji:e,hasFound:t=!0,isSearching:l=!1,i18n:s,...n}){const a=!e&&!(l&&!t),r=l&&!t,i=e;return(0,x.jsxs)(x.Fragment,{children:[i&&(0,x.jsx)(bt,{emoji:e,...n}),a&&(0,x.jsx)(Ct,{i18n:s,...n}),r&&(0,x.jsx)(jt,{i18n:s,...n})]})}var yt=l(46598);function Nt({i18n:e,searchValue:t,clearSearch:l}){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:(0,W.cn)("absolute left-2 top-1/2 z-10 flex h-5 w-5 -translate-y-1/2"),children:(0,x.jsx)(yt.A,{className:"w-full h-full"})}),t&&(0,x.jsx)("button",{title:e.clear,"aria-label":"Clear",type:"button",className:(0,W.cn)("absolute right-0 top-1/2 flex h-8 w-8 -translate-y-1/2 cursor-pointer border-none bg-transparent justify-center items-center"),onClick:l,children:(0,x.jsx)(se.A,{className:"w-5 h-5"})})]})}function kt({i18n:e,searchValue:t,setSearch:l,children:s}){return(0,x.jsx)("div",{className:"flex items-center px-2",children:(0,x.jsxs)("div",{className:"relative flex grow",children:[(0,x.jsx)("input",{type:"text",placeholder:e.search,autoComplete:"off","aria-label":"Search",className:"block w-full appearance-none rounded-lg border-0 bg-gray-100 dark:bg-gray-900 dark:text-gray-200 px-8 py-2 outline-none",onChange:e=>l(e.target.value),value:t}),s]})})}function At({i18n:e,searchValue:t,setSearch:l,clearSearch:s,isSearching:n,hasFound:a,searchResult:r,emoji:i,onSelectEmoji:c,onMouseOver:d,emojiLibrary:o,icons:m,handleCategoryClick:h,focusedCategory:u,visibleCategories:p,refs:g,settings:f=Fe.qW}){return(0,x.jsxs)("div",{className:(0,W.cn)("flex flex-col rounded dark:text-gray-300","h-[400px] w-[316px] shadow-[rgb(15_15_15_/_5%)_0_0_0_1px,_rgb(15_15_15_/_10%)_0_3px_6px,_rgb(15_15_15_/_20%)_0_9px_24px]"),children:[(0,x.jsx)(vt,{i18n:e,emojiLibrary:o,icons:m,focusedCategory:u,onClick:h}),(0,x.jsx)(kt,{i18n:e,setSearch:l,searchValue:t,children:(0,x.jsx)(Nt,{i18n:e,clearSearch:s,searchValue:t})}),(0,x.jsx)(ft,{i18n:e,emojiLibrary:o,isSearching:n,searchResult:r,visibleCategories:p,settings:f,onSelectEmoji:c,onMouseOver:d,refs:g}),(0,x.jsx)(wt,{i18n:e,emoji:i,hasFound:a,isSearching:n})]})}const Vt=e=>{const{options:t,onSelectEmoji:l,...s}=e,{isOpen:n,setIsOpen:a,emojiPickerState:r}=(0,Fe.d8)(t),i=l?{onSelectEmoji:l}:{};return(0,x.jsx)(Ge.T6o,{children:(0,x.jsx)(mt,{control:(0,x.jsx)("button",{className:"relative h-6 w-6",onClick:()=>{a(!n)},...s,children:(0,x.jsx)(xt.A,{className:"w-full h-full"})}),isOpen:n,setIsOpen:a,children:(0,x.jsx)(At,{...r,isOpen:n,setIsOpen:a,icons:{categories:ht,search:ut},settings:null===t||void 0===t?void 0:t.settings,...i})})},"just_for_emoji_picker")};function Mt({context:e,...t}){return"markdown"===e?(0,x.jsx)(Ge.T6o,{children:(0,x.jsx)(Vt,{...t})},"just_for_emoji_picker"):(0,x.jsx)(Vt,{...t})}const Lt=[{id:"1",type:Re.A,children:[{text:""}]}];function _t({editorRef:e,members:t,debug:l=!1,placeholder:n,id:a,sendMessage:i,updateMessage:c}){const[d,o]=a.split("_"),{addStageFile:m}=(0,K.A)({context:d,id:o}),h=(0,r.GV)((e=>e.users.byId),b.bN),u=(0,s.useRef)(null),[p,g]=(0,Be.B)(a,Lt);(0,s.useEffect)((()=>{const e=(0,W._Y)(p);c(e)}),[p]),(0,s.useEffect)((()=>{const e=e=>{const t=[...e.clipboardData.files];if(t.length){const e=t.map((e=>{const{size:t,type:l,name:s}=e;return{size:t,type:l,name:s,url:URL.createObjectURL(e)}}));m(e)}};return window.addEventListener("paste",e,!0),()=>{window.removeEventListener("paste",e,!0)}}),[a]);const f=t.map((e=>{var t;return{key:`${e}`,text:(null===(t=h[e])||void 0===t?void 0:t.name)||"",data:{uid:e}}}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{ref:u,className:"input w-full pr-0 max-h-[50vh] overflow-auto text-sm text-gray-600 dark:text-white",children:(0,x.jsxs)(Ge.T6o,{editorRef:e,id:a,onChange:e=>{g(e)},plugins:rt({enableMention:t.length>0}),value:p,children:[(0,x.jsx)(ct,{sendMessage:()=>{i()},autoFocus:!0,placeholder:n}),(0,x.jsx)(ot,{items:f}),(0,x.jsx)("div",{className:"absolute left-3 bottom-3",children:(0,x.jsx)(Mt,{})})]},a)}),l&&(0,x.jsx)("div",{className:"whitespace-pre p-2 text-xs",children:JSON.stringify(p,null,2)})]})}const Et="text",It="markdown",Ht=({context:e="channel",id:t})=>{var l,n,i,c,d;const m=(0,s.useRef)(null),{t:h}=(0,u.Bd)("chat"),{unblockThisContact:p,blocked:g,isChannelOwner:f}=(0,le.A)({uid:"dm"==e?t:void 0,cid:"channel"==e?t:void 0}),{resetStageFiles:v}=(0,K.A)({context:e,id:t}),{getDraft:j,getUpdateDraft:C}=ee({context:e,id:t}),[w,y]=(0,s.useState)({text:"",mentions:[]}),[k,A]=(0,s.useState)(null),[V,M]=(0,s.useState)(!1),L=(0,r.jL)(),_=function({context:e,to:t}){const l=(0,b.wA)(),s="channel"==e?J.Oe:X.w3;return e=>{l((0,q.tj)(e)),l(s({id:t,mid:e.mid}))}}({context:e,to:t}),E=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),b.bN),I=(0,r.GV)((l=>l.message.replying[`${e}_${t}`]),b.bN),H=(0,r.GV)((e=>e.ui.inputMode),b.bN),O=(0,r.GV)((l=>{var s;return null!==(s=l.ui.uploadFiles[`${e}_${t}`])&&void 0!==s?s:[]}),b.bN),S=(0,r.GV)((e=>e.users.ids),b.bN),z=(0,r.GV)((e=>e.channels.byId),b.bN),G=(0,r.GV)((e=>e.users.byId),b.bN),{sendMessage:R}=(0,te.A)({context:e,from:E,to:t}),B=async()=>{if(t){if(m.current&&m.current.reset(),w.text.trim()){const{text:e,mentions:l}=w,s={mentions:l};s.local_id=+new Date,await R({id:t,reply_mid:I,type:"text",content:e,from_uid:E,properties:s})}0!==O.length&&(O.forEach((e=>{const t=+new Date,{url:l,name:s,size:n,type:a}=e,r={mid:t,content:l,content_type:T.Py.file,created_at:t,properties:{content_type:a,name:s,size:n,local_id:t},from_uid:E,sending:!0};_(r)})),v())}},D="channel"==e?null===(l=z[t])||void 0===l?void 0:l.name:null===(n=G[t])||void 0===n?void 0:n.name,Z=`${h("send_to")} ${T.ZJ[e]}${D} `,F="channel"==e?null!==(i=z[t])&&void 0!==i&&i.is_public?S:null===(c=z[t])||void 0===c?void 0:c.members:[],$=H==It,P=!("channel"!=e||!(null===(d=z[t])||void 0===d?void 0:d.only_owner_can_send_msg));return!f&&P?null:"dm"==e&&g?(0,x.jsxs)("div",{className:"p-5 bg-gray-200 rounded-lg w-full dark:bg-gray-600 text-red-300",children:[h("contact_block_tip"),(0,x.jsx)(o.A,{className:"mini ml-4",onClick:p,children:h("unblock")})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:(0,a.A)(`send mb-2 md:mb-0 relative bg-gray-200 rounded-lg w-full dark:bg-gray-600 ${H} ${V?"fullscreen":""} ${I?"reply":""} ${e}`,$&&V&&"-mt-9"),children:[I&&(0,x.jsx)(ce,{context:e,mid:I,id:t}),H==Et&&(0,x.jsx)(ze,{context:e,id:t}),(0,x.jsxs)("div",{className:(0,a.A)("flex justify-between items-center px-4 py-3.5",$?"grid grid-cols-[1fr_1fr] grid-rows-[auto_auto] gap-0":"gap-4"),children:[H==It&&(0,x.jsx)(Mt,{context:"markdown",options:{closeOnSelect:!1},onSelectEmoji:e=>{if(H==It&&k){const{native:t}=e.skins[0];k.insertText(t)}}}),H==Et&&(0,x.jsx)(_t,{editorRef:m,members:F,id:`${e}_${t}`,updateMessage:y,sendMessage:B,placeholder:Z}),(0,x.jsx)(Le,{sendMessages:B,sendVisible:w.text.trim().length>0||O.length>0,context:e,to:t,mode:H,toggleMode:()=>{L((0,N.TU)(H==Et?It:Et))},fullscreen:V,toggleMarkdownFullscreen:()=>{M((e=>!e))}}),H==It&&(0,x.jsx)(Y,{updateDraft:C("markdown"),initialValue:j("markdown"),height:V?"calc(100vh - 168px)":"30vh",placeholder:Z,setEditorInstance:A,sendMarkdown:async e=>{R({id:t,reply_mid:I,type:"markdown",content:e,from_uid:E,properties:{local_id:+new Date}})}})]})]})})};var Ot,St,zt=l(68654);function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Gt.apply(null,arguments)}const Rt=({title:e,titleId:t,...l},n)=>s.createElement("svg",Gt({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Ot||(Ot=s.createElement("rect",{width:32,height:32,rx:16,fill:"#FEF0C7"})),St||(St=s.createElement("path",{d:"M15.9998 13.3333V16M15.9998 18.6667H16.0064M14.8598 9.90666L9.2131 19.3333C9.09668 19.5349 9.03508 19.7635 9.03443 19.9963C9.03378 20.2292 9.0941 20.4581 9.20939 20.6603C9.32468 20.8626 9.49092 21.0312 9.69157 21.1492C9.89223 21.2673 10.1203 21.3308 10.3531 21.3333H21.6464C21.8792 21.3308 22.1073 21.2673 22.308 21.1492C22.5086 21.0312 22.6749 20.8626 22.7902 20.6603C22.9054 20.4581 22.9658 20.2292 22.9651 19.9963C22.9645 19.7635 22.9029 19.5349 22.7864 19.3333L17.1398 9.90666C17.0209 9.71073 16.8536 9.54874 16.6539 9.43632C16.4542 9.32389 16.2289 9.26483 15.9998 9.26483C15.7706 9.26483 15.5453 9.32389 15.3456 9.43632C15.146 9.54874 14.9786 9.71073 14.8598 9.90666Z",stroke:"#DC6803",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"}))),Bt=(0,s.forwardRef)(Rt);var Dt,Zt=l(52400);function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Ft.apply(null,arguments)}const $t=({title:e,titleId:t,...l},n)=>s.createElement("svg",Ft({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"#101828",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Dt||(Dt=s.createElement("path",{d:"M4.93 4.93L19.07 19.07M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),Tt=(0,s.forwardRef)($t);var Pt=l(107);const Ut=e=>{const{t:t}=(0,u.Bd)("chat"),[l]=(0,Pt.QI)(),s=(0,r.GV)((e=>e.server.contact_verification_enable),b.bN),n=(0,r.GV)((t=>t.users.byId[e.uid]),b.bN),a=t=>{l({target_uid:e.uid,action:t})},i="cursor-pointer flex flex-col items-center gap-1 rounded-lg w-32 text-primary-400 bg-gray-50 dark:bg-gray-800 text-sm pt-3.5 pb-3";if(!n||!s)return null;if("added"==n.status)return null;const c="blocked"==n.status;return(0,x.jsxs)("div",{className:"py-4 px-10 flex flex-col items-center gap-3 bg-slate-100 dark:bg-slate-600",children:[(0,x.jsx)("h3",{className:"text-gray-700 dark:text-gray-300 text-sm font-semibold",children:t(c?"contact_block_tip":"contact_tip")}),(0,x.jsxs)("ul",{className:"flex gap-4",children:[!c&&(0,x.jsxs)("li",{className:i,onClick:a.bind(null,"add"),children:[(0,x.jsx)(Zt.A,{className:"fill-primary-400"}),(0,x.jsx)("span",{children:t("add_contact")})]}),(0,x.jsxs)("li",{className:i,onClick:a.bind(null,c?"unblock":"block"),children:[(0,x.jsx)(Tt,{className:"stroke-primary-400"}),(0,x.jsx)("span",{children:t(c?"unblock":"block")})]})]})]})};var Qt,Kt,Wt=l(19535),Yt=l(40495),qt=l(79096),Jt=l(747),Xt=l.n(Jt),el=l(56164),tl=l(12695);function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ll.apply(null,arguments)}const sl=({title:e,titleId:t,...l},n)=>s.createElement("svg",ll({width:24,height:24,viewBox:"0 0 24 24",fill:"#344054",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Qt||(Qt=s.createElement("path",{d:"M3.28034 2.21968C2.98745 1.92678 2.51257 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98743 2.21966 3.28032L3.78662 4.84731C2.72676 5.38269 2 6.48147 2 7.75V16.25C2 18.0449 3.45507 19.5 5.25 19.5H12.75C14.2943 19.5 15.5871 18.4229 15.9179 16.9789L20.7194 21.7805C21.0123 22.0734 21.4872 22.0734 21.7801 21.7805C22.073 21.4876 22.073 21.0127 21.7801 20.7198L3.28034 2.21968ZM17 13.8182L21.5042 18.3226C21.8008 18.1491 22 17.8272 22 17.4588V6.54096C22 6.30368 21.9156 6.07414 21.762 5.89334C21.4043 5.47252 20.7732 5.42132 20.3524 5.77899L17 8.62794V13.8182ZM7.68194 4.5L16 12.8182V7.75C16 5.95508 14.5449 4.5 12.75 4.5H7.68194Z"})),Kt||(Kt=s.createElement("path",{d:"M2.21968 2.21966C2.51257 1.92677 2.98745 1.92678 3.28034 2.21968L21.7801 20.7198C22.073 21.0127 22.073 21.4876 21.7801 21.7805C21.4872 22.0734 21.0123 22.0734 20.7194 21.7805L2.21966 3.28032C1.92677 2.98743 1.92678 2.51255 2.21968 2.21966Z",fill:"#D92D20"}))),nl=(0,s.forwardRef)(sl);var al;function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},rl.apply(null,arguments)}const il=({title:e,titleId:t,...l},n)=>s.createElement("svg",rl({width:24,height:24,viewBox:"0 0 24 24",fill:"#1D2939",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,al||(al=s.createElement("path",{d:"M16 16.25C16 18.0449 14.5449 19.5 12.75 19.5H5.25C3.45507 19.5 2 18.0449 2 16.25V7.75C2 5.95507 3.45507 4.5 5.25 4.5H12.75C14.5449 4.5 16 5.95507 16 7.75V16.25ZM21.762 5.89334C21.9156 6.07414 22 6.30368 22 6.54096V17.4588C22 18.0111 21.5523 18.4588 21 18.4588C20.7627 18.4588 20.5332 18.3744 20.3524 18.2208L17 15.3709V8.62794L20.3524 5.77899C20.7732 5.42132 21.4043 5.47252 21.762 5.89334Z"}))),cl=(0,s.forwardRef)(il);var dl,ol,xl=l(83679);function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ml.apply(null,arguments)}const hl=({title:e,titleId:t,...l},n)=>s.createElement("svg",ml({viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"#78787C",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,dl||(dl=s.createElement("path",{d:"M 3.28 2.22 C 2.987 1.927 2.513 1.927 2.22 2.22 C 1.927 2.513 1.927 2.987 2.22 3.28 L 8 9.061 L 8 12 C 8 14.209 9.791 16 12 16 C 12.834 16 13.607 15.745 14.248 15.309 L 15.394 16.455 C 14.518 17.111 13.429 17.5 12.25 17.5 L 11.75 17.5 L 11.534 17.496 C 8.734 17.382 6.5 15.077 6.5 12.25 L 6.5 11.75 L 6.493 11.648 C 6.443 11.282 6.13 11 5.75 11 C 5.336 11 5 11.336 5 11.75 L 5 12.25 L 5.004 12.486 C 5.123 15.938 7.833 18.732 11.25 18.982 L 11.25 21.25 L 11.257 21.352 C 11.306 21.718 11.62 22 12 22 C 12.414 22 12.75 21.664 12.75 21.25 L 12.751 18.982 C 14.15 18.879 15.431 18.35 16.463 17.524 L 20.719 21.781 C 21.012 22.073 21.487 22.073 21.78 21.781 C 22.073 21.488 22.073 21.013 21.78 20.72 L 3.28 2.22 Z M 17.196 14.014 L 18.342 15.16 C 18.764 14.279 19 13.292 19 12.25 L 19 11.75 L 18.993 11.648 C 18.943 11.282 18.63 11 18.25 11 C 17.836 11 17.5 11.336 17.5 11.75 L 17.5 12.25 L 17.496 12.466 C 17.474 13.008 17.37 13.528 17.196 14.014 Z M 8.138 4.956 L 15.93 12.748 C 15.976 12.506 16 12.256 16 12 L 16 6 C 16 3.791 14.209 2 12 2 C 10.152 2 8.597 3.253 8.138 4.956 Z"})),ol||(ol=s.createElement("path",{d:"M 2.22 2.22 C 2.513 1.927 2.987 1.927 3.28 2.22 L 21.78 20.72 C 22.073 21.013 22.073 21.488 21.78 21.781 C 21.487 22.073 21.012 22.073 20.719 21.781 L 2.22 3.28 C 1.927 2.987 1.927 2.513 2.22 2.22 Z",fill:"#D92D20"}))),ul=(0,s.forwardRef)(hl);var pl;function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},gl.apply(null,arguments)}const fl=({title:e,titleId:t,...l},n)=>s.createElement("svg",gl({width:24,height:24,viewBox:"0 0 24 24",fill:"#78787C",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,pl||(pl=s.createElement("path",{d:"M18.25 11C18.6297 11 18.9435 11.2822 18.9932 11.6482L19 11.75V12.25C19 15.8094 16.245 18.7254 12.751 18.9817L12.75 21.25C12.75 21.6642 12.4142 22 12 22C11.6203 22 11.3065 21.7178 11.2568 21.3518L11.25 21.25L11.25 18.9818C7.83323 18.7316 5.12283 15.938 5.00406 12.4863L5 12.25V11.75C5 11.3358 5.33579 11 5.75 11C6.1297 11 6.44349 11.2822 6.49315 11.6482L6.5 11.75V12.25C6.5 15.077 8.73445 17.3821 11.5336 17.4956L11.75 17.5H12.25C15.077 17.5 17.3821 15.2656 17.4956 12.4664L17.5 12.25V11.75C17.5 11.3358 17.8358 11 18.25 11ZM12 2C14.2091 2 16 3.79086 16 6V12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12V6C8 3.79086 9.79086 2 12 2Z"}))),vl=(0,s.forwardRef)(fl);var bl;function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},jl.apply(null,arguments)}const Cl=({title:e,titleId:t,...l},n)=>s.createElement("svg",jl({width:25,height:24,viewBox:"0 0 25 24",fill:"#344054",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,bl||(bl=s.createElement("path",{d:"M4.58301 4C3.34037 4 2.33301 5.00736 2.33301 6.25V17.75C2.33301 18.9926 3.34037 20 4.58301 20H20.083C21.3256 20 22.333 18.9926 22.333 17.75V6.25C22.333 5.00736 21.3256 4 20.083 4H4.58301ZM12.8633 7.46515L16.1178 10.7197C16.4107 11.0126 16.4107 11.4874 16.1178 11.7803C15.825 12.0732 15.3501 12.0732 15.0572 11.7803L13.083 9.80614V16.2528C13.083 16.6671 12.7472 17.0028 12.333 17.0028C11.9188 17.0028 11.583 16.6671 11.583 16.2528V9.80793L9.61371 11.78C9.32102 12.0731 8.84614 12.0734 8.55305 11.7807C8.25995 11.488 8.25962 11.0131 8.55231 10.72L11.8023 7.46552C11.9429 7.32471 12.1337 7.24555 12.3327 7.24548C12.5317 7.24541 12.7226 7.32444 12.8633 7.46515Z"}))),wl=(0,s.forwardRef)(Cl);var yl=l(17429);const Nl=({type:e,visible:t,setVisible:l,devices:s})=>{const n=(0,r.GV)((e=>{var t,l;return null!==(t=null===(l=e.authData.user)||void 0===l?void 0:l.uid)&&void 0!==t?t:0}),b.bN),i=(0,b.wA)(),c=e=>{const{deviceId:t="",kind:l,selected:s=""}=e.currentTarget.dataset;if(s!=t&&l)switch(l){case"audiooutput":case"audioinput":{const e=window.VOICE_TRACK_MAP[n];i((0,Wt.H4)({kind:l,value:t})),e&&e.setDevice(t).then((()=>{})).catch((e=>{}))}break;case"videoinput":{const e=window.VIDEO_TRACK_MAP[n];e&&e.setDevice(t).then((()=>{i((0,Wt.H4)({kind:l,value:t}))})).catch((e=>{}))}}};return(0,x.jsx)(p.Ay,{onClickOutside:()=>l(""),interactive:!0,popperOptions:{strategy:"fixed"},visible:t==e,placement:"top-start",content:(0,x.jsx)("div",{onClick:e=>{e.stopPropagation()},className:"px-3 pb-3 bg-white dark:bg-gray-800 overflow-auto rounded-lg flex flex-col gap-3 divide-gray-500/50 divide-y-[1px] items-start relative drop-shadow",children:s.map((({title:e,list:t,selected:l})=>0==t.length?null:(0,x.jsxs)("div",{className:"w-full flex flex-col items-start gap-2 pt-3",children:[(0,x.jsx)("p",{className:"text-gray-500 text-xs",children:e}),(0,x.jsx)("ul",{className:"w-full flex flex-col gap-4",children:t.map((({deviceId:e,kind:t,label:s})=>(0,x.jsxs)("li",{"data-selected":l,"data-kind":t,"data-device-id":e,className:"relative rounded-sm cursor-pointer flex items-center justify-between gap-4 text-gray-500 hover:text-gray-900 dark:text-gray-300 hover:dark:text-gray-100 font-semibold text-sm whitespace-nowrap",onClick:c,children:[s,(0,x.jsx)("i",{className:"w-4 h-3",children:l==e&&(0,x.jsx)(xl.A,{className:(0,a.A)("shrink-0")})})]},s)))})]},e)))}),children:(0,x.jsx)("div",{onClick:t=>{t.stopPropagation(),l((t=>t==e?"":e))},className:"group p-1 absolute rounded-sm top-0.5 right-0.5 hover:bg-gray-300/50",role:"button",children:(0,x.jsx)(el.A,{className:(0,a.A)("w-2 fill-gray-600 group-hover:fill-gray-900 dark:fill-white transition-transform",t==e&&"rotate-180")})})})},kl=({id:e,context:t,mode:l="channel"})=>{const n=(0,b.wA)(),i=(0,r.GV)((e=>{var t,l;return null!==(t=null===(l=e.authData.user)||void 0===l?void 0:l.uid)&&void 0!==t?t:0}),b.bN),[c,d]=(0,s.useState)(""),{exitFullscreen:o,enterFullscreen:m,fullscreen:h,voicingInfo:p,leave:g,setMute:f,closeCamera:j,openCamera:C,startShareScreen:w,stopShareScreen:y,audioInputDevices:N,audioOutputDevices:k,videoInputDevices:A,videoInputDeviceId:V,audioInputDeviceId:M,audioOutputDeviceId:L}=(0,yl.A)({id:e,context:t}),{t:_}=(0,u.Bd)("chat");if((0,s.useEffect)((()=>{Xt().getDevices().then((e=>{n((0,Wt.Z7)(e.map((e=>{const{deviceId:t,groupId:l,label:s,kind:n}=e;return{deviceId:t,groupId:l,label:s,kind:n}}))))})).catch((e=>{}))}),[]),!p)return null;const{muted:E,video:I,shareScreen:H}=p,O=(0,a.A)("flex-center py-2 px-3 rounded bg-gray-100 dark:bg-gray-900 relative disabled:pointer-events-none disabled:opacity-50"),S=(0,a.A)("w-[25px] h-6 m-auto fill-gray-700 dark:fill-gray-300");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.A,{disabled:"audio"==c,tip:_(E?"unmute":"mute"),placement:"top",children:(0,x.jsxs)("button",{disabled:0==N.length&&0==k.length,onClick:f.bind(null,!E),className:O,children:[E?(0,x.jsx)(ul,{className:S}):(0,x.jsx)(vl,{className:S}),(0,x.jsx)(Nl,{visible:c,setVisible:d,type:"audio",devices:[{title:"Input Device",list:N,selected:M},{title:"Output Device",list:k,selected:L}]})]})}),(0,x.jsx)(v.A,{disabled:"video"==c,tip:_(I?"camera_off":"camera_on"),placement:"top",children:(0,x.jsxs)("button",{disabled:0==A.length,onClick:I?j:C,className:O,children:[I?(0,x.jsx)(cl,{className:S}):(0,x.jsx)(nl,{className:S}),(0,x.jsx)(Nl,{visible:c,setVisible:d,type:"video",devices:[{title:"Camera Device",list:A,selected:V}]})]})}),(0,x.jsx)(v.A,{tip:"Share Screen",placement:"top",children:(0,x.jsx)("button",{onClick:H?y:w,className:(0,a.A)("py-2 px-3 rounded",H?"bg-green-700":"bg-gray-100 dark:bg-gray-900"),children:(0,x.jsx)(wl,{className:(0,a.A)("w-6 h-6 dark:fill-gray-300",H?"fill-gray-200":"fill-gray-800")})})}),(0,x.jsx)(v.A,{tip:"Fullscreen",placement:"top",children:(0,x.jsx)("button",{onClick:h?o:m.bind(null,"dm"==t?i:void 0),className:O,children:h?(0,x.jsx)(ge,{className:S}):(0,x.jsx)(je,{className:S})})}),"dm"!==l&&(0,x.jsx)(v.A,{tip:_("leave_voice"),placement:"top",children:(0,x.jsx)("button",{onClick:g,className:(0,a.A)("py-2 px-3 rounded bg-red-600 hover:bg-red-700","fullscreen"!==l&&"col-span-4"),children:(0,x.jsx)(tl.A,{className:"m-auto w-[25px] h-6"})})})]})};var Al=l(76386);const Vl=({onlyToSelf:e,sendByMe:t,connected:l,from:s,to:n})=>{const r=[s,n].map((({id:s,speaking:n,name:r,avatar:i,video:c,muted:d},o)=>{const m=1==o&&!l&&!t&&!e,h=1==o&&!l&&t,u=t?0==o:1==o,p=e&&0==o;return(0,x.jsxs)("div",{className:(0,a.A)("group relative flex-center",c?"w-[500px] h-[280px] overflow-hidden rounded":"",p&&"hidden"),children:[(0,x.jsxs)("div",{className:(0,a.A)("w-20 h-20 flex shrink-0 relative transition-opacity",h&&"animate-pulse",m&&"opacity-40"),children:[n&&(0,x.jsx)("div",{className:(0,a.A)("z-10 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 rounded-full bg-green-500 animate-speaking","w-[86px] h-[86px]")}),h&&(0,x.jsx)("div",{className:(0,a.A)("z-10 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-gray-400","w-[88px] h-[88px]")}),(0,x.jsx)(Yt.A,{width:80,height:80,className:(0,a.A)("z-20 w-full h-full rounded-full object-cover"),src:i,name:r,alt:"avatar"})]}),(0,x.jsx)("div",{className:(0,a.A)("z-30 absolute left-0 top-0 w-full h-full",!c&&"hidden"),id:`CAMERA_${s}`}),c&&(0,x.jsx)("span",{className:(0,a.A)("text-gray-300 bg-black/50 rounded absolute z-40","left-1 bottom-1 py-1 px-2 text-xs"),title:r,children:r}),d&&!u&&(0,x.jsx)("span",{className:(0,a.A)("bg-black/50 rounded absolute z-40 right-1 bottom-1 p-1",c&&"invisible group-hover:visible"),title:r,children:(0,x.jsx)(ul,{className:"w-4 h-4 fill-gray-300"})})]},s)}));return(0,x.jsx)(x.Fragment,{children:r})},Ml=({uid:e})=>{var t,l;const n=(0,b.wA)(),i=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),b.bN),c=(0,r.GV)((e=>e.users.byId),b.bN),{callingFrom:d,callingTo:o,voicingMembers:m}=(0,r.GV)((e=>e.voice),b.bN),{leave:h,joinVoice:u,joining:p}=(0,qt.c)({id:o,context:"dm"});if((0,s.useEffect)((()=>{m.ids.forEach((e=>{(0,W.Qv)(e)}))}),[m.ids]),![d,o].includes(e))return null;const{name:g,avatar:f}=c[d],{name:j,avatar:C,uid:w}=c[o],y=i!==w,N=1==m.ids.length&&m.ids[0]==o,k=2==m.ids.length,{speakingVolume:A=0,muted:V=!1,video:M=!1,shareScreen:L=!1}=null!==(t=m.byId[o])&&void 0!==t?t:{},_=A>50,{speakingVolume:E=0,muted:I=!1,video:H=!1,shareScreen:O=!1}=null!==(l=m.byId[d])&&void 0!==l?l:{},S=E>50;return(0,x.jsxs)("div",{className:"py-4 px-10 flex flex-col items-center gap-3 bg-slate-200 dark:bg-slate-800",children:[(0,x.jsx)("div",{className:"flex items-center gap-4",children:(0,x.jsx)(Vl,{onlyToSelf:N,sendByMe:y,connected:k,from:{id:d,muted:I,video:H||O,speaking:S,name:g,avatar:f},to:{muted:V,id:o,video:M||L,speaking:_,name:j,avatar:C}})}),(0,x.jsxs)("div",{className:(0,a.A)("flex gap-3",k?"h-full items-end":""),children:[(y||k||N)&&(0,x.jsx)(v.A,{tip:"Leave",placement:"top",children:(0,x.jsx)("button",{onClick:()=>{(y||2==m.ids.length||N)&&h(),(y||1==m.ids.length)&&n((0,Wt.uU)({from:0,to:0}))},className:"flex-center bg-red-600 hover:bg-red-700 py-2 px-3 rounded",children:(0,x.jsx)(tl.A,{className:"w-6 h-6"})})}),!y&&!k&&!N&&(0,x.jsx)(v.A,{tip:"Answer",placement:"top",children:(0,x.jsx)("button",{disabled:p,onClick:()=>{u()},className:"flex-center bg-green-600 hover:bg-green-700 py-2 px-3 rounded",children:(0,x.jsx)(Al.A,{className:"w-6 h-6 fill-white"})})}),k&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(kl,{id:o,context:"dm",mode:"dm"})})]})]})},Ll=({context:e,name:t})=>{const{t:l}=(0,u.Bd)("chat");return(0,x.jsx)("div",{className:"z-50 flex-center absolute left-0 top-0 w-full h-full bg-black/50",children:(0,x.jsx)("div",{className:"p-4 drop-shadow-md rounded-lg bg-primary-300",children:(0,x.jsxs)("div",{className:"p-4 pt-16 border-2 border-dashed border-primary-300 rounded-md flex flex-col items-center text-white",children:[(0,x.jsx)("h4",{className:"text-xl font-semibold",children:`${l("send_to")} ${T.ZJ[e]}${t}`}),(0,x.jsx)("span",{className:"text-sm",children:"Photos accept jpg, png, max size limit to 10M."})]})})})},_l=()=>{const{t:e}=(0,u.Bd)("chat"),t=(0,n.Zp)();return(0,x.jsxs)("div",{className:"flex items-center justify-between bg-red-600 rounded-md w-full py-3 px-4",children:[(0,x.jsxs)("span",{className:"text-white",children:[(0,x.jsx)("i",{className:"text-xl mr-2",children:"\ud83d\udea8"}),e("license_tip")]}),(0,x.jsx)(o.A,{onClick:()=>{t("/setting/license")},className:"small",children:"Upgrade License"})]})},El=({placement:e="chat"})=>{const{t:t}=(0,u.Bd)("welcome"),{t:l}=(0,u.Bd)(),s=(0,n.Zp)();return(0,x.jsxs)("div",{className:(0,a.A)("flex items-center justify-between bg-slate-200/80 dark:bg-gray-800 rounded-lg p-4 border border-solid border-gray-200 dark:border-gray-500","session"==e?"!w-[96%] md:hidden fixed bottom-2 left-1/2 -translate-x-1/2":"w-full"),children:[(0,x.jsxs)("span",{className:"text-xs md:text-base text-gray-400 dark:text-gray-100",children:[(0,x.jsx)("i",{className:"mr-2 text-xs md:text-lg ",children:"\ud83d\udc4b"}),t("sign_in_tip")]}),(0,x.jsx)(o.A,{onClick:()=>{s("/login")},className:"small",children:l("action.login")})]})};var Il=l(79518),Hl=l(56320),Ol=l(28671),Sl=l(67885);const zl=({context:e,id:t})=>{const[l,n]=(0,s.useState)(!1),{canDelete:a}=(0,Ol.A)(),{addFavorite:i}=(0,O.A)({}),c=(0,r.GV)((l=>l.ui.selectMessages[`${e}_${t}`]),b.bN),[d,o]=(0,s.useState)(!1),m=(0,r.jL)(),h=(l=!1)=>{n((e=>!e)),l&&(m((0,N.AL)({context:e,id:t,operation:"reset"})),F.Ay.success("Messages Deleted!"))},u=()=>{o((e=>!e))};(0,it.D)("Escape",(()=>{m((0,N.AL)({context:e,id:t,operation:"reset"}))}));const p=a(c),g="p-2 bg-slate-100 dark:bg-slate-800 rounded md:hover:bg-slate-300 dark:md:hover:bg-slate-900";return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"relative p-4 flex-center gap-8 shadow-md",children:[(0,x.jsx)("button",{className:g,onClick:u,children:(0,x.jsx)(Sl.A,{})}),(0,x.jsx)("button",{className:g,onClick:async()=>{await i(c)?(m((0,N.AL)({context:e,id:t,operation:"reset"})),F.Ay.success("Messages Saved!")):F.Ay.error("Operation Failed!")},children:(0,x.jsx)(V.A,{})}),(0,x.jsx)("button",{className:`${g} disabled:opacity-50 disabled:cursor-not-allowed`,disabled:!p,onClick:h.bind(null,!1),children:(0,x.jsx)(Ee.A,{})}),(0,x.jsx)(se.A,{className:"cursor-pointer absolute right-5 top-1/2 -translate-y-1/2",onClick:()=>{m((0,N.AL)({context:e,id:t,operation:"reset"}))}})]}),d&&(0,x.jsx)(Hl.A,{mids:c,closeModal:u}),l&&(0,x.jsx)(Il.A,{mids:c,closeModal:h})]})};var Gl=l(35289),Rl=l(88149),Bl=l(81205),Dl=l(32724);const Zl=({context:e,id:t,scrollToBottom:l})=>{const{t:s}=(0,u.Bd)("chat"),n=(0,r.GV)((l=>"channel"==e?l.footprint.readChannels[t]:l.footprint.readUsers[t]),b.bN),i=(0,r.GV)((l=>"dm"==e?l.userMessage.byId[t]:l.channelMessage[t]),b.bN),c=(0,r.GV)((e=>{var t,l;return null!==(t=null===(l=e.authData.user)||void 0===l?void 0:l.uid)&&void 0!==t?t:0}),b.bN),d=(0,r.GV)((e=>{var t;return null!==(t=e.message)&&void 0!==t?t:{}}),b.bN),{unreads:o=0}=(0,Dl.Ay)({mids:i,readIndex:n,messageData:d,loginUid:c});return(0,x.jsx)("aside",{className:(0,a.A)("z-[999] absolute bottom-20 right-4\n                                justify-between text-xs\n                                rounded-full py-1 px-3 text-white\n                                bg-gradient-to-tl from-[#3C8CE7] to-[#00EAFF]",o>0?"flex":"hidden"),children:(0,x.jsx)("button",{onClick:l,children:s("new_msg",{num:o})})})},Fl=(0,s.memo)(Zl);var $l=l(66570);const Tl=({cid:e})=>{const{pathname:t}=(0,n.zy)(),{t:l}=(0,u.Bd)("chat"),s=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.is_admin}),b.bN),a=(0,r.GV)((t=>t.channels.byId[e]),b.bN),i=a.description?(0,$l.A)(a.description,{target:"_blank"}):l("welcome_desc",{name:null===a||void 0===a?void 0:a.name});return(0,x.jsxs)("div",{className:"pt-14 px-1 md:px-0 flex flex-col items-start gap-2",children:[(0,x.jsx)("h2",{className:"font-bold text-4xl dark:text-white",children:l("welcome_channel",{name:null===a||void 0===a?void 0:a.name})}),(0,x.jsx)("p",{className:"text-gray-600 dark:text-gray-300 [&>a]:text-blue-500 [&>a]:hover:underline",dangerouslySetInnerHTML:{__html:i}}),s&&(0,x.jsxs)(n.k2,{to:`/setting/channel/${e}/overview?f=${t}`,className:"flex items-center gap-1 bg-clip-text text-fill-transparent bg-gradient-to-r from-blue-500 to-primary-400 ",children:[(0,x.jsx)(Ie.A,{className:"w-4 h-4 fill-blue-500"}),l("edit_channel")]})]})},Pl=({context:e})=>{if(!e)return null;const{id:t,isChannel:l,loadingMore:s}=e;return(0,x.jsxs)(x.Fragment,{children:[l?(0,x.jsx)(Tl,{cid:t}):null,(0,x.jsx)("div",{className:(0,a.A)("mt-2 w-full py-2 ",s?"flex-center":"hidden"),children:(0,x.jsx)(_e.A,{size:18,lineWeight:4,speed:1,color:"#ccc"})})]})},Ul=(0,s.forwardRef)((({style:e,...t},l)=>(0,x.jsx)("div",{style:{...e,width:"calc(100% - 2rem)"},...t,ref:l}))),Ql=({context:e,id:t})=>{const l=(0,b.wA)(),[n,a]=(0,s.useState)(!1),[i,{isLoading:c,isSuccess:d,data:o}]=(0,Bl.V0)(),m=(0,s.useRef)(null),[h]=(0,Bl.s7)(),u=(0,Rl.d)(h,300),p=(0,r.GV)((l=>{var s,n;return"dm"==e?null!==(s=l.footprint.historyUsers[t])&&void 0!==s?s:"":null!==(n=l.footprint.historyChannels[t])&&void 0!==n?n:""}),b.bN),g=(0,r.GV)((l=>{var s,n;return"dm"==e?null!==(s=l.userMessage.byId[t])&&void 0!==s?s:[]:null!==(n=l.channelMessage[t])&&void 0!==n?n:[]}),b.bN),f=(0,r.GV)((l=>l.ui.selectMessages[`${e}_${t}`]),b.bN),v=(0,r.GV)((e=>e.message||{}),b.bN),j=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),b.bN),C=(0,r.GV)((e=>e.footprint.readChannels),b.bN),w=(0,r.GV)((e=>e.footprint.readUsers),b.bN);(0,s.useEffect)((()=>{if(d&&o)if(0==o.length)l((0,y.HP)({type:e,id:t,mid:"reached"}));else{const[{mid:s}]=o;l((0,y.HP)({type:e,id:t,mid:`${s}`}))}}),[d,o,g,e,t]);const N=(0,s.useCallback)((()=>{const e=m.current;e&&e.scrollToIndex(g.length-1)}),[g]),k="channel"==e?C[t]:w[t];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Gl.aY,{overscan:50,context:{loadingMore:c,id:t,isChannel:"channel"==e},id:`VOCECHAT_FEED_${e}_${t}`,className:"px-1 md:px-4 py-4.5 overflow-x-hidden overflow-y-scroll",ref:m,components:{List:Ul,Header:Pl},initialTopMostItemIndex:g.length-1,data:g,atTopThreshold:"channel"==e?160:0,atTopStateChange:l=>{if(l){if("reached"===p)return;let l=g.slice(0,1)[0];p&&(l=+p),i({context:e,id:t,mid:l})}},atBottomStateChange:e=>{a(e)},atBottomThreshold:400,followOutput:e=>{const[t]=g?g.slice(-1):[0],l=(new Date).getTime();return!(!e&&!(l-t<1e3))&&(!e||"smooth")},itemContent:(l,s)=>{const n=v[s];if(!n)return(0,x.jsx)("div",{className:"w-full h-[1px] invisible"});const a=0==l?null:v[g[l-1]],r=(null===n||void 0===n?void 0:n.from_uid)==j||s<=k;return(0,Dl.s7)({selectMode:!!f,updateReadIndex:u,read:r,prev:a,curr:n,contextId:t,context:e})}}),!n&&(0,x.jsx)(Fl,{context:e,id:t,scrollToBottom:N})]})},Kl=({readonly:e=!1,header:t,aside:l=null,users:n=null,voice:i=null,dropFiles:c=[],context:d="channel",to:o})=>{var m,h;const{reachLimit:u}=(0,zt.A)(),{addStageFile:p}=(0,K.A)({context:d,id:o}),g=(0,r.GV)((e=>e.ui.inputMode),b.bN),f=(0,r.GV)((e=>e.ui.selectMessages[`${d}_${o}`]),b.bN),v=(0,r.GV)((e=>e.channels.byId),b.bN),j=(0,r.GV)((e=>e.users.byId),b.bN),[{isActive:C},w]=(0,D.H)((()=>({accept:[Z.FILE],drop({files:e}){if("text"===g){if(e.length){const t=e.map((e=>{const{size:t,type:l,name:s}=e;return{size:t,type:l,name:s,url:URL.createObjectURL(e)}}));p(t)}}else(0,F.oR)("DnD not allowed in this input mode",{icon:(0,x.jsx)(Bt,{className:"w-5 h-5"})})},collect:e=>({isActive:e.canDrop()&&e.isOver()})})),[d,o,g]);(0,s.useEffect)((()=>{if(null!==c&&void 0!==c&&c.length){const e=c.map((e=>{const{size:t,type:l,name:s}=e;return{size:t,type:l,name:s,url:URL.createObjectURL(e)}}));p(e)}}),[c]);const y="channel"==d?null===(m=v[o])||void 0===m?void 0:m.name:null===(h=j[o])||void 0===h?void 0:h.name;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($.A,{}),(0,x.jsxs)("section",{id:"CHAT_WRAPPER",ref:w,className:"relative h-full w-full rounded-r-2xl flex",children:[(0,x.jsxs)("main",{className:"flex flex-col flex-1",children:[t,(0,x.jsx)("div",{className:"w-full h-full flex items-start justify-between relative",children:(0,x.jsxs)("div",{className:"rounded-br-2xl flex flex-col absolute bottom-0 w-full h-full",children:["dm"==d&&(0,x.jsx)(Ml,{uid:o}),"dm"==d&&(0,x.jsx)(Ut,{uid:o}),(0,x.jsx)(Ql,{context:d,id:o},`${d}_${o}`),(0,x.jsxs)("div",{className:"px-2 py-0 md:p-4 "+(f?"selecting":""),children:[e?(0,x.jsx)(El,{}):u?(0,x.jsx)(_l,{}):(0,x.jsx)("div",{className:(0,a.A)("flex justify-center",f&&"hidden"),children:(0,x.jsx)(Ht,{id:o,context:d},o)}),f&&(0,x.jsx)(zl,{context:d,id:o})]})]})})]}),l&&(0,x.jsx)("div",{className:(0,a.A)("flex z-50 p-3 absolute right-0 md:translate-x-full flex-col",(0,W.iD)().isWindows?"top-14 md:top-5":"top-14 md:top-0"),children:l}),n&&(0,x.jsx)("div",{className:"hidden md:block",children:n}),i&&(0,x.jsx)("div",{className:"z-10 max-md:absolute max-md:right-11 max-md:top-14 max-md:overflow-y-scroll bg-white dark:!bg-gray-700 md:block",children:i}),!e&&"text"==g&&C&&(0,x.jsx)(Ll,{context:d,name:y})]})]})};var Wl,Yl=l(69259);function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ql.apply(null,arguments)}const Jl=({title:e,titleId:t,...l},n)=>s.createElement("svg",ql({width:24,height:24,viewBox:"0 0 24 24",fill:"#70707B",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Wl||(Wl=s.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12V19C22 20.6569 20.6569 22 19 22H16C15.4477 22 15 21.5523 15 21V15C15 14.4477 15.4477 14 16 14H20.5V12C20.5 7.30558 16.6944 3.5 12 3.5C7.30558 3.5 3.5 7.30558 3.5 12V14H8C8.55228 14 9 14.4477 9 15V21C9 21.5523 8.55228 22 8 22H5C3.34315 22 2 20.6569 2 19V12C2 6.47715 6.47715 2 12 2Z"}))),Xl=(0,s.forwardRef)(Jl),es=(0,W.GZ)(),ts=({id:e,context:t="channel"})=>{var l,s;const{joinVoice:n,joined:a,joining:i=!1,joinedAtThisContext:c}=(0,qt.c)({id:e,context:t}),d=(0,b.wA)(),o=(0,r.GV)((e=>{var t,l;return null!==(t=null===(l=e.authData.user)||void 0===l?void 0:l.uid)&&void 0!==t?t:0}),b.bN),m=(0,r.GV)((l=>"channel"==t?l.footprint.channelAsides[e]:null),b.bN),h=(0,r.GV)((e=>e.voice.list),b.bN),{data:p}=(0,Yl.A4)(),{t:g}=(0,u.Bd)("chat");if(0==o||!p)return null;const f="voice"==m,j=null!==(l=null===(s=h.find((l=>l.context==t&&l.id==e)))||void 0===s?void 0:s.memberCount)&&void 0!==l?l:0,C="absolute -top-2 -right-2 w-4 h-4 rounded-full bg-primary-400 text-white ";return(0,x.jsx)(v.A,{disabled:f,tip:g("voice"),placement:"left",children:(0,x.jsxs)("li",{className:"relative group",children:[(0,x.jsx)(Xl,{className:f?"fill-gray-600":"fill-gray-500",role:"button",onClick:es?()=>{F.oR.error("Voice is not supported in iframe")}:c?()=>{const l={id:e,aside:"voice"==m?null:"voice"};d("channel"==t?(0,y.jn)(l):(0,y.fd)(l))}:()=>{if(i||a)return void alert("You have joined another channel, please leave first!");n();const l={id:e,aside:"voice"};d("channel"==t?(0,y.jn)(l):(0,y.fd)(l)),c||"dm"!=t||d((0,Wt.uU)({from:o,to:e,calling:!1}))}}),f?null:(0,x.jsxs)(x.Fragment,{children:[j>0&&(0,x.jsx)("span",{className:`${C} flex-center font-bold text-[10px] group-hover:invisible`,children:j}),(0,x.jsx)("span",{className:`${C} text-xs flex-center invisible group-hover:visible`,children:(0,x.jsx)("em",{className:"not-italic",children:"+"})})]})]})})},ls=({id:e,context:t,info:l})=>{const n=(0,b.wA)(),i=(0,r.GV)((e=>e.users.byId),b.bN),c=(0,r.GV)((e=>e.voice.voicingMembers),b.bN);(0,s.useEffect)((()=>{c.ids.forEach((e=>{(0,W.Qv)(e)}))}),[c.ids]);const d=l=>{"channel"==t&&(n((0,y.jn)({id:e,aside:"voice_fullscreen"})),l&&n((0,Wt.Hm)({uid:l,action:"pin"})))};if(!l)return null;const o=(0,a.A)("text-sm text-gray-500 max-w-[120px] truncate font-semibold dark:text-white"),m=c.ids,h=c.byId;return l.joining?(0,x.jsx)("div",{className:"w-full h-full flex-center p-1 text-sm text-gray-600 dark:text-gray-400",children:"Connecting to voice channel..."}):"RECONNECTING"==l.connectionState?(0,x.jsxs)("div",{className:"w-full h-full flex-center flex-col gap-1 p-1 ",children:[(0,x.jsx)("span",{className:"text-red-300",children:"Reconnecting..."}),(0,x.jsx)("span",{className:"text-xs text-red-500",children:"Please check network connection!"})]}):(0,x.jsxs)("div",{className:"w-full h-full py-2 flex flex-col",children:[(0,x.jsx)("ul",{className:"flex grow flex-col",children:m.map((e=>{const t=i[e];if(!t)return null;const{muted:l,speakingVolume:s=0}=h[e],n=s>50;return(0,x.jsxs)("li",{className:"pb-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between gap-6 pb-2",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 transition-opacity",children:[(0,x.jsxs)("div",{className:(0,a.A)("w-8 h-8 flex shrink-0 relative"),children:[n&&(0,x.jsx)("div",{className:"z-10 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 rounded-full bg-green-500 animate-speaking w-[36px] h-[36px]"}),(0,x.jsx)(Yt.A,{width:32,height:32,className:"w-full h-full rounded-full object-cover z-20",src:t.avatar,name:t.name,alt:"avatar"})]}),(0,x.jsx)("span",{className:o,title:null===t||void 0===t?void 0:t.name,children:null===t||void 0===t?void 0:t.name})]}),(0,x.jsx)("div",{className:"flex items-center gap-2",children:l?(0,x.jsx)(ul,{className:"w-4 fill-gray-500 dark:fill-gray-400"}):(0,x.jsx)(vl,{className:"w-4 fill-gray-500  dark:fill-gray-400"})})]}),(0,x.jsxs)("div",{className:"overflow-hidden group rounded relative",onDoubleClick:d.bind(null,e),children:[(0,x.jsx)("div",{id:`CAMERA_${e}`,className:"w-[98%] m-auto"}),(0,x.jsx)("button",{onClick:d.bind(null,e),className:"invisible group-hover:visible w-5 h-5 p-1 bg-black/40 top-1 right-1.5 absolute rounded",children:(0,x.jsx)(je,{className:"w-full h-full fill-white"})})]})]},e)}))}),(0,x.jsx)("div",{className:"grid grid-rows-2 grid-cols-4 gap-2",children:(0,x.jsx)(kl,{id:e,context:t})})]})},ss=({context:e="channel",id:t,visible:l})=>{const{voicingInfo:s}=(0,qt.c)({id:t,context:e});return(0,x.jsx)("div",{className:"h-full flex-col gap-1 w-[226px] overflow-y-scroll overflow-x-hidden p-2 border border-black/10 md:border-none md:shadow-[inset_1px_0px_0px_rgba(0,_0,_0,_0.1)] "+(l?"flex":"hidden"),children:(0,x.jsx)(ls,{id:t,context:e,info:s})})};var ns=l(10404);const as=({uids:e,addVisible:t,ownerId:l,cid:n,membersVisible:a})=>{const{t:i}=(0,u.Bd)("chat"),c=(0,s.useRef)(null),[d,o]=(0,s.useState)([]),m=(0,r.GV)((e=>Object.values(e.users.byId)),b.bN),[h,p]=(0,s.useState)(!1),f=()=>{p((e=>!e))};(0,s.useEffect)((()=>{o((0,W.g4)(m.filter((t=>e.includes(t.uid)))))}),[e,m]);const v=d.filter((({is_admin:e,is_bot:t})=>e&&!t)).length,j=d.filter((({is_bot:e})=>e)).length,C=d.length-v-j,w=d.map((({uid:e})=>e));return(0,x.jsxs)(x.Fragment,{children:[h&&(0,x.jsx)(ns.A,{cid:n,closeModal:f}),(0,x.jsxs)("div",{ref:c,className:"h-full flex-col gap-1 w-[226px] overflow-y-scroll p-2 shadow-[inset_1px_0px_0px_rgba(0,_0,_0,_0.1)] "+(a?"flex":"hidden"),children:[t&&(0,x.jsxs)("div",{className:"cursor-pointer flex items-center justify-start gap-1 select-none rounded-lg p-2.5 md:hover:bg-gray-500/10",onClick:f,children:[(0,x.jsx)(g.A,{className:"w-6 h-6 dark:fill-slate-300"}),(0,x.jsx)("div",{className:"font-semibold text-sm text-gray-600 dark:text-gray-50",children:i("add_channel_members")})]}),(0,x.jsx)(Ke.h,{initialPrerender:15,viewportRef:c,items:w,children:(e,t)=>{const s=d.find((({uid:t})=>t===e));if(!s)return null;const a=w[t-1],r=d.find((({uid:e})=>e===a)),{role:i,title:c}=(0,W.s0)({current:s,prev:r,adminCount:v,botCount:j,memberCount:C,isFirst:0===t});return(0,x.jsx)(dt.A,{"data-role":i,"data-group-title":c,enableContextMenu:!0,cid:n,owner:l==e,uid:e,dm:!0,popover:!0},e)}})]})]})};var rs=l(65209),is=l.n(rs),cs=l(54286);const ds=({data:e})=>{var t,l,s;const n=(0,r.GV)((e=>e.message),b.bN),a=(0,r.GV)((e=>e.users.byId),b.bN),{mid:i=0}=e,c=(0,W.xY)(e)||{},{content_type:d,content:o,properties:m,thumbnail:h=""}={...e,...c},u=(null===(t=n[i])||void 0===t?void 0:t.from_uid)||0,p=e.created_at?e.created_at:null===(l=n[i])||void 0===l?void 0:l.created_at,{name:g,avatar:f}=null!==(s=a[u])&&void 0!==s?s:{};return(0,x.jsxs)("div",{className:"w-full relative flex items-start gap-3 p-2 my-2 rounded-lg",children:[(0,x.jsx)("div",{className:"rounded-full overflow-hidden w-10 h-10 shrink-0",children:(0,x.jsx)(Yt.A,{width:40,height:40,src:f,name:g})}),(0,x.jsxs)("div",{className:"w-full flex flex-col items-start gap-1  text-sm",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 font-semibold",children:[(0,x.jsx)("span",{className:"text-gray-500",children:g}),p&&(0,x.jsx)("time",{className:"text-xs text-gray-400",children:is()(p).format("YYYY-MM-DD h:mm:ss A")})]}),(0,x.jsx)("div",{className:"select-text text-gray-600 break-all whitespace-pre-wrap dark:text-white",children:(0,cs.A)({content_type:d,content:o,thumbnail:h,from_uid:u,properties:m})})]})]})};var os=l(61115);const xs=({id:e})=>{const{t:t}=(0,u.Bd)("chat"),{pins:l,unpinMessage:s,canPin:n}=(0,os.A)(e),a=e=>{const{mid:t}=e.currentTarget.dataset;t&&s(+t)},r=0==l.length;return(0,x.jsxs)("div",{className:"p-4 drop-shadow-md overflow-y-scroll min-w-[320px] md:min-w-[486px] md:max-h-[90vh] rounded-xl bg-gray-50 dark:bg-gray-800",children:[(0,x.jsxs)("h4",{className:" text-gray-600 dark:text-gray-400 mb-4 font-semibold",children:[t("pinned_msg"),"(",l.length,")"]}),r?(0,x.jsxs)("div",{className:"flex flex-col items-center gap-2 w-full p-4",children:[(0,x.jsx)(R,{}),(0,x.jsx)("div",{className:"w-60 font-semibold text-gray-500 dark:text-gray-300 text-center",children:t("pin_empty_tip")})]}):(0,x.jsx)("ul",{className:"flex flex-col gap-2",children:l.map((e=>(0,x.jsxs)("li",{className:"group relative border border-solid border-slate-100 dark:border-slate-600 rounded-md ",children:[(0,x.jsx)(ds,{data:e}),(0,x.jsx)("div",{className:"invisible group-hover:visible flex items-center gap-1 absolute top-1 right-1 p-1 border border-solid border-black/10 dark:border-gray-500 rounded-md",children:n&&(0,x.jsx)("button",{className:"flex bg-none border-none","data-mid":e.mid,onClick:a,children:(0,x.jsx)(S.A,{className:"fill-slate-900 dark:fill-slate-300"})})})]},e.mid)))})]})};var ms=l(17159);function hs({cid:e=0,dropFiles:t=[]}){var l;const{getExtSetting:a}=(0,ms.A)(),{t:i}=(0,u.Bd)("chat"),{pathname:c}=(0,n.zy)(),d=(0,n.Zp)(),o=(0,b.wA)(),m=(0,r.GV)((e=>e.authData.user),b.bN),h=(0,r.GV)((t=>t.footprint.channelAsides[e]),b.bN),g=(0,r.GV)((e=>e.users.ids),b.bN),f=(0,r.GV)((t=>t.channels.byId[e]),b.bN);(0,s.useEffect)((()=>{f||d("/chat")}),[f]),(0,s.useEffect)((()=>(o((0,N.u2)()),()=>{o((0,N.u2)({path:c}))})),[c]);if(!f)return null;const{name:j,description:C,is_public:w,members:M=[],owner:L}=f,E=w?g:M.slice(0).sort((e=>e==L?-1:0)),H=(null===m||void 0===m?void 0:m.is_admin)||L==(null===m||void 0===m?void 0:m.uid),O=(null===f||void 0===f||null===(l=f.pinned_messages)||void 0===l?void 0:l.length)||0,S="relative cursor-pointer hidden md:block",z=a(T.Ez),G=!(null===m||void 0===m||!m.is_admin)||!z;return(0,x.jsx)(Kl,{to:e,context:"channel",dropFiles:t,aside:(0,x.jsxs)("ul",{className:"flex flex-col gap-6",children:[(0,x.jsx)(v.A,{tip:i("pin"),placement:"left",children:(0,x.jsx)(p.Ay,{placement:"left-start",popperOptions:{strategy:"fixed"},offset:[0,150],interactive:!0,trigger:"click",content:(0,x.jsx)(xs,{id:e}),children:(0,x.jsxs)("li",{className:`${S}`,children:[O>0?(0,x.jsx)("span",{className:"absolute -top-2 -right-2 flex-center w-4 h-4 rounded-full bg-primary-400 text-white font-bold text-[10px]",children:O}):null,(0,x.jsx)(I.A,{className:"fill-gray-500"})]})})}),(0,x.jsx)(ts,{context:"channel",id:e}),(0,x.jsx)(v.A,{tip:i("fav"),placement:"left",children:(0,x.jsx)(p.Ay,{placement:"left-start",popperOptions:{strategy:"fixed"},offset:[0,164],interactive:!0,trigger:"click",content:(0,x.jsx)(B,{cid:e}),children:(0,x.jsx)("li",{className:`${S}`,children:(0,x.jsx)(V.A,{className:"fill-gray-500"})})})}),G&&(0,x.jsx)("li",{className:`${S}`,onClick:()=>{o((0,y.jn)({id:e,aside:"members"!==h?"members":null}))},children:(0,x.jsx)(v.A,{tip:i("channel_members"),placement:"left",children:(0,x.jsx)(_,{className:"members"==h?"fill-gray-600":""})})})]}),header:(0,x.jsxs)("header",{className:"px-5 py-4 flex items-center justify-center md:justify-between shadow-[inset_0_-1px_0_rgb(0_0_0_/_10%)]",children:[(0,x.jsx)(A.A,{}),(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[(0,x.jsxs)(n.N_,{to:`/setting/channel/${e}/overview?f=/chat/channel/${e}`,className:"flex items-center gap-1",children:[(0,x.jsx)(k.A,{personal:!w}),(0,x.jsx)("span",{className:"text-gray-800 dark:text-white whitespace-nowrap",children:j})]}),(0,x.jsx)("span",{className:"ml-2 text-gray-500 hidden md:block",children:C})]})]}),users:G?(0,x.jsx)(as,{uids:E,addVisible:H,cid:e,ownerId:L,membersVisible:"members"==h}):null,voice:(0,x.jsx)(ss,{visible:"voice"==h,id:e,context:"channel"})})}const us=(0,s.memo)(hs,((e,t)=>e.cid==t.cid)),ps=({uid:e=0,dropFiles:t})=>{const l=(0,n.Zp)(),a=(0,r.GV)((t=>t.users.byId[e]),b.bN);return(0,s.useEffect)((()=>{a||l("/chat")}),[a]),a?(0,x.jsx)(Kl,{to:e,context:"dm",dropFiles:t,aside:(0,x.jsxs)("ul",{className:"flex flex-col gap-6",children:[(0,x.jsx)(ts,{context:"dm",id:e}),(0,x.jsx)(v.A,{tip:"Saved Items",placement:"left",children:(0,x.jsx)(p.Ay,{placement:"left-start",popperOptions:{strategy:"fixed"},offset:[0,180],interactive:!0,trigger:"click",content:(0,x.jsx)(B,{uid:e}),children:(0,x.jsx)("li",{className:"relative cursor-pointer fav",children:(0,x.jsx)(V.A,{className:"fill-gray-500"})})})})]}),header:(0,x.jsxs)("header",{className:"box-border px-5 py-1 flex items-center justify-center md:justify-between shadow-[inset_0_-1px_0_rgb(0_0_0_/_10%)]",children:[(0,x.jsx)(A.A,{}),(0,x.jsx)(dt.A,{interactive:!1,uid:a.uid,enableNavToSetting:!0})]})}):null};var gs=l(73802);const fs=()=>{const{t:e}=(0,u.Bd)("auth"),t=(0,n.Zp)(),l=(0,r.GV)((e=>e.server.name),b.bN),s=T.tx;return(0,x.jsxs)("section",{className:"flex flex-col items-center text-center",children:[(0,x.jsx)("h2",{className:"text-3xl text-gray-600 dark:text-gray-50 font-bold",children:e("welcome",{name:l})}),(0,x.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,x.jsx)("span",{className:"text-gray-400 dark:text-gray-200 my-3 text-sm",children:e("guest_login_tip")}),(0,x.jsx)("div",{className:"w-44 h-44 self-center mb-4",children:(0,x.jsx)(gs.A,{level:"Q",size:1200,link:s})}),!1,(0,x.jsx)(o.A,{onClick:()=>{t("/login")},className:"small",children:e("sign_in")})]})]})};function vs({cid:e=0}){const t=(0,r.GV)((t=>t.channels.byId[e]),b.bN);if(!t)return null;const{name:l,description:s,is_public:n}=t;return(0,x.jsx)(Kl,{readonly:!0,to:e,context:"channel",header:(0,x.jsxs)("header",{className:"px-5 py-4 flex items-center justify-center md:justify-between shadow-[inset_0_-1px_0_rgb(0_0_0_/_10%)]",children:[(0,x.jsx)(A.A,{}),(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[(0,x.jsx)(k.A,{personal:!n}),(0,x.jsx)("span",{className:"text-gray-800 dark:text-white whitespace-nowrap",children:l}),(0,x.jsx)("span",{className:"ml-2 text-gray-500 hidden md:block ",children:s})]})]})})}const bs=({id:e,mid:t})=>{const[l,i]=(0,s.useState)(),c=(0,r.GV)((e=>e.message),b.bN),d=(0,r.GV)((e=>e.users.byId),b.bN),o=(0,r.GV)((e=>e.channels.byId),b.bN);if((0,s.useEffect)((()=>{const l=o[e];if(!l)return;const{name:s,icon:n="",is_public:a}=l;i({name:s,icon:n,mid:t,is_public:a})}),[e,t,d,o]),!l)return null;const m=c[t]||{},{name:h,icon:u}=l;return(0,x.jsx)("li",{className:"session",children:(0,x.jsxs)(n.k2,{className:({isActive:e})=>(0,a.A)("nav flex gap-2 rounded-lg p-2 w-full md:hover:bg-gray-500/20",e&&"bg-gray-500/20"),to:`/chat/channel/${e}`,children:[(0,x.jsx)("div",{className:"flex shrink-0 aspect-square",children:(0,x.jsx)(Yt.A,{width:40,height:40,className:"icon rounded-full",type:"channel",name:h,src:u})}),(0,x.jsxs)("div",{className:"w-full flex flex-col justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("span",{className:(0,a.A)("flex items-center gap-2 font-semibold text-sm text-gray-500 dark:text-white truncate",m.created_at?"max-w-[120px]":"max-w-[190px]"),children:h}),(0,x.jsx)("span",{className:"text-xs text-gray-600 max-w-[80px] truncate",children:(0,W._T)(m.created_at)})]}),(0,x.jsx)("div",{className:"flex items-center justify-between",children:(0,x.jsx)("span",{className:"text-xs text-gray-500 w-36 truncate",children:(0,Dl.CL)(m)})})]})]})})},js=()=>{const[e,t]=(0,s.useState)([]),l=(0,r.GV)((e=>e.footprint.readChannels),b.bN),n=(0,r.GV)((e=>e.footprint.readUsers),b.bN),a=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),b.bN),i=(0,r.GV)((e=>e.channels.ids),b.bN),c=(0,r.GV)((e=>e.channelMessage),b.bN),d=(0,r.GV)((e=>e.userMessage.byId),b.bN);return(0,s.useEffect)((()=>{const e=[...i.map((e=>{const t=c[e];if(!t||0==t.length)return{key:`channel_${e}`,unreads:0,id:e,type:"channel"};return{key:`channel_${e}`,id:e,mid:[...t].sort(((e,t)=>+e-+t)).pop(),type:"channel"}}))].sort(((e,t)=>{const{mid:l=0}=e,{mid:s=0}=t;return s-l}));t(e)}),[i,c,l,n,a,d]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ul",{className:"flex-1 flex flex-col gap-0.5 p-2 overflow-auto",children:e.map((e=>{const{key:t,id:l,mid:s=0}=e;return(0,x.jsx)(bs,{id:l,mid:s},t)}))}),(0,x.jsx)(El,{placement:"session"})]})};var Cs,ws;function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},ys.apply(null,arguments)}const Ns=({title:e,titleId:t,...l},n)=>s.createElement("svg",ys({width:24,height:24,viewBox:"0 0 24 24",fill:"#78787C",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Cs||(Cs=s.createElement("path",{d:"M15 4.25V19.7456C15 20.8243 13.7255 21.3965 12.9194 20.6797L8.42793 16.686C8.29063 16.5639 8.11329 16.4965 7.92956 16.4965H4.25C3.00736 16.4965 2 15.4891 2 14.2465V9.74859C2 8.50595 3.00736 7.49859 4.25 7.49859H7.92961C8.11333 7.49859 8.29065 7.43116 8.42794 7.30909L12.9195 3.31583C13.7255 2.59915 15 3.17138 15 4.25ZM18.9916 5.89733C19.3244 5.65079 19.7941 5.72077 20.0407 6.05362C21.2717 7.7157 22 9.7739 22 12C22 14.2261 21.2717 16.2843 20.0407 17.9464C19.7941 18.2793 19.3244 18.3492 18.9916 18.1027C18.6587 17.8562 18.5888 17.3865 18.8353 17.0536C19.8815 15.6411 20.5 13.8939 20.5 12C20.5 10.1062 19.8815 8.35896 18.8353 6.94641C18.5888 6.61356 18.6587 6.14387 18.9916 5.89733ZM17.143 8.36933C17.5072 8.17214 17.9624 8.30757 18.1596 8.67184C18.6958 9.66245 19 10.7968 19 12C19 13.2032 18.6958 14.3376 18.1596 15.3282C17.9624 15.6924 17.5072 15.8279 17.143 15.6307C16.7787 15.4335 16.6432 14.9783 16.8404 14.6141C17.2609 13.8373 17.5 12.9477 17.5 12C17.5 11.0523 17.2609 10.1627 16.8404 9.38593C16.6432 9.02167 16.7787 8.56652 17.143 8.36933Z"})),ws||(ws=s.createElement("path",{d:"M2.88667 2.21966C3.17956 1.92677 3.65444 1.92678 3.94733 2.21968L22.4471 20.7198C22.74 21.0127 22.74 21.4876 22.4471 21.7805C22.1542 22.0734 21.6793 22.0734 21.3864 21.7805L2.88666 3.28032C2.59377 2.98743 2.59377 2.51255 2.88667 2.21966Z",fill:"#D92D20"}))),ks=(0,s.forwardRef)(Ns);var As;function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Vs.apply(null,arguments)}const Ms=({title:e,titleId:t,...l},n)=>s.createElement("svg",Vs({width:24,height:24,viewBox:"0 0 24 24",fill:"#78787C",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,As||(As=s.createElement("path",{d:"M15 4.25V19.7456C15 20.8243 13.7255 21.3965 12.9194 20.6797L8.42793 16.686C8.29063 16.5639 8.11329 16.4965 7.92956 16.4965H4.25C3.00736 16.4965 2 15.4891 2 14.2465V9.74859C2 8.50595 3.00736 7.49859 4.25 7.49859H7.92961C8.11333 7.49859 8.29065 7.43116 8.42794 7.30909L12.9195 3.31583C13.7255 2.59915 15 3.17138 15 4.25ZM18.9916 5.89733C19.3244 5.65079 19.7941 5.72077 20.0407 6.05362C21.2717 7.7157 22 9.7739 22 12C22 14.2261 21.2717 16.2843 20.0407 17.9464C19.7941 18.2793 19.3244 18.3492 18.9916 18.1027C18.6587 17.8562 18.5888 17.3865 18.8353 17.0536C19.8815 15.6411 20.5 13.8939 20.5 12C20.5 10.1062 19.8815 8.35896 18.8353 6.94641C18.5888 6.61356 18.6587 6.14387 18.9916 5.89733ZM17.143 8.36933C17.5072 8.17214 17.9624 8.30757 18.1596 8.67184C18.6958 9.66245 19 10.7968 19 12C19 13.2032 18.6958 14.3376 18.1596 15.3282C17.9624 15.6924 17.5072 15.8279 17.143 15.6307C16.7787 15.4335 16.6432 14.9783 16.8404 14.6141C17.2609 13.8373 17.5 12.9477 17.5 12C17.5 11.0523 17.2609 10.1627 16.8404 9.38593C16.6432 9.02167 16.7787 8.56652 17.143 8.36933Z"}))),Ls=(0,s.forwardRef)(Ms),_s=({strength:e=0})=>{const t=6-e,l=t<=2?"bg-red-700":3==t?"bg-yellow-700":"bg-green-700";let s=" bg-gray-500";return(0,x.jsx)("div",{className:"w-6 h-6 flex-center",children:(0,x.jsxs)("div",{className:"w-[18px] h-[15px] flex items-end gap-[2px]",children:[(0,x.jsx)("span",{className:(0,a.A)("h-1/5 w-[2px]",0==t?s:l)}),(0,x.jsx)("span",{className:(0,a.A)("h-2/5 w-[2px]",t<=1?s:l)}),(0,x.jsx)("span",{className:(0,a.A)("h-3/5 w-[2px]",t<=2?s:l)}),(0,x.jsx)("span",{className:(0,a.A)("h-4/5 w-[2px]",t<=3?s:l)}),(0,x.jsx)("span",{className:(0,a.A)("h-full w-[2px]",t<=4?s:l)})]})})},Es=({id:e,context:t="channel"})=>{var l,s,n;const{t:i}=(0,u.Bd)("chat"),{leave:c,voicingInfo:d,setMute:o,setDeafen:m,joining:h=!0,openCamera:p,closeCamera:g,startShareScreen:f,stopShareScreen:j}=(0,qt.c)({context:t,id:e}),C=(0,r.GV)((e=>e.authData.user),b.bN),w=(0,r.GV)((e=>e.voice.callingFrom),b.bN),y=(0,r.GV)((e=>e.voice.callingTo),b.bN),N=(0,r.GV)((e=>e.channels.byId),b.bN),k=(0,r.GV)((e=>e.channels.byId),b.bN);if(!C||!d||h)return null;const A="RECONNECTING"==d.connectionState,V=w==C.uid?null===(l=k[y])||void 0===l?void 0:l.name:null===(s=k[w])||void 0===s?void 0:s.name;return(0,x.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900 flex flex-col p-2 rounded-3xl m-3 mb-4 text-sm",children:[(0,x.jsxs)("div",{className:"border-b border-b-gray-200 dark:border-b-gray-800 pb-2",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"flex flex-1 items-center gap-1",children:[(0,x.jsx)(_s,{strength:d.downlinkNetworkQuality}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("span",{className:(0,a.A)("text-green-800 font-bold",A&&"text-red-500"),children:A?"Voice Reconnecting...":"Voice Connected"}),(0,x.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 text-xs truncate max-w-[170px]",children:["channel"==d.context?"Channel":"DM"," /"," ","channel"==d.context?null===(n=N[d.id])||void 0===n?void 0:n.name:V]})]})]}),(0,x.jsx)(v.A,{tip:i("leave_voice"),placement:"top",children:(0,x.jsx)(Xl,{onClick:c,role:"button",className:"fill-red-600"})})]}),(0,x.jsxs)("div",{className:(0,a.A)("flex items-center justify-around gap-2 mt-3 text-sm font-semibold text-gray-800 dark:text-gray-200"),children:[(0,x.jsxs)("button",{onClick:d.video?g:p,className:(0,a.A)("rounded-lg py-2 px-5 flex items-center gap-1",d.video?"bg-green-700 text-gray-200":"bg-white/50 dark:bg-black/50 "),children:[(0,x.jsx)(cl,{className:(0,a.A)("dark:fill-gray-200 w-6 h-6",d.video?"fill-gray-200":"fill-gray-800")}),(0,x.jsx)("span",{children:"Video"})]}),(0,x.jsxs)("button",{onClick:d.shareScreen?j:f,className:(0,a.A)("rounded-lg py-2 px-5 flex items-center gap-1",d.shareScreen?"bg-green-700 text-gray-200":"bg-white/50 dark:bg-black/50 "),children:[(0,x.jsx)(wl,{className:(0,a.A)("dark:fill-gray-200 w-6 h-6",d.shareScreen?"fill-gray-200":"fill-gray-800")}),(0,x.jsx)("span",{children:"Screen"})]})]})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)(dt.A,{uid:C.uid,compact:!0}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("span",{className:"dark:text-white text-sm font-bold",children:C.name}),(0,x.jsxs)("span",{className:"text-gray-400 text-xs",children:["#",C.uid]})]})]}),(0,x.jsxs)("div",{className:"flex gap-2 px-1",children:[(0,x.jsx)(v.A,{tip:d.deafen?i("undeafen"):i("deafen"),placement:"top",children:d.deafen?(0,x.jsx)(ks,{role:"button",onClick:m.bind(null,!1)}):(0,x.jsx)(Ls,{role:"button",onClick:m.bind(null,!0)})}),(0,x.jsx)(v.A,{tip:d.muted?i("unmute"):i("mute"),placement:"top",children:d.muted?(0,x.jsx)(ul,{className:"w-6 h-6",onClick:o.bind(null,!1),role:"button"}):(0,x.jsx)(vl,{className:"w-6 h-6",onClick:o.bind(null,!0),role:"button"})})]})]})]})};var Is,Hs=l(98534),Os=l(28251);function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Ss.apply(null,arguments)}const zs=({title:e,titleId:t,...l},n)=>s.createElement("svg",Ss({width:5,height:8,viewBox:"0 0 5 8",fill:"#616161",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Is||(Is=s.createElement("path",{d:"M4.1875 3.16699V2.33366C4.1875 1.40033 3.375 0.666992 2.5 0.666992C1.625 0.666992 0.833333 1.40033 0.833333 2.33366V3.16699C0.373083 3.16699 0 3.54009 0 4.00032V6.50032C0 6.96056 0.373083 7.33366 0.833333 7.33366H2.5H4.16667C4.62692 7.33366 5 6.96056 5 6.50032V3.97949C5 3.53076 4.63625 3.16699 4.1875 3.16699ZM3.33333 3.16699H1.66667V2.33366C1.66667 1.85747 2.05558 1.50033 2.5 1.50033C2.94442 1.50033 3.33333 1.85747 3.33333 2.33366V3.16699Z"}))),Gs=(0,s.forwardRef)(zs);var Rs;function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Bs.apply(null,arguments)}const Ds=({title:e,titleId:t,...l},n)=>s.createElement("svg",Bs({width:24,height:24,viewBox:"0 0 24 24",fill:"#D2D1D1",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Rs||(Rs=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.02618 13.4991V9.01525C3.02618 4.06024 7.04347 0.0427975 11.9998 0.0427975C13.5448 0.0518677 15.063 0.462697 16.401 1.23953L2.88215 14.7543C2.97517 14.3433 3.02321 13.9234 3.02618 13.5006V13.4991ZM23.5176 2.61634L20.3328 5.79838C20.7454 6.82118 20.963 7.91295 20.9674 9.01525V13.4991C20.9614 15.3857 21.8495 17.1612 23.36 18.2859C23.8761 18.6729 24.0861 19.3477 23.8807 19.9597C23.6751 20.5715 23.1005 20.9823 22.4555 20.9793H14.9745C14.9745 22.629 13.6349 23.9682 11.9817 23.9682C10.3287 23.9682 8.98911 22.6304 8.98911 20.9793H5.14434L2.60166 23.5288C2.22366 23.9276 1.66113 24.0895 1.13159 23.9516C0.599032 23.8137 0.1835 23.3967 0.046977 22.8673C-0.0880248 22.3365 0.0724881 21.7726 0.470035 21.3978L21.3874 0.482303C21.7625 0.0774777 22.3296 -0.0904547 22.865 0.047466C23.4006 0.182452 23.8176 0.602218 23.9542 1.13629C24.0891 1.6701 23.9211 2.23699 23.5161 2.61341L23.5176 2.61634Z"}))),Zs=(0,s.forwardRef)(Ds);var Fs,$s,Ts;function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},Ps.apply(null,arguments)}const Us=({title:e,titleId:t,...l},n)=>s.createElement("svg",Ps({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,Fs||(Fs=s.createElement("rect",{x:2,y:2,width:24,height:24,rx:12,fill:"#12B76A"})),$s||($s=s.createElement("path",{d:"M14.9995 8.50001C14.9995 8.29898 14.8791 8.11749 14.6939 8.03934C14.5086 7.96119 14.2946 8.00157 14.1506 8.14185L11.2239 10.9927H9.49951C8.67108 10.9927 7.99951 11.6643 7.99951 12.4927V15.4817C7.99951 16.3101 8.67108 16.9817 9.49951 16.9817H11.2227L14.1491 19.8567C14.2928 19.9978 14.5071 20.039 14.6929 19.9611C14.8786 19.8832 14.9995 19.7014 14.9995 19.5V8.50001ZM16.1108 11.1887C16.2827 10.9726 16.5972 10.9368 16.8133 11.1087L16.8142 11.1094L16.8151 11.1102L16.8173 11.1119L16.8226 11.1163L16.8376 11.1288C16.8494 11.1388 16.8647 11.1522 16.883 11.169C16.9196 11.2026 16.9684 11.2499 17.0252 11.3112C17.1387 11.4336 17.2852 11.613 17.4302 11.8514C17.7217 12.331 18.0038 13.0444 18.0038 13.9986C18.0038 14.9527 17.7217 15.6669 17.4304 16.1471C17.2855 16.3859 17.1392 16.5657 17.0258 16.6884C16.9691 16.7498 16.9203 16.7973 16.8837 16.8309C16.8641 16.849 16.8439 16.8666 16.8235 16.8838L16.815 16.8907L16.8142 16.8914C16.8142 16.8914 16.3679 17.1337 16.1115 16.8129C15.9399 16.5983 15.9738 16.2858 16.1866 16.1128L16.1882 16.1115L16.1874 16.1122L16.1891 16.1108L16.1882 16.1115C16.1911 16.109 16.1974 16.1036 16.2065 16.0952C16.2247 16.0784 16.2542 16.05 16.2913 16.0098C16.3658 15.9292 16.4699 15.8025 16.5754 15.6285C16.785 15.283 17.0038 14.7461 17.0038 13.9986C17.0038 13.2511 16.785 12.7152 16.5757 12.3709C16.4702 12.1974 16.3662 12.0712 16.2919 11.9911C16.2548 11.951 16.2254 11.9228 16.2072 11.9061C16.1981 11.8978 16.1919 11.8924 16.189 11.89L16.19 11.8907C15.9743 11.7187 15.939 11.4047 16.1108 11.1887ZM17.8126 9.10886C17.5965 8.93686 17.282 8.97255 17.11 9.18858C16.938 9.40451 16.9742 9.71932 17.1899 9.89138L17.201 9.9006C17.2118 9.90975 17.2293 9.92484 17.2526 9.94582C17.2993 9.98781 17.3688 10.0532 17.4537 10.1413C17.6238 10.3179 17.8536 10.5841 18.084 10.9351C18.5445 11.6364 19.0028 12.6685 19.0028 14.004C19.0028 15.3395 18.5445 16.3694 18.0843 17.0685C17.854 17.4184 17.6243 17.6835 17.4544 17.8593C17.3696 17.947 17.3001 18.0121 17.2535 18.0538C17.2302 18.0747 17.2127 18.0897 17.2019 18.0988L17.1903 18.1083L17.1894 18.1091C16.9741 18.2808 16.9381 18.5945 17.1092 18.8105C17.2807 19.0269 17.5959 19.0628 17.8124 18.8913L17.8453 18.8642C17.8639 18.8487 17.8893 18.8268 17.9208 18.7986C17.9837 18.7423 18.0705 18.6607 18.1734 18.5543C18.3788 18.3418 18.6495 18.0286 18.9196 17.6183C19.4603 16.797 20.0028 15.5788 20.0028 14.004C20.0028 12.4293 19.4603 11.2094 18.9199 10.3863C18.6499 9.97503 18.3793 9.66089 18.1741 9.4477C18.0713 9.34097 17.9844 9.25908 17.9216 9.20255C17.8902 9.17426 17.8647 9.15228 17.8462 9.13665L17.8238 9.11798L17.8167 9.11222L17.8143 9.11024L17.8126 9.10886ZM16.189 11.89L16.1876 11.8887L16.189 11.89Z",fill:"white"})),Ts||(Ts=s.createElement("rect",{x:2,y:2,width:24,height:24,rx:12,stroke:"white",strokeWidth:4}))),Qs=(0,s.forwardRef)(Us);var Ks=l(63133),Ws=l(47341);const Ys=({pinned:e,context:t="dm",id:l,visible:a,mid:i,hide:c,deleteChannel:d,setInviteChannelId:o,children:m})=>{const[h,g]=(0,s.useState)(!1),{t:f}=(0,u.Bd)("chat"),{t:v}=(0,u.Bd)(),{canCopyEmail:j,copyEmail:C,canDeleteChannel:w,canInviteChannel:y}=(0,le.A)({uid:"dm"==t?l:void 0,cid:"channel"==t?l:void 0}),[N]=(0,Pt.dl)(),[k]=(0,Pt.EW)(),[A]=(0,Pt.Bp)(),[V]=(0,Bl.s7)(),M=(0,n.RQ)(`/chat/dm/${l}`),L=(0,b.wA)(),_=(0,n.Zp)(),{pathname:E}=(0,n.zy)(),I=(0,r.GV)((e=>"channel"==t&&e.footprint.muteChannels[l]),b.bN),H=()=>{if(i){V("dm"==t?{users:[{uid:+l,mid:i}]}:{groups:[{gid:+l,mid:i}]})}},O=()=>{const s="dm"==t?{uid:l}:{gid:l};e?A(s):k(s)},S=v(e?"unpin_chat":"pin_chat",{ns:"chat"}),z="dm"==t?[{title:S,handler:O},{title:v("action.mark_read"),handler:H},{title:f("remark"),handler:g.bind(null,!0)},{title:v("setting"),handler:()=>{_(`/setting/dm/${l}/overview?f=${E}`)}},j&&{title:v("action.copy_email"),handler:C},{title:v("action.hide_session"),danger:!0,handler:()=>{L((0,X.Qi)(l)),M&&_("/chat")}}]:[{title:S,handler:O},{title:v("setting"),underline:!0,handler:()=>{_(`/setting/channel/${l}/overview?f=${E}`)}},{title:v("action.mark_read"),handler:H},{title:v(I?"action.unmute":"action.mute"),handler:()=>{N(I?{remove_groups:[l]}:{add_groups:[{gid:l}]})}},y&&{title:v("action.invite_people"),handler:o.bind(null,l)},w&&{title:v("action.delete_channel"),danger:!0,handler:d.bind(null,l)}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ws.A,{uid:l,visible:h,updateVisible:g}),(0,x.jsx)(p.Ay,{interactive:!0,placement:"right-start",popperOptions:{strategy:"fixed"},followCursor:"initial",visible:a,onClickOutside:c,content:(0,x.jsx)(Ks.A,{hideMenu:c,items:z.filter(Boolean)}),children:m})]})};var qs=l(8249);const Js=({type:e="dm",pinned:t=!1,id:l,mid:i,setDeleteChannelId:c,setInviteChannelId:d})=>{const o="dm"==e?`/chat/dm/${l}`:`/chat/channel/${l}`,m=(0,n.RQ)(o),h=(0,n.Zp)(),{addStageFile:u}=(0,K.A)({context:e,id:l}),[{isActive:p},g]=(0,D.H)((()=>({accept:[Z.FILE],drop({files:t}){if(t.length){const s=t.map((e=>{const{size:t,type:l,name:s}=e;return{size:t,type:l,name:s,url:URL.createObjectURL(e)}}));u(s),h("dm"==e?`/chat/dm/${l}`:`/chat/channel/${l}`)}},collect:e=>({isActive:e.canDrop()&&e.isOver()})})),[e,l]),{visible:f,handleContextMenuEvent:v,hideContextMenu:j}=(0,Os.A)(),[C,w]=(0,s.useState)(),y=(0,r.GV)((e=>{var t;return(null===(t=e.authData.user)||void 0===t?void 0:t.uid)||0}),b.bN),N=(0,r.GV)((e=>e.voice.callingFrom),b.bN),k=(0,r.GV)((e=>e.voice.callingTo),b.bN),A=(0,r.GV)((e=>e.voice.list),b.bN),V=(0,r.GV)((t=>"dm"==e?t.userMessage.byId[l]:t.channelMessage[l]),b.bN),M=(0,r.GV)((t=>"dm"==e?t.footprint.muteUsers[l]:t.footprint.muteChannels[l]),b.bN),L=(0,r.GV)((t=>"dm"==e?t.footprint.readUsers[l]:t.footprint.readChannels[l]),b.bN),_=(0,r.GV)((e=>e.message),b.bN),E=(0,r.GV)((e=>e.users.byId),b.bN),I=(0,r.GV)((e=>e.channels.byId),b.bN);if((0,s.useEffect)((()=>{const t="dm"==e?E[l]:I[l];if(t)if("dm"==e){const{name:e,avatar:l}=t;w({name:e,icon:l,mid:i,is_public:!0})}else{const{name:e,icon:l="",is_public:s}=t;w({name:e,icon:l,mid:i,is_public:s})}}),[l,i,e,E,I]),!C)return null;const H=_[i]||{},{name:O,icon:S,is_public:z}=C,{unreads:G=0}=(0,Dl.Ay)({mids:V,readIndex:L,messageData:_,loginUid:y}),R="channel"==e?A.some((t=>t.context==e&&t.id===l)):l==N||l==k;return(0,x.jsx)("li",{className:(0,a.A)("session"),children:(0,x.jsx)(Ys,{visible:f,hide:j,context:e,id:l,mid:i,pinned:t,setInviteChannelId:d,deleteChannel:c,children:(0,x.jsxs)(n.k2,{ref:g,className:({isActive:e})=>(0,a.A)("nav flex gap-2 rounded-lg p-2 w-full",p&&"shadow-[inset_0_0_0_2px_#52edff]",e&&"bg-gray-500/20",t?"md:hover:bg-gray-300/20":"md:hover:bg-gray-500/20"),to:o,onContextMenu:v,children:[(0,x.jsxs)("div",{className:"flex shrink-0 relative size-10",children:["dm"==e?(0,x.jsx)(dt.A,{avatarSize:40,compact:!0,interactive:!1,uid:l}):(0,x.jsx)(Yt.A,{width:40,height:40,className:"icon rounded-full object-cover",type:"channel",name:O,src:S}),R&&(0,x.jsx)(Qs,{className:"top-0 -right-[7px] absolute w-6 h-6"})]}),(0,x.jsxs)("div",{className:"w-full flex flex-col justify-between overflow-hidden",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between ",children:[(0,x.jsxs)("span",{className:(0,a.A)("flex items-center gap-1"),children:[(0,x.jsx)("i",{className:(0,a.A)("not-italic font-semibold text-sm text-gray-500 dark:text-white max-w-[120px] truncate",!H.created_at&&"max-w-[190px]"),children:"dm"==e?(0,x.jsx)(qs.A,{uid:l,showName:!1,name:O}):O}),!z&&(0,x.jsx)(Gs,{className:"dark:fill-gray-400"})]}),(0,x.jsx)("span",{className:(0,a.A)("text-xs text-gray-500 max-w-[80px] truncate font-semibold"),children:(0,W._T)(H.created_at)})]}),(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("span",{className:(0,a.A)("text-xs text-gray-500  truncate",G>0?"w-36":""),children:(0,Dl.CL)(H)}),G>0&&!m?(0,x.jsx)("strong",{className:(0,a.A)("text-white px-1.5 py-[3px] font-bold text-[10px] leading-[10px] rounded-[10px]",M?"bg-black/10 dark:bg-gray-500":"bg-primary-400"),children:G>99?"99+":G}):M&&(0,x.jsx)(Zs,{className:"w-3 h-3 fill-black/10 dark:fill-gray-500"})]})]})]})})})},Xs=(0,s.memo)(Js,((e,t)=>e.mid==t.mid)),en=({tempSession:e})=>{const t=(0,s.useRef)(null),[l,n]=(0,s.useState)(),[a,i]=(0,s.useState)(),[c,d]=(0,s.useState)([]),[o,m]=(0,s.useState)([]),h=(0,r.GV)((e=>e.footprint.readChannels),b.bN),u=(0,r.GV)((e=>e.footprint.readUsers),b.bN),p=(0,r.GV)((e=>{var t;return null===(t=e.authData.user)||void 0===t?void 0:t.uid}),b.bN),g=(0,r.GV)((e=>e.channels.ids),b.bN),f=(0,r.GV)((e=>e.userMessage.ids),b.bN),v=(0,r.GV)((e=>e.footprint.pinChats),b.bN),j=(0,r.GV)((e=>e.userMessage.byId),b.bN),C=(0,r.GV)((e=>e.channelMessage),b.bN);return(0,s.useEffect)((()=>{const t=(e,t)=>{const l="dm"==t?j[e]:C[e];if(!l||0==l.length)return{unread:0,id:e,type:t};return{id:e,mid:[...l].sort(((e,t)=>+e-+t)).pop(),type:t}},l=v.map((e=>{const{target:l}=e;return"uid"in l&&f.includes(l.uid)?t(l.uid,"dm"):"gid"in l&&g.includes(l.gid)?t(l.gid,"channel"):null})).filter((e=>!!e)),s=v.map((e=>e.target.gid?e.target.gid:null)).filter((e=>!!e)),n=v.map((e=>e.target.uid?e.target.uid:null)).filter((e=>!!e)),a=[...g.filter((e=>!s.includes(e))).map((e=>t(e,"channel"))),...f.filter((e=>!n.includes(e))).map((e=>t(e,"dm")))].sort(((e,t)=>{const{mid:l=0}=e,{mid:s=0}=t;return s-l})),r=e?[e,...a]:a;d(r.filter(((e,t)=>{const{id:l,type:s}=e,n=r.findIndex((e=>e.id==l&&e.type==s));return n===t}))),m(l)}),[g,f,C,h,u,p,j,e,v]),(0,x.jsxs)("div",{className:"h-full pb-14 md:pb-0 overflow-auto",children:[o.length?(0,x.jsx)("ul",{className:"flex flex-col gap-0.5 py-1 px-2 bg-primary-500/10",children:o.map((e=>{const{type:t,id:l,mid:s=0}=e,a=`${t}_${l}`;return(0,x.jsx)(Xs,{type:t,pinned:!0,id:l,mid:s,setInviteChannelId:i,setDeleteChannelId:n},a)}))}):null,(0,x.jsx)("ul",{ref:t,className:"flex flex-1 flex-col gap-0.5 p-2",children:(0,x.jsx)(Ke.h,{initialPrerender:10,viewportRef:t,items:c,children:e=>{const{type:t,id:l,mid:s=0}=e,a=`${t}_${l}`;return(0,x.jsx)(Xs,{type:t,id:l,mid:s,setInviteChannelId:i,setDeleteChannelId:n},a)}})},c.map((e=>e.mid)).join("")),!!l&&(0,x.jsx)(Hs.A,{id:l,closeModal:()=>{n(0)}}),!!a&&(0,x.jsx)(ns.A,{type:"channel",cid:a,closeModal:()=>{i(0)}})]})},tn=({id:e,context:t})=>{const l=(0,b.wA)(),[n,i]=(0,s.useState)(0),c=(0,r.GV)((l=>"channel"==t?l.channels.byId[e].name:l.users.byId[e].name),b.bN),d=(0,r.GV)((e=>e.users.byId),b.bN),o=(0,r.GV)((e=>e.voice.voicingMembers),b.bN);(0,s.useEffect)((()=>{o.ids.forEach((e=>{(0,W.Qv)(e);const{speakingVolume:t=0}=o.byId[e];t>50&&i(e)}))}),[o]);const m=e=>{const t=e.currentTarget.dataset.uid;t&&l((0,Wt.Hm)({uid:+t,action:"pin"}))},h=e=>{var t,s;const n=null!==(t=e.currentTarget.dataset.uid)&&void 0!==t?t:"",a=null!==(s=e.currentTarget.dataset.action)&&void 0!==s?s:"pin";l("unpin"==a?(0,Wt.Hm)({uid:+n,action:a}):(0,Wt.Hm)({uid:+n,action:"pin"}))},u=o.pin,p="channel"==t?`# ${c}`:`@ ${c}`,g=o.ids,f=o.byId,j="undefined"!==typeof u;return(0,x.jsxs)("div",{className:"h-full bg-black text-gray-300 flex flex-col justify-between rounded-r-2xl",children:[(0,x.jsx)("div",{className:"px-7 py-6 flex justify-between",children:(0,x.jsx)("span",{className:"text-sm font-semibold",children:p})}),(0,x.jsx)("ul",{className:"flex grow justify-center items-end relative gap-2",children:g.map((e=>{const t=d[e];if(!t)return null;const{muted:l,speakingVolume:s=0,shareScreen:r}=f[e],i=s>50,c=j?u==e:e==n,o=c&&!j;return(0,x.jsxs)("li",{"data-uid":e,onDoubleClick:m,className:(0,a.A)("bg-gray-700 group overflow-hidden",c?"absolute left-0 top-0 w-full h-[calc(100%_-_110px)] flex-center":"relative border border-gray-600/50 rounded-lg py-1.5 px-12"),children:[(0,x.jsxs)("div",{className:(0,a.A)("w-20 h-20 flex shrink-0 relative transition-opacity"),children:[i&&(0,x.jsx)("div",{className:(0,a.A)("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 rounded-full bg-green-500 animate-speaking",c?"w-[88px] h-[88px]":"w-[86px] h-[86px]")}),(0,x.jsx)(Yt.A,{width:80,height:80,className:"w-full h-full rounded-full object-cover z-20",src:t.avatar,name:t.name,alt:"avatar"})]}),r?(0,x.jsx)("div",{className:(0,a.A)("w-1 h-1 absolute z-40 rounded-full bg-green-700/60",c?"top-2 left-2":"top-1 left-1 px-2")}):null,!o&&(0,x.jsx)(v.A,{tip:"Remove pin",disabled:!c,placement:"right",children:(0,x.jsx)("button",{"data-uid":e,"data-action":c?"unpin":"pin",role:"button",onClick:h,className:(0,a.A)("absolute left-1 top-1 z-40 rounded bg-black/50",c?"px-2 py-0.5":"px-1 invisible group-hover:visible"),children:(0,x.jsx)(I.A,{className:(0,a.A)(c?"w-4 fill-green-600":"w-3 fill-gray-200")})})}),(0,x.jsx)("span",{className:(0,a.A)("text-gray-300 bg-black/50 rounded-lg absolute  z-40",c?"left-2 bottom-2 px-2 py-1 text-sm ":"left-1 bottom-1 p-1 text-xs"),title:null===t||void 0===t?void 0:t.name,children:null===t||void 0===t?void 0:t.name}),(0,x.jsx)("div",{className:(0,a.A)("flex items-center gap-2 absolute z-40 rounded bg-black/50",c?"bottom-2 right-2  px-2 py-0.5":"bottom-1 right-1 px-2"),children:l?(0,x.jsx)(ul,{className:(0,a.A)("fill-gray-200",c?"w-4":"w-3")}):(0,x.jsx)(vl,{className:(0,a.A)("fill-gray-200 ",c?"w-4":"w-3")})}),(0,x.jsx)("div",{id:`CAMERA_${e}`,className:(0,a.A)("absolute top-0 left-0 z-30 w-full h-full overflow-hidden m-auto",c?"":"rounded")})]},e)}))}),(0,x.jsx)("div",{className:"py-4 flex justify-center gap-2",children:(0,x.jsx)(kl,{id:e,context:t,mode:"fullscreen"})})]})};function ln(){var e;const t=(0,n.RQ)("/"),l=(0,n.RQ)("/chat"),[d,o]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),{channel_id:f=0,user_id:v=0}=(0,n.g)(),C=(0,r.GV)((e=>e.voice.callingTo),b.bN),y=(0,r.GV)((e=>f?e.footprint.channelAsides[+f]:e.footprint.dmAsides[e.voice.callingTo]),b.bN),N=(0,r.GV)((e=>e.authData.guest),b.bN),k=(0,r.GV)((e=>e.userMessage.ids),b.bN),A=0==v?void 0:-1==k.findIndex((e=>e==+v))?{mid:0,unread:0,id:+v,type:"dm"}:void 0,V=0==f&&0==v,M="voice_fullscreen"===y,L=0!=f&&"voice_fullscreen"!==y,_=0!=v&&"voice_fullscreen"!==y,E=t||l,I=0!==f?"channel":"dm",H=null!==(e=+f||C)&&void 0!==e?e:0;return(0,x.jsxs)(h,{children:[m&&(0,x.jsx)(c.A,{closeModal:()=>{u((e=>!e))},personal:!0}),p&&(0,x.jsx)(w.A,{closeModal:()=>{g((e=>!e))}}),(0,x.jsxs)("div",{className:(0,a.A)("flex h-screen md:h-full md:pt-2 md:pb-2.5 md:pr-1",N?"guest-container md:px-1":"md:pr-12"),children:[d&&(0,x.jsx)("div",{onClick:()=>{o((e=>!e))},className:"z-30 fixed top-0 left-4 w-screen h-screen bg-black/50 transition-all backdrop-blur-sm"}),(0,x.jsxs)("div",{className:(0,a.A)("left-container flex-col md:rounded-l-2xl w-full h-screen md:h-full md:max-w-[250px] md:min-w-[268px] shadow-[rgb(0_0_0_/_10%)_-1px_0px_0px_inset] bg-white dark:!bg-gray-800",E?"flex":"hidden md:flex"),children:[(0,x.jsx)(j,{readonly:N}),N?(0,x.jsx)(js,{}):(0,x.jsx)(en,{tempSession:A}),(0,x.jsx)(Es,{id:+H,context:I})]}),(0,x.jsxs)("div",{className:(0,a.A)("right-container md:rounded-r-2xl w-full bg-white dark:!bg-gray-700",V&&"h-full flex-center",E&&"hidden md:flex"),children:[M&&(0,x.jsx)(tn,{id:H,context:I}),V&&(N?(0,x.jsx)(fs,{}):(0,x.jsx)(i.A,{})),L&&(N?(0,x.jsx)(vs,{cid:+f}):(0,x.jsx)(us,{cid:+f})),_&&(0,x.jsx)(ps,{uid:+v})]})]})]})}const sn=(0,s.memo)(ln)},56164:(e,t,l)=>{l.d(t,{A:()=>c});var s,n,a=l(91118);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var s in l)({}).hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},r.apply(null,arguments)}const i=({title:e,titleId:t,...l},i)=>a.createElement("svg",r({width:6,height:6,viewBox:"0 0 6 6",fill:"black",xmlns:"http://www.w3.org/2000/svg",ref:i,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,s||(s=a.createElement("rect",{opacity:.01,width:6,height:6,fill:"#D8D8D8"})),n||(n=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.62506 1.64911C5.41795 1.4503 5.08216 1.45029 4.87506 1.64911L3.00003 3.44911L1.12506 1.64916C0.917951 1.45034 0.582164 1.45034 0.375057 1.64916C0.16795 1.84798 0.16795 2.17033 0.375057 2.36915L2.62506 4.52912C2.83217 4.72794 3.16795 4.72794 3.37506 4.52912C3.37665 4.5276 3.37822 4.52608 3.37977 4.52454L5.62506 2.36911C5.83216 2.17029 5.83216 1.84793 5.62506 1.64911Z",fillOpacity:.5}))),c=(0,a.forwardRef)(i)},71568:(e,t,l)=>{l.d(t,{A:()=>c});var s=l(91118),n=l(54377),a=l(40495),r=l(54286),i=l(45646);const c=({id:e=""})=>{const{favorites:t}=(0,n.A)({}),[l,c]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const l=t.find((t=>t.id==e)),{messages:s}=l||{};if(!s)return;const n=s.map((({from_mid:e})=>+e))||[];c((0,i.jsx)("div",{"data-favorite-mids":n.join(","),className:"favorite flex flex-col rounded-md bg-slate-50 dark:bg-slate-800",children:(0,i.jsx)("div",{className:"list",children:s.map(((e,t)=>{const{user:l={},download:s,content:n,content_type:c,properties:d,thumbnail:o}=e;return(0,i.jsxs)("div",{className:"w-full relative flex items-start gap-3 px-2 py-1 my-2 rounded-lg md:dark:hover:bg-gray-800",children:[l&&(0,i.jsx)("div",{className:"shrink-0 w-10 h-10 flex",children:(0,i.jsx)(a.A,{width:40,height:40,className:"rounded-full object-cover",src:l.avatar,name:l.name})}),(0,i.jsxs)("div",{className:"w-full flex flex-col gap-2 text-sm",children:[(0,i.jsx)("div",{className:"flex items-center gap-2 font-semibold",children:(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:(null===l||void 0===l?void 0:l.name)||"Deleted User"})}),(0,i.jsx)("div",{className:"select-text text-gray-800 break-all whitespace-pre-wrap dark:text-white",children:(0,r.A)({download:s,content:n,content_type:c,properties:d,thumbnail:o})})]})]},t)}))})}))}),[t,e]),e?l:null}},98534:(e,t,l)=>{l.d(t,{A:()=>m});var s=l(91118),n=l(90184),a=l(23558),r=l(86938),i=l(11701),c=l(36421),d=l(68702),o=l(95351),x=l(45646);const m=({id:e,closeModal:t})=>{const{t:l}=(0,a.Bd)("setting"),{t:m}=(0,a.Bd)(),h=(0,r.Zp)(),[u,{isLoading:p,isSuccess:g}]=(0,i.eN)();return(0,s.useEffect)((()=>{g&&(n.Ay.success(m("tip.delete")),t(),h("/chat"))}),[g]),e?(0,x.jsx)(c.A,{id:"modal-modal",children:(0,x.jsx)(o.A,{compact:!0,title:l("channel.delete"),description:l("channel.delete_desc"),buttons:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.A,{onClick:t.bind(null,void 0),className:"cancel",children:m("action.cancel")}),(0,x.jsx)(d.A,{onClick:()=>{u(e)},className:"danger",children:p?"Deleting":m("action.remove")})]})})}):null}}}]);