"use strict";(globalThis.webpackChunkvocechat_web=globalThis.webpackChunkvocechat_web||[]).push([[648],{17648:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(91118),s=l(66514),r=l(32639),i=l(28512),n=l(14313),c=l(23558),o=l(6858),d=l(89341),m=l(94909),x=l(15710),u=l(83679),p=l(45646);const g=({select:e=0,updateFilter:t})=>{const{channels:l}=(0,x.A)(),a=e=>{t({gid:e})};return(0,p.jsx)("div",{className:"rounded-lg p-1 pt-0 bg-white dark:bg-gray-800 overflow-auto max-h-[400px] flex flex-col items-start relative drop-shadow",children:(0,p.jsxs)("ul",{className:"w-full min-w-48 flex flex-col gap-4 p-2",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2",onClick:a.bind(null,void 0),children:[(0,p.jsx)(m.A,{}),(0,p.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm",children:"Any Channel"}),!e&&(0,p.jsx)(u.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),l.map((({gid:t,is_public:l,name:s})=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 justify-between",onClick:a.bind(null,t),children:[(0,p.jsx)(m.A,{personal:!l}),(0,p.jsx)("span",{className:"text-gray-500 dark:text-gray-100 font-semibold text-sm flex-1",children:s}),e==t&&(0,p.jsx)(u.A,{className:""})]},t)))]})})},f={Day1:{title:"Last 24 Hours"},Day7:{title:"Last 7 Days"},Day30:{title:"Last 30 Days"},Day90:{title:"Last 3 months"},Day180:{title:"Last 6 months"}},h=({select:e="",updateFilter:t})=>{const l=e=>{t({creation_time_type:e})};return(0,p.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[200px] overflow-auto rounded-lg flex flex-col items-start relative drop-shadow",children:(0,p.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,void 0),children:["Any Time",!e&&(0,p.jsx)(u.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(f).map((([t,{title:a}])=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,t),children:[a,e==t&&(0,p.jsx)(u.A,{className:"absolute right-0 -top-1/2 -translate-y-1/2"})]},a)))]})})};var b=l(81256),y=l(6288),j=l(86161),v=l(13796),w=l(18423);const N={Doc:{title:"Documents",icon:(0,p.jsx)(y.A,{className:"w-4 h-auto"})},PDF:{title:"PDFs",icon:(0,p.jsx)(v.A,{className:"w-4 h-auto"})},Image:{title:"Images",icon:(0,p.jsx)(j.A,{className:"w-4 h-auto"})},Audio:{title:"Audio",icon:(0,p.jsx)(b.A,{className:"w-4 h-auto"})},Video:{title:"Videos",icon:(0,p.jsx)(w.A,{className:"w-4 h-auto"})}},k=({select:e="",updateFilter:t})=>{const l=e=>{t({file_type:e})};return(0,p.jsx)("div",{className:"p-3 bg-white dark:bg-gray-800 min-w-[180px] overflow-auto shadow-md rounded-lg flex flex-col items-start relative",children:(0,p.jsxs)("ul",{className:"w-full flex flex-col gap-4",children:[(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-4 text-gray-500 dark:text-gray-300 font-semibold text-sm",onClick:l.bind(null,""),children:["Any Type",!e&&(0,p.jsx)(u.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]}),Object.entries(N).map((([t,{title:a,icon:s}])=>(0,p.jsxs)("li",{className:"relative cursor-pointer flex items-center gap-2 text-sm text-gray-500 dark:text-gray-300 font-semibold",onClick:l.bind(null,t),children:[s," ",a,e==t&&(0,p.jsx)(u.A,{className:"absolute right-0 top-1/2 -translate-y-1/2"})]},a)))]})})};var _=l(31210);const A=e=>(0,s.A)("cursor-pointer flex items-center gap-1 md:gap-2 shadow rounded-lg p-1 md:py-2 md:px-3 text-xs text-gray-900 dark:text-gray-200",e?"text-white bg-primary-400":"border border-solid border-gray-300 dark:border-gray-400 ");function C({filter:e,updateFilter:t}){const{t:l}=(0,c.Bd)("file"),[s,r]=(0,a.useState)({gid:!1,creation_time_type:!1,uid:!1,file_type:!1}),n=e=>{r((t=>({...t,...e})))},m=e=>{t(e);let l=Object.keys(e)[0];n({[l]:!1})},x=((0,i.GV)((e=>e.users.byId),_.bN),(0,i.GV)((e=>e.channels.byId),_.bN)),{uid:u,gid:b,file_type:y,creation_time_type:j}=e,{gid:v,creation_time_type:w,file_type:C,uid:O}=s;return(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)(o.Ay,{interactive:!0,onClickOutside:n.bind(null,{gid:!1}),visible:v,placement:"bottom-start",content:(0,p.jsx)(g,{select:e.gid,updateFilter:m}),children:(0,p.jsxs)("div",{className:A(b),onClick:n.bind(null,{gid:!0}),children:[(0,p.jsx)("span",{className:"txt",children:b?`In ${x[b].name}`:l("channel")}),(0,p.jsx)(d.A,{className:"dark:stroke-gray-100"})]})}),(0,p.jsx)(o.Ay,{interactive:!0,onClickOutside:n.bind(null,{file_type:!1}),visible:C,placement:"bottom-start",content:(0,p.jsx)(k,{select:e.file_type,updateFilter:m}),children:(0,p.jsxs)("div",{className:A(y),onClick:n.bind(null,{file_type:!0}),children:[(0,p.jsx)("span",{className:"txt",children:y?N[y].title:l("type")}),(0,p.jsx)(d.A,{className:"dark:stroke-gray-100"})]})}),(0,p.jsx)(o.Ay,{interactive:!0,onClickOutside:n.bind(null,{creation_time_type:!1}),visible:w,placement:"bottom-start",content:(0,p.jsx)(h,{select:e.creation_time_type,updateFilter:m}),children:(0,p.jsxs)("div",{className:A(j),onClick:n.bind(null,{creation_time_type:!0}),children:[(0,p.jsx)("span",{className:"txt",children:j?f[j].title:l("date")}),(0,p.jsx)(d.A,{className:"dark:stroke-gray-100"})]})})]})}var O=l(46598);const D=({value:e="",updateSearchValue:t=null,embed:l=!1})=>{const{t:a}=(0,c.Bd)();return(0,p.jsxs)("div",{className:(0,s.A)("hidden md:block relative w-full py-1.5 px-4 shadow",l&&"py-2 shadow-none"),children:[(0,p.jsx)(O.A,{className:"absolute left-6 top-1/2 -translate-y-1/2"}),(0,p.jsx)("input",{value:e,onChange:e=>{t&&t(e.target.value)},className:"bg-black/5 dark:bg-black/20 rounded-full text-sm text-gray-500 py-2.5 pl-9",placeholder:`${a("action.search")}...`})]})};var L=l(74671),F=l(81346),E=l(32038);const V=e=>(0,s.A)("cursor-pointer p-2 box-border flex-center",e&&"border border-solid border-primary-400 shadow rounded-lg");function I({view:e="item"}){const t=(0,_.wA)(),l=l=>{const{view:a}=l.currentTarget.dataset;a!=e&&t((0,L.PU)("item"==e?"grid":"item"))},a="grid"==e;return(0,p.jsxs)("ul",{className:"hidden md:flex border border-solid dark:border-gray-400 shadow rounded-lg box-border",children:[(0,p.jsx)("li",{className:V(!a),"data-view":"item",onClick:l,children:(0,p.jsx)(E.A,{className:(a?"":"fill-primary-400")+" dark:fill-gray-400"})}),(0,p.jsx)("li",{className:V(a),"data-view":"grid",onClick:l,children:(0,p.jsx)(F.A,{className:(a?"fill-primary-400":"")+" dark:fill-gray-400"})})]})}var P=l(69259);const S=function(){const[e,{data:t,isLoading:l}]=(0,P.lP)(),c=(0,a.useRef)(),[o,d]=(0,a.useState)({}),m=(0,i.GV)((e=>e.ui.fileListView),_.bN);if((0,a.useEffect)((()=>{const t=Object.fromEntries(Object.entries(o).filter((([e,t])=>!!t)));e(t)}),[o]),!t)return null;const x=[...t.filter((e=>!e.expired)).sort(((e,t)=>t.created_at-e.created_at))];return(0,p.jsxs)("div",{className:"h-screen md:overflow-y-scroll flex flex-col items-start my-5 mr-6 pb-8 rounded-2xl bg-white dark:bg-gray-700",children:[(0,p.jsx)(D,{value:o.name,updateSearchValue:e=>{d((t=>({...t,name:e})))}}),(0,p.jsxs)("div",{className:"flex justify-between w-full px-4 py-5",children:[(0,p.jsx)(C,{filter:o,updateFilter:e=>{d((t=>({...t,...e})))}}),(0,p.jsx)(I,{view:m})]}),(0,p.jsx)("div",{className:(0,s.A)("h-full w-fit px-4 overflow-y-scroll no-scrollbar gap-4","item"==m&&"flex flex-col","grid"==m&&"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"),ref:c,children:x.map((e=>{const{mid:t,thumbnail:l,content:a,created_at:s,from_uid:i,properties:c}=e,{name:o,content_type:d,size:x}=c?JSON.parse(c):{},u=`${r.Ay}/resource/file?file_path=${encodeURIComponent(l||a)}`;return(0,p.jsx)(n.A,{cla:!0,preview:"grid"==m,flex:"item"==m,file_type:d,content:u,created_at:s,from_uid:i,size:x,name:o},t)}))})]})}},83679:(e,t,l)=>{l.d(t,{A:()=>c});var a,s,r=l(91118);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},i.apply(null,arguments)}const n=({title:e,titleId:t,...l},n)=>r.createElement("svg",i({width:16,height:12,viewBox:"0 0 16 12",fill:"#78787C",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,a||(a=r.createElement("g",{clipPath:"url(#clip0_9046_23916)"},r.createElement("path",{d:"M4.93942 9.69781L1.62578 6.38648C1.25336 6.01431 0.651746 6.01431 0.27932 6.38648C-0.0931066 6.75865 -0.0931066 7.35984 0.27932 7.73201L4.27096 11.7209C4.64339 12.093 5.245 12.093 5.61743 11.7209L15.7207 1.62465C16.0931 1.25248 16.0931 0.651292 15.7207 0.279125C15.3483 -0.0930417 14.7466 -0.0930417 14.3742 0.279125L4.93942 9.69781Z"}))),s||(s=r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_9046_23916"},r.createElement("rect",{width:16,height:12,fill:"white"}))))),c=(0,r.forwardRef)(n)}}]);